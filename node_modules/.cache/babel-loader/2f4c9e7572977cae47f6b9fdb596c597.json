{"ast":null,"code":"var _jsxFileName = \"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/src/recruiter/jobDescription/videoHistory.js\";\nimport React, { Component } from 'react';\nimport Header from '../header/header';\nimport SideBar from '../header/sidebar'; // import {\n//   Button,\n//   Media,\n//   Row,\n//   Col,\n//   FormControl,\n//   InputGroup\n// } from 'react-bootstrap';\n\nimport { Modal, DropdownButton, MenuItem } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux'; //import { ToastContainer } from 'react-toastify';\n\nimport Slider from 'react-slick';\nimport _ from 'lodash';\nimport S3FileUpload from 'react-s3';\nimport VideoPlayer from 'react-video-js-player'; //import Summary from './summary/addSummary';\n\nimport ShowVideo from '../jobDescription/showVideo'; //import CompetencyRecommendations from '../profile/competency/recommendations/competencyWiseRecommendations';\n\nimport ImageCropper from '../../common/cropper/imageCropper';\nimport DownloadLink from \"react-download-link\"; //import Img from '../../common/cropper/img';\n\nimport { showErrorToast, uploadToAzure, limitCharacter, SampleNextArrow, SamplePrevArrow, getThumbImage } from '../../common/commonFunctions';\nimport theRapidHireApiService from '../../common/core/api/apiService';\nimport CONSTANTS from '../../common/core/config/appConfig';\nimport { actionGetStudentPersonalInfo, actionGetAllCompetency, actionGetAchievementsByUser, actionGetRecommendationsByUser, actionUpdateUserInfo, actionGetAchievementsData } from '../../common/core/redux/actions';\nimport achievementDefaultImage from '../../assets/img/default_achievement.jpg';\nimport SpiderChart from '../../common/spiderChart/spiderChart';\nvar settings = {\n  dots: false,\n  infinite: false,\n  speed: 500,\n  slidesToShow: 3,\n  swipeToSlide: true,\n  nextArrow: React.createElement(SampleNextArrow, {\n    props: this.props,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }),\n  prevArrow: React.createElement(SamplePrevArrow, {\n    props: this.props,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }),\n  responsive: [{\n    breakpoint: 1024,\n    settings: {\n      slidesToShow: 3,\n      slidesToScroll: 3,\n      infinite: true,\n      dots: true\n    }\n  }, {\n    breakpoint: 600,\n    settings: {\n      slidesToShow: 2,\n      slidesToScroll: 2,\n      initialSlide: 2\n    }\n  }, {\n    breakpoint: 480,\n    settings: {\n      slidesToShow: 1,\n      slidesToScroll: 1\n    }\n  }]\n};\nconst hasGetUserMedia = !!(navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia);\n\nclass VideoHistory extends Component {\n  constructor(props, context) {\n    super(props);\n    this.state = {\n      video: {\n        src: \"http://www.example.com/path/to/video.mp4\",\n        poster: \"http://www.example.com/path/to/video_poster.jpg\"\n      },\n      showJobDescriptionComponent: false,\n      jobDescriptionDetail: {},\n      loader1: false,\n      loader2: false,\n      jobDescriptionListData: [],\n      userData: {},\n      showDropdown: false,\n      isActive: 'true',\n      contentEditable: false,\n      editName: false,\n      name: '',\n      editTagLine: false,\n      showVideo: false\n    };\n    var wRegion = \"ap-south-1\";\n    var poolid = 'ap-south-1:5075a328-2598-4e55-ba57-d4b60ed9548c';\n    var s3bucketName = \"ankurself\";\n    var audioPath = \"/audio-files\";\n    var s3bucketName = \"ankurself\";\n    var audioPath = \"/audio-files\";\n    var audioStoreWithBucket = s3bucketName + audioPath; //AudioStream = new AudioStream(wRegion,poolid,s3bucketName+audioPath)\n\n    this.region = \"ap-south-1\"; //s3 region\n\n    this.IdentityPoolId = 'ap-south-1:5075a328-2598-4e55-ba57-d4b60ed9548c'; //identity pool id\n\n    this.bucketName = audioStoreWithBucket; //audio file store\n\n    this.s3; //variable defination for s3\n\n    this.dateinfo = new Date();\n    this.timestampData = this.dateinfo.getTime(); //timestamp used for file uniqueness\n\n    this.etag = []; // etag is used to save the parts of the single upload file\n\n    this.recordedChunks = []; //empty Array\n\n    this.booleanStop = false; // this is for final multipart complete\n\n    this.incr = 0; // multipart requires incremetal so that they can merge all parts by ascending order\n\n    this.filename = this.timestampData.toString() + \".webm\"; //unique filename\n\n    this.uploadId = \"\"; // upload id is required in multipart\n\n    this.recorder; //initializing recorder variable\n\n    this.player; //To use microphone it shud be {audio: true}\n\n    this.audioConstraints = {\n      //  audio: true,\n      video: true\n    };\n  }\n\n  componentWillMount() {\n    //let userId = this.props.user.userId;\n    document.body.classList.add('light-theme');\n    document.body.classList.add('absoluteHeader');\n    document.body.classList.remove('home');\n    document.body.classList.remove('fixedHeader');\n    console.log(this.props.location);\n    this.getSlotDetails(this.props.location.state.userId);\n  }\n\n  getSlotDetails(userId) {\n    theRapidHireApiService('getTimeSlotByUser', {\n      userId\n    }).then(response => {\n      if (response.data.status === 'Success') {\n        console.log(response);\n        let slotVideoData = response.data.result[0];\n        let videoLinkInterviewer = slotVideoData.videoChatLinkInterviewer;\n        let videoLinkUser = slotVideoData.videoChatLinkUser; //     let bookedSlotData=[];\n        //     bookedSlotData = response.data.result;\n\n        this.setState({\n          videoLinkInterviewer,\n          videoLinkUser\n        });\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  componentWillReceiveProps(res) {}\n\n  componentDidMount() {\n    if (!hasGetUserMedia) {\n      alert(\"Your browser cannot stream from your webcam. Please switch to Chrome or Firefox.\");\n      return;\n    }\n\n    const script = document.createElement(\"script\");\n    script.src = \"https://cdn.rawgit.com/mattdiamond/Recorderjs/08e7abd9/dist/recorder.js\";\n    script.async = true;\n    document.body.appendChild(script);\n\n    if (this.props.student.achievementData) {\n      console.log(this.props.student.achievementData);\n    }\n  }\n\n  onPlayerReady(player) {\n    console.log(\"Player is ready: \", player);\n    this.player = player;\n  }\n\n  onVideoPlay(duration) {\n    console.log(\"Video played at: \", duration);\n  }\n\n  onVideoPause(duration) {\n    console.log(\"Video paused at: \", duration);\n  }\n\n  onVideoTimeUpdate(duration) {\n    console.log(\"Time updated: \", duration);\n  }\n\n  onVideoSeeking(duration) {\n    console.log(\"Video seeking: \", duration);\n  }\n\n  onVideoSeeked(from, to) {\n    console.log(\"Video seeked from \".concat(from, \" to \").concat(to));\n  }\n\n  onVideoEnd() {\n    console.log(\"Video ended\");\n  }\n\n  render() {\n    const videoConstraints = {\n      facingMode: \"user\"\n    };\n    return React.createElement(\"div\", {\n      className: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, React.createElement(Header, Object.assign({}, this.props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"main-panel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, React.createElement(VideoPlayer, {\n      controls: true,\n      src: this.state.videoLinkInterviewer,\n      poster: this.state.video.poster,\n      width: \"720\",\n      height: \"420\",\n      onReady: this.onPlayerReady.bind(this),\n      onPlay: this.onVideoPlay.bind(this),\n      onPause: this.onVideoPause.bind(this),\n      onTimeUpdate: this.onVideoTimeUpdate.bind(this),\n      onSeeking: this.onVideoSeeking.bind(this),\n      onSeeked: this.onVideoSeeked.bind(this),\n      onEnd: this.onVideoEnd.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }), React.createElement(VideoPlayer, {\n      controls: true,\n      src: this.state.videoChatLinkUser,\n      poster: this.state.video.poster,\n      width: \"720\",\n      height: \"420\",\n      onReady: this.onPlayerReady.bind(this),\n      onPlay: this.onVideoPlay.bind(this),\n      onPause: this.onVideoPause.bind(this),\n      onTimeUpdate: this.onVideoTimeUpdate.bind(this),\n      onSeeking: this.onVideoSeeking.bind(this),\n      onSeeked: this.onVideoSeeked.bind(this),\n      onEnd: this.onVideoEnd.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.User.userData,\n    parent: state.User.parentData,\n    student: state.Student\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    actionGetStudentPersonalInfo,\n    actionGetAllCompetency,\n    actionGetAchievementsByUser,\n    actionGetRecommendationsByUser,\n    actionUpdateUserInfo,\n    actionGetAchievementsData\n  }, dispatch);\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VideoHistory);","map":{"version":3,"sources":["/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/src/recruiter/jobDescription/videoHistory.js"],"names":["React","Component","Header","SideBar","Modal","DropdownButton","MenuItem","connect","bindActionCreators","Slider","_","S3FileUpload","VideoPlayer","ShowVideo","ImageCropper","DownloadLink","showErrorToast","uploadToAzure","limitCharacter","SampleNextArrow","SamplePrevArrow","getThumbImage","theRapidHireApiService","CONSTANTS","actionGetStudentPersonalInfo","actionGetAllCompetency","actionGetAchievementsByUser","actionGetRecommendationsByUser","actionUpdateUserInfo","actionGetAchievementsData","achievementDefaultImage","SpiderChart","settings","dots","infinite","speed","slidesToShow","swipeToSlide","nextArrow","props","prevArrow","responsive","breakpoint","slidesToScroll","initialSlide","hasGetUserMedia","navigator","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","VideoHistory","constructor","context","state","video","src","poster","showJobDescriptionComponent","jobDescriptionDetail","loader1","loader2","jobDescriptionListData","userData","showDropdown","isActive","contentEditable","editName","name","editTagLine","showVideo","wRegion","poolid","s3bucketName","audioPath","audioStoreWithBucket","region","IdentityPoolId","bucketName","s3","dateinfo","Date","timestampData","getTime","etag","recordedChunks","booleanStop","incr","filename","toString","uploadId","recorder","player","audioConstraints","componentWillMount","document","body","classList","add","remove","console","log","location","getSlotDetails","userId","then","response","data","status","slotVideoData","result","videoLinkInterviewer","videoChatLinkInterviewer","videoLinkUser","videoChatLinkUser","setState","catch","err","componentWillReceiveProps","res","componentDidMount","alert","script","createElement","async","appendChild","student","achievementData","onPlayerReady","onVideoPlay","duration","onVideoPause","onVideoTimeUpdate","onVideoSeeking","onVideoSeeked","from","to","onVideoEnd","render","videoConstraints","facingMode","bind","mapStateToProps","user","User","parent","parentData","Student","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Header from '../header/header';\nimport SideBar from '../header/sidebar';\n// import {\n//   Button,\n//   Media,\n//   Row,\n//   Col,\n//   FormControl,\n//   InputGroup\n// } from 'react-bootstrap';\nimport { Modal, DropdownButton, MenuItem } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\n//import { ToastContainer } from 'react-toastify';\nimport Slider from 'react-slick';\nimport _ from 'lodash';\nimport S3FileUpload from 'react-s3';\n\nimport VideoPlayer from 'react-video-js-player';\n//import Summary from './summary/addSummary';\nimport ShowVideo from '../jobDescription/showVideo';\n\n//import CompetencyRecommendations from '../profile/competency/recommendations/competencyWiseRecommendations';\nimport ImageCropper from '../../common/cropper/imageCropper';\nimport DownloadLink from \"react-download-link\";\n//import Img from '../../common/cropper/img';\nimport {\n  showErrorToast,\n  uploadToAzure,\n  limitCharacter,\n  SampleNextArrow,\n  SamplePrevArrow,\n  getThumbImage\n} from '../../common/commonFunctions';\nimport theRapidHireApiService from '../../common/core/api/apiService';\nimport CONSTANTS from '../../common/core/config/appConfig';\n\nimport {\n  actionGetStudentPersonalInfo,\n  actionGetAllCompetency,\n  actionGetAchievementsByUser,\n  actionGetRecommendationsByUser,\n  actionUpdateUserInfo,\n  actionGetAchievementsData\n} from '../../common/core/redux/actions';\nimport achievementDefaultImage from '../../assets/img/default_achievement.jpg';\nimport SpiderChart from '../../common/spiderChart/spiderChart';\n\n\n\nvar settings = {\n  dots: false,\n  infinite: false,\n  speed: 500,\n  slidesToShow: 3,\n  swipeToSlide: true,\n  nextArrow: <SampleNextArrow props={this.props} />,\n  prevArrow: <SamplePrevArrow props={this.props} />,\n  responsive: [\n    {\n      breakpoint: 1024,\n      settings: {\n        slidesToShow: 3,\n        slidesToScroll: 3,\n        infinite: true,\n        dots: true\n      }\n    },\n    {\n      breakpoint: 600,\n      settings: {\n        slidesToShow: 2,\n        slidesToScroll: 2,\n        initialSlide: 2\n      }\n    },\n    {\n      breakpoint: 480,\n      settings: {\n        slidesToShow: 1,\n        slidesToScroll: 1\n      }\n    }\n  ]\n};\n\nconst hasGetUserMedia = !!(navigator.getUserMedia || navigator.webkitGetUserMedia ||\n    navigator.mozGetUserMedia || navigator.msGetUserMedia);\n\nclass VideoHistory extends Component {\n  constructor(props, context) {\n    super(props);\n   \n    this.state = {  \n        video: {\n            src: \"http://www.example.com/path/to/video.mp4\",\n            poster: \"http://www.example.com/path/to/video_poster.jpg\"\n        },    \n      showJobDescriptionComponent: false,      \n      jobDescriptionDetail: {},        \n     \n      loader1: false,\n      loader2: false,      \n      jobDescriptionListData: [],     \n      userData:{},     \n      showDropdown: false,     \n      isActive: 'true',     \n      contentEditable: false,\n      editName: false,\n      name: '',\n      editTagLine: false,\n      showVideo:false\n    };\n    var wRegion = \"ap-south-1\";\n    var poolid = 'ap-south-1:5075a328-2598-4e55-ba57-d4b60ed9548c';\n    var s3bucketName = \"ankurself\";\n    var audioPath = \"/audio-files\";\n    var s3bucketName = \"ankurself\";\n    var audioPath = \"/audio-files\";\n    var audioStoreWithBucket=s3bucketName+audioPath;\n    //AudioStream = new AudioStream(wRegion,poolid,s3bucketName+audioPath)\n\n    this.region = \"ap-south-1\"; //s3 region\n    this.IdentityPoolId = 'ap-south-1:5075a328-2598-4e55-ba57-d4b60ed9548c'; //identity pool id\n    this.bucketName = audioStoreWithBucket; //audio file store\n    this.s3; //variable defination for s3\n    this.dateinfo = new Date();\n    this.timestampData = this.dateinfo.getTime(); //timestamp used for file uniqueness\n    this.etag = []; // etag is used to save the parts of the single upload file\n    this.recordedChunks = []; //empty Array\n    this.booleanStop = false; // this is for final multipart complete\n    this.incr = 0; // multipart requires incremetal so that they can merge all parts by ascending order\n    this.filename = this.timestampData.toString() + \".webm\"; //unique filename\n    this.uploadId = \"\"; // upload id is required in multipart\n    this.recorder; //initializing recorder variable\n    this.player;\n    //To use microphone it shud be {audio: true}\n    this.audioConstraints = {\n      //  audio: true,\n        video: true\n    };\n\n  }\n\n  componentWillMount() {\n    //let userId = this.props.user.userId;\n    \n    document.body.classList.add('light-theme');\n    document.body.classList.add('absoluteHeader');\n    document.body.classList.remove('home');\n    document.body.classList.remove('fixedHeader');\n    console.log(this.props.location);\n    this.getSlotDetails(this.props.location.state.userId);\n  }\n\n\n  getSlotDetails(userId){   \n    theRapidHireApiService('getTimeSlotByUser',{userId})\n    .then(response => {     \n      if (response.data.status === 'Success') {\n        console.log(response);\n        let slotVideoData = response.data.result[0];\n        let videoLinkInterviewer= slotVideoData.videoChatLinkInterviewer;\n        let videoLinkUser= slotVideoData.videoChatLinkUser;\n    //     let bookedSlotData=[];\n    //     bookedSlotData = response.data.result;\n      this.setState({videoLinkInterviewer,videoLinkUser});\n      }\n     \n    })\n    .catch(err => {\n      console.log(err);\n    });\n  }\n\n  componentWillReceiveProps(res) {\n  \n  }\n\n  componentDidMount() {\n\n     if(!hasGetUserMedia) {\n      alert(\"Your browser cannot stream from your webcam. Please switch to Chrome or Firefox.\");\n      return;\n    }\n    const script = document.createElement(\"script\");\n\n    script.src = \"https://cdn.rawgit.com/mattdiamond/Recorderjs/08e7abd9/dist/recorder.js\";\n    script.async = true;\n\n    document.body.appendChild(script)\n    if (this.props.student.achievementData) {\n      console.log(this.props.student.achievementData);\n    }\n\n  }\n\n \n\n  onPlayerReady(player){\n    console.log(\"Player is ready: \", player);\n    this.player = player;\n}\n\nonVideoPlay(duration){\n    console.log(\"Video played at: \", duration);\n}\n\nonVideoPause(duration){\n    console.log(\"Video paused at: \", duration);\n}\n\nonVideoTimeUpdate(duration){\n    console.log(\"Time updated: \", duration);\n}\n\nonVideoSeeking(duration){\n    console.log(\"Video seeking: \", duration);\n}\n\nonVideoSeeked(from, to){\n    console.log(`Video seeked from ${from} to ${to}`);\n}\n\nonVideoEnd(){\n    console.log(\"Video ended\");\n}\n\n\n\n  render() {\n    const videoConstraints = {\n        facingMode: \"user\"\n      };\n    return (\n        <div className=\"wrapper\">\n        <Header {...this.props} />     \n          <div className=\"main-panel\">   \n        <div>\n                  <VideoPlayer\n                    controls={true}\n                    src={this.state.videoLinkInterviewer}\n                    poster={this.state.video.poster}\n                    width=\"720\"\n                    height=\"420\"\n                    onReady={this.onPlayerReady.bind(this)}\n                    onPlay={this.onVideoPlay.bind(this)}\n                    onPause={this.onVideoPause.bind(this)}\n                    onTimeUpdate={this.onVideoTimeUpdate.bind(this)}\n                    onSeeking={this.onVideoSeeking.bind(this)}\n                    onSeeked={this.onVideoSeeked.bind(this)}\n                    onEnd={this.onVideoEnd.bind(this)}\n                />  \n\n                  <VideoPlayer\n                    controls={true}\n                    src={this.state.videoChatLinkUser}\n                    poster={this.state.video.poster}\n                    width=\"720\"\n                    height=\"420\"\n                    onReady={this.onPlayerReady.bind(this)}\n                    onPlay={this.onVideoPlay.bind(this)}\n                    onPause={this.onVideoPause.bind(this)}\n                    onTimeUpdate={this.onVideoTimeUpdate.bind(this)}\n                    onSeeking={this.onVideoSeeking.bind(this)}\n                    onSeeked={this.onVideoSeeked.bind(this)}\n                    onEnd={this.onVideoEnd.bind(this)}\n                />  \n            \n            </div>\n        </div>    \n     \n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    user: state.User.userData,\n    parent: state.User.parentData,\n    student: state.Student\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators(\n    {\n      actionGetStudentPersonalInfo,\n      actionGetAllCompetency,\n      actionGetAchievementsByUser,\n      actionGetRecommendationsByUser,\n      actionUpdateUserInfo,\n      actionGetAchievementsData\n    },\n    dispatch\n  );\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(VideoHistory);\n"]},"metadata":{},"sourceType":"module"}