{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\Ankur\\\\Desktop\\\\therapidhire\\\\therapidhireui\\\\TheRapidHireUI\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\Ankur\\\\Desktop\\\\therapidhire\\\\therapidhireui\\\\TheRapidHireUI\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Ankur\\\\Desktop\\\\therapidhire\\\\therapidhireui\\\\TheRapidHireUI\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Ankur\\\\Desktop\\\\therapidhire\\\\therapidhireui\\\\TheRapidHireUI\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Ankur\\\\Desktop\\\\therapidhire\\\\therapidhireui\\\\TheRapidHireUI\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\Users\\\\Ankur\\\\Desktop\\\\therapidhire\\\\therapidhireui\\\\TheRapidHireUI\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Ankur\\\\Desktop\\\\therapidhire\\\\therapidhireui\\\\TheRapidHireUI\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import validation from'react-validation-mixin';import strategy from'react-validatorjs-strategy';import classnames from'classnames';import theRapidHireApiService from'../../common/core/api/apiService';import{connect}from'react-redux';import{bindActionCreators}from'redux';import{actionGetStudentList}from'../../common/core/redux/actions';import{actionSetStudentAsUser}from'../../common/core/redux/actions';import{Button,Modal,Form,FormGroup,Col,ControlLabel,FormControl}from'react-bootstrap';import{renderMessage,setLocalStorage,showSuccessToast,showErrorToast}from'../../common/commonFunctions';import CONSTANTS from'../../common/core/config/appConfig';var validationMessages=CONSTANTS.validationMessages;var regExpressions=CONSTANTS.regExpressions;var AddMoreStudent=/*#__PURE__*/function(_Component){_inherits(AddMoreStudent,_Component);function AddMoreStudent(props,context){var _this;_classCallCheck(this,AddMoreStudent);_this=_possibleConstructorReturn(this,_getPrototypeOf(AddMoreStudent).call(this,props,context));_this.getValidatorData=function(){return _this.state;};_this.getClasses=function(field){return classnames({error:!_this.props.isValid(field)});};_this.validateData=function(){var self=_assertThisInitialized(_this);_this.props.validate(function(error){console.log('error',error);if(!error){self.setState({isLoading:true});self.handleSubmit();}});};_this.handleChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.submitData=function(event){if(event.key==='Enter'){event.preventDefault();_this.validateData();}};_this.existMail=function(event){var students=_this.state.user.students;var studentMailList=_this.state.studentMailList;var self=_assertThisInitialized(_this);if(event.target.value==='')return false;};_this.state={firstName:'',lastName:'',isLoading:false,studentMailList:[{email:''}],streetAddress1:'',streetAddress2:'',city:'',state:'',country:'',zipcode:''};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));//  this.handleAddMail = this.handleAddMail.bind(this);\n_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.getValidatorData=_this.getValidatorData.bind(_assertThisInitialized(_this));_this.getClasses=_this.getClasses.bind(_assertThisInitialized(_this));_this.addStudentModelFun=_this.addStudentModelFun.bind(_assertThisInitialized(_this));_this.validatorTypes=strategy.createSchema({firstName:['required','regex:'+regExpressions.alphaOnly],lastName:['regex:'+regExpressions.alphaOnly],email:'required|email'},{'required.firstName':validationMessages.firstName.required,'regex.firstName':validationMessages.firstName.alphaOnly,'regex.lastName':validationMessages.lastName.alphaOnly,'required.email':validationMessages.email.required,'email.email':validationMessages.email.invalid});return _this;}_createClass(AddMoreStudent,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.parent){this.props.parent['token']=this.props.user['token'];}if(this.props.user){var user=this.props.parent?this.props.parent:this.props.user;this.setState({user:user,parentFirstName:user.firstName,parentLastName:user.lastName});if(this.props.user){this.setState({addStudentModel:this.props.addStudentModel});}}}},{key:\"handleSubmit\",value:function handleSubmit(){var self=this;var createdBy=this.state.user.userId;var roleId=1;var firstName=this.state.firstName;var lastName=this.state.lastName;var isActive=this.state.user.isActive;var email=this.state.email;console.log('state ',this.state);var data={userId:'',firstName:firstName,lastName:lastName,email:email,roleId:roleId,createdBy:createdBy};theRapidHireApiService('signupUser',data).then(function(response1){self.setState({isLoading:false});}).catch(function(err){console.log(err);});}},{key:\"addStudentModelFun\",value:function addStudentModelFun(){this.setState({addStudentModel:this.state.addStudentModel});this.props.closeAddStudentModel();}},{key:\"render\",value:function render(){var self=this;var isLoading=this.state.isLoading;var cssClasses={root:'input-group mb-1',input:'form-control'};var inputProps={value:this.state.streetAddress1,onChange:this.onChange,placeholder:'Street Address1',type:'text'};var defaultStyles={root:{position:'relative',paddingBottom:'0px'},input:{display:'inline-block',width:'100%',padding:'10px'},autocompleteContainer:{position:'absolute',top:'100%',backgroundColor:'white',border:'1px solid #555555',width:'100%'},autocompleteItem:{backgroundColor:'#ffffff',padding:'10px',color:'#555555',cursor:'pointer'},autocompleteItemActive:{backgroundColor:'#fafafa'}};return React.createElement(\"div\",null,React.createElement(Modal//   bsSize=\"medium\"\n,{show:this.state.addStudentModel,onHide:this.addStudentModelFun,backdrop:\"static\",keyboard:false},React.createElement(Modal.Header,{closeButton:true},React.createElement(Modal.Title,{className:\"subtitle text-center\"},\"Add New Candidate\")),React.createElement(Modal.Body,null,React.createElement(Form,{horizontal:true,className:\"lightBgForm\"},React.createElement(Col,{sm:12},React.createElement(FormGroup,{className:\"centeredRightLabel \".concat(this.getClasses('firstName'))},React.createElement(Col,{sm:4},\"First Name\"),React.createElement(Col,{sm:8},React.createElement(FormControl,{type:\"text\",name:\"firstName\",placeholder:\"First Name\",value:this.state.firstName//     onBlur={self.checkStudentName.bind(self, index)}\n,onChange:self.handleChange.bind(self),autoComplete:\"off\",maxLength:\"35\"}),renderMessage(this.props.getValidationMessages('firstName')))),React.createElement(FormGroup,{className:\"centeredRightLabel \".concat(this.getClasses('lastName'))},React.createElement(Col,{sm:4},\"Last Name\"),React.createElement(Col,{sm:8},React.createElement(FormControl,{type:\"text\",name:\"lastName\",placeholder:\"Last Name\",value:this.state.lastName//     onBlur={self.checkStudentName.bind(self, index)}\n,onChange:self.handleChange.bind(self),autoComplete:\"off\",maxLength:\"35\"}),renderMessage(this.props.getValidationMessages('lastName')))),React.createElement(FormGroup,{className:\"centeredRightLabel \".concat(this.getClasses('email'))},React.createElement(Col,{sm:4},\"Email\"),React.createElement(Col,{sm:8},React.createElement(FormControl,{type:\"email\",name:\"email\",placeholder:\"Email \",value:this.state.email,onBlur:self.existMail.bind(self),onChange:self.handleChange.bind(self),autoComplete:\"off\"}),renderMessage(this.props.getValidationMessages('email'))))))),React.createElement(Modal.Footer,null,React.createElement(Button,{bsStyle:\"primary no-bold no-round mr-1\",className:\"no-bold no-round\",disabled:isLoading,onClick:!isLoading?this.validateData:null},isLoading?'Loading...':'Save'),React.createElement(Button,{bsStyle:\"default no-bold no-round\",className:\"no-bold no-round\",onClick:this.addStudentModelFun},\"Close\"))));}}]);return AddMoreStudent;}(Component);var mapStateToProps=function mapStateToProps(state){return{user:state.User.userData,parent:state.User.parentData};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({actionGetStudentList:actionGetStudentList,actionSetStudentAsUser:actionSetStudentAsUser},dispatch);};AddMoreStudent=validation(strategy)(AddMoreStudent);export default connect(mapStateToProps,mapDispatchToProps)(AddMoreStudent);","map":{"version":3,"sources":["C:\\Users\\Ankur\\Desktop\\therapidhire\\therapidhireui\\TheRapidHireUI\\src\\admin\\candidate\\addMoreStudent.js"],"names":["React","Component","validation","strategy","classnames","theRapidHireApiService","connect","bindActionCreators","actionGetStudentList","actionSetStudentAsUser","Button","Modal","Form","FormGroup","Col","ControlLabel","FormControl","renderMessage","setLocalStorage","showSuccessToast","showErrorToast","CONSTANTS","validationMessages","regExpressions","AddMoreStudent","props","context","getValidatorData","state","getClasses","field","error","isValid","validateData","self","validate","console","log","setState","isLoading","handleSubmit","handleChange","event","target","name","value","submitData","key","preventDefault","existMail","students","user","studentMailList","firstName","lastName","email","streetAddress1","streetAddress2","city","country","zipcode","bind","addStudentModelFun","validatorTypes","createSchema","alphaOnly","required","invalid","parent","parentFirstName","parentLastName","addStudentModel","createdBy","userId","roleId","isActive","data","then","response1","catch","err","closeAddStudentModel","cssClasses","root","input","inputProps","onChange","placeholder","type","defaultStyles","position","paddingBottom","display","width","padding","autocompleteContainer","top","backgroundColor","border","autocompleteItem","color","cursor","autocompleteItemActive","getValidationMessages","mapStateToProps","User","userData","parentData","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport validation from 'react-validation-mixin';\r\nimport strategy from 'react-validatorjs-strategy';\r\nimport classnames from 'classnames';\r\nimport theRapidHireApiService from '../../common/core/api/apiService';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { actionGetStudentList } from '../../common/core/redux/actions';\r\nimport { actionSetStudentAsUser } from '../../common/core/redux/actions';\r\nimport {\r\n  Button,\r\n  Modal,\r\n  Form,\r\n  FormGroup,\r\n  Col,\r\n  ControlLabel,\r\n  FormControl\r\n} from 'react-bootstrap';\r\n\r\nimport {\r\n  renderMessage,\r\n  setLocalStorage,\r\n  showSuccessToast,\r\n  showErrorToast\r\n} from '../../common/commonFunctions';\r\nimport CONSTANTS from '../../common/core/config/appConfig';\r\n\r\nlet validationMessages = CONSTANTS.validationMessages;\r\nlet regExpressions = CONSTANTS.regExpressions;\r\n\r\nclass AddMoreStudent extends Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n    this.state = {\r\n      firstName: '',\r\n      lastName: '',\r\n      isLoading: false,\r\n      studentMailList: [{ email: '' }],\r\n      streetAddress1: '',\r\n      streetAddress2: '',\r\n      city: '',\r\n      state: '',\r\n      country: '',\r\n      zipcode: ''\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  //  this.handleAddMail = this.handleAddMail.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.getValidatorData = this.getValidatorData.bind(this);\r\n    this.getClasses = this.getClasses.bind(this);\r\n    this.addStudentModelFun = this.addStudentModelFun.bind(this);\r\n    this.validatorTypes = strategy.createSchema(\r\n      {\r\n        firstName: ['required', 'regex:' + regExpressions.alphaOnly],\r\n        lastName: ['regex:' + regExpressions.alphaOnly],\r\n        email: 'required|email'\r\n      },\r\n      {\r\n        'required.firstName': validationMessages.firstName.required,\r\n        'regex.firstName': validationMessages.firstName.alphaOnly,\r\n        'regex.lastName': validationMessages.lastName.alphaOnly,\r\n        'required.email': validationMessages.email.required,\r\n        'email.email': validationMessages.email.invalid\r\n      }\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.parent) {\r\n      this.props.parent['token'] = this.props.user['token'];\r\n    }\r\n    if (this.props.user) {\r\n      let user = this.props.parent ? this.props.parent : this.props.user;\r\n      this.setState({\r\n        user: user,\r\n        parentFirstName: user.firstName,\r\n        parentLastName: user.lastName\r\n      });\r\n      if (this.props.user) {\r\n        this.setState({\r\n          addStudentModel: this.props.addStudentModel\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  getValidatorData = () => {\r\n    return this.state;\r\n  };\r\n\r\n  getClasses = field => {\r\n    return classnames({\r\n      error: !this.props.isValid(field)\r\n    });\r\n  };\r\n\r\n  validateData = () => {\r\n    let self = this;\r\n    this.props.validate(function(error) {\r\n      console.log('error', error);\r\n      if (!error) {\r\n        self.setState({ isLoading: true });\r\n        self.handleSubmit();\r\n      }\r\n    });\r\n  };\r\n \r\n  handleChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  submitData = event => {\r\n    if (event.key === 'Enter') {\r\n      event.preventDefault();\r\n      this.validateData();\r\n    }\r\n  };\r\n\r\n  //   checkStudentName = (index, event) => {\r\n  //     let studentMailList = this.state.studentMailList;\r\n  //     let self = this;\r\n  //     if (event.target.value === '') return false;\r\n\r\n  //     var filter = /^[A-Za-z\\s]+$/;\r\n  //     if (!filter.test(event.target.value)) {\r\n  //       studentMailList[index]['firstName'] = '';\r\n  //       this.setState({ studentMailList: studentMailList });\r\n  //       showErrorToast('Invalid Student Name.');\r\n  //     }\r\n  //   };\r\n\r\n  existMail = event => {\r\n    let students = this.state.user.students;\r\n    let studentMailList = this.state.studentMailList;\r\n    let self = this;  \r\n\r\n    if (event.target.value === '') return false;\r\n\r\n\r\n  };\r\n\r\n  handleSubmit() {\r\n    let self = this;\r\n    let createdBy = this.state.user.userId;\r\n    let roleId = 1;\r\n    let firstName = this.state.firstName;\r\n    let lastName = this.state.lastName;\r\n    let isActive = this.state.user.isActive;\r\n    let email= this.state.email;    \r\n    console.log('state ', this.state);\r\n    let data = {\r\n      userId:'',\r\n      firstName,\r\n      lastName,\r\n      email,\r\n      roleId,   \r\n      createdBy      \r\n    };\r\n\r\n    theRapidHireApiService('signupUser', data)\r\n      .then(response1 => {        \r\n            self.setState({ isLoading: false });                    \r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  addStudentModelFun() {\r\n    this.setState({ addStudentModel: this.state.addStudentModel });\r\n    this.props.closeAddStudentModel();\r\n  }\r\n\r\n  render() {\r\n    let self = this;\r\n    const { isLoading } = this.state;\r\n    const cssClasses = {\r\n      root: 'input-group mb-1',\r\n      input: 'form-control'\r\n    };\r\n    const inputProps = {\r\n      value: this.state.streetAddress1,\r\n      onChange: this.onChange,\r\n      placeholder: 'Street Address1',\r\n      type: 'text'\r\n    };\r\n    const defaultStyles = {\r\n      root: {\r\n        position: 'relative',\r\n        paddingBottom: '0px'\r\n      },\r\n      input: {\r\n        display: 'inline-block',\r\n        width: '100%',\r\n        padding: '10px'\r\n      },\r\n      autocompleteContainer: {\r\n        position: 'absolute',\r\n        top: '100%',\r\n        backgroundColor: 'white',\r\n        border: '1px solid #555555',\r\n        width: '100%'\r\n      },\r\n      autocompleteItem: {\r\n        backgroundColor: '#ffffff',\r\n        padding: '10px',\r\n        color: '#555555',\r\n        cursor: 'pointer'\r\n      },\r\n      autocompleteItemActive: {\r\n        backgroundColor: '#fafafa'\r\n      }\r\n    };\r\n\r\n    return (\r\n      <div>\r\n        <Modal\r\n          //   bsSize=\"medium\"\r\n          show={this.state.addStudentModel}\r\n          onHide={this.addStudentModelFun}\r\n          backdrop=\"static\"\r\n          keyboard={false}\r\n        >\r\n          <Modal.Header closeButton>\r\n            <Modal.Title className=\"subtitle text-center\">\r\n              Add New Candidate\r\n            </Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <Form horizontal className=\"lightBgForm\">\r\n              <Col sm={12}>\r\n                <FormGroup\r\n                  className={`centeredRightLabel ${this.getClasses(\r\n                    'firstName'\r\n                  )}`}\r\n                >\r\n                  <Col sm={4}>First Name</Col>\r\n                  <Col sm={8}>\r\n                    <FormControl\r\n                      type=\"text\"\r\n                      name=\"firstName\"\r\n                      placeholder=\"First Name\"\r\n                      value={this.state.firstName}\r\n                      //     onBlur={self.checkStudentName.bind(self, index)}\r\n                      onChange={self.handleChange.bind(self)}\r\n                      autoComplete=\"off\"\r\n                      maxLength=\"35\"\r\n                    />\r\n\r\n                    {renderMessage(\r\n                      this.props.getValidationMessages('firstName')\r\n                    )}\r\n                  </Col>\r\n                </FormGroup>\r\n                <FormGroup\r\n                  className={`centeredRightLabel ${this.getClasses(\r\n                    'lastName'\r\n                  )}`}\r\n                >\r\n                  <Col sm={4}>Last Name</Col>\r\n                  <Col sm={8}>\r\n                    <FormControl\r\n                      type=\"text\"\r\n                      name=\"lastName\"\r\n                      placeholder=\"Last Name\"\r\n                      value={this.state.lastName}\r\n                      //     onBlur={self.checkStudentName.bind(self, index)}\r\n                      onChange={self.handleChange.bind(self)}\r\n                      autoComplete=\"off\"\r\n                      maxLength=\"35\"\r\n                    />\r\n                    {renderMessage(\r\n                      this.props.getValidationMessages('lastName')\r\n                    )}\r\n                  </Col>\r\n                </FormGroup>\r\n                <FormGroup\r\n                  className={`centeredRightLabel ${this.getClasses('email')}`}\r\n                >\r\n                  <Col sm={4}>Email</Col>\r\n                  <Col sm={8}>\r\n                    <FormControl\r\n                      type=\"email\"\r\n                      name=\"email\"\r\n                      placeholder=\"Email \"\r\n                      value={this.state.email}\r\n                      onBlur={self.existMail.bind(self)}\r\n                      onChange={self.handleChange.bind(self)}\r\n                      autoComplete=\"off\"\r\n                    />\r\n                    {renderMessage(this.props.getValidationMessages('email'))}\r\n                  </Col>\r\n                </FormGroup>\r\n              </Col>\r\n            </Form>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button\r\n              bsStyle=\"primary no-bold no-round mr-1\"\r\n              className=\"no-bold no-round\"\r\n              disabled={isLoading}\r\n              onClick={!isLoading ? this.validateData : null}\r\n            >\r\n              {isLoading ? 'Loading...' : 'Save'}\r\n            </Button>\r\n            <Button\r\n              bsStyle=\"default no-bold no-round\"\r\n              className=\"no-bold no-round\"\r\n              onClick={this.addStudentModelFun}\r\n            >\r\n              Close\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    user: state.User.userData,\r\n    parent: state.User.parentData\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    { actionGetStudentList, actionSetStudentAsUser },\r\n    dispatch\r\n  );\r\n};\r\n\r\nAddMoreStudent = validation(strategy)(AddMoreStudent);\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(AddMoreStudent);\r\n"]},"metadata":{},"sourceType":"module"}