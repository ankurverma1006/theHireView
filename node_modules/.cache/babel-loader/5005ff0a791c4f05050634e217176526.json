{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ankur\\\\Desktop\\\\therapidhire\\\\therapidhireui\\\\TheRapidHireUI\\\\src\\\\recruiter\\\\jobDescription\\\\videoHistory.js\";\nimport React, { Component } from 'react';\nimport Header from '../header/header';\nimport SideBar from '../header/sidebar'; // import {\n//   Button,\n//   Media,\n//   Row,\n//   Col,\n//   FormControl,\n//   InputGroup\n// } from 'react-bootstrap';\n\nimport { Modal, DropdownButton, MenuItem, Button } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux'; //import { ToastContainer } from 'react-toastify';\n\nimport Slider from 'react-slick';\nimport _ from 'lodash';\nimport { Player, ControlBar, ReplayControl, ForwardControl, CurrentTimeDisplay, TimeDivider, PlaybackRateMenuButton, VolumeMenuButton } from 'video-react';\nimport VideoPlayer from 'react-video-js-player'; //import Summary from './summary/addSummary';\n\nimport ShowVideo from '../jobDescription/showVideo'; //import CompetencyRecommendations from '../profile/competency/recommendations/competencyWiseRecommendations';\n\nimport ImageCropper from '../../common/cropper/imageCropper';\nimport DownloadLink from 'react-download-link'; //import Img from '../../common/cropper/img';\n\nimport { showErrorToast, uploadToAzure, limitCharacter, SampleNextArrow, SamplePrevArrow, getThumbImage } from '../../common/commonFunctions';\nimport theRapidHireApiService from '../../common/core/api/apiService';\nimport CONSTANTS from '../../common/core/config/appConfig';\nimport { actionGetStudentPersonalInfo, actionGetAllCompetency, actionGetAchievementsByUser, actionGetRecommendationsByUser, actionUpdateUserInfo, actionGetAchievementsData } from '../../common/core/redux/actions';\nimport achievementDefaultImage from '../../assets/img/default_achievement.jpg';\nimport SpiderChart from '../../common/spiderChart/spiderChart';\nvar settings = {\n  dots: false,\n  infinite: false,\n  speed: 500,\n  slidesToShow: 3,\n  swipeToSlide: true,\n  // nextArrow: <SampleNextArrow props={this.props} />,\n  // prevArrow: <SamplePrevArrow props={this.props} />,\n  responsive: [{\n    breakpoint: 1024,\n    settings: {\n      slidesToShow: 3,\n      slidesToScroll: 3,\n      infinite: true,\n      dots: true\n    }\n  }, {\n    breakpoint: 600,\n    settings: {\n      slidesToShow: 2,\n      slidesToScroll: 2,\n      initialSlide: 2\n    }\n  }, {\n    breakpoint: 480,\n    settings: {\n      slidesToShow: 1,\n      slidesToScroll: 1\n    }\n  }]\n};\nconst hasGetUserMedia = !!(navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia);\n\nclass VideoHistory extends Component {\n  constructor(props, context) {\n    super(props);\n    this.state = {\n      video: {\n        src: 'http://www.example.com/path/to/video.mp4',\n        poster: 'http://www.example.com/path/to/video_poster.jpg'\n      },\n      showJobDescriptionComponent: false,\n      jobDescriptionDetail: {},\n      loader1: false,\n      loader2: false,\n      jobDescriptionListData: [],\n      userData: {},\n      showDropdown: false,\n      isActive: 'true',\n      contentEditable: false,\n      editName: false,\n      name: '',\n      editTagLine: false,\n      showVideo: false,\n      videoSkillTag: []\n    }; //To use microphone it shud be {audio: true}\n\n    this.audioConstraints = {\n      //  audio: true,\n      video: true\n    };\n    this.seek = this.seek.bind(this);\n  }\n\n  componentWillMount() {\n    //let userId = this.props.user.userId;\n    document.body.classList.add('light-theme');\n    document.body.classList.add('absoluteHeader');\n    document.body.classList.remove('home');\n    document.body.classList.remove('fixedHeader');\n    console.log(this.props.location);\n    this.getSlotDetails(this.props.location.state.userId);\n  }\n\n  getSlotDetails(userId) {\n    theRapidHireApiService('getTimeSlotByUser', {\n      userId\n    }).then(response => {\n      if (response.data.status === 'Success') {\n        console.log(response);\n        let slotVideoData = response.data.result[0];\n        let videoLinkInterviewer = slotVideoData.videoChatLinkInterviewer;\n        let videoLinkUser = slotVideoData.videoChatLinkUser;\n        console.log(response.data);\n        let videoSkillTag = response.data.result[0].videoSkillTag; //     let bookedSlotData=[];\n        //     bookedSlotData = response.data.result;\n\n        this.setState({\n          videoLinkInterviewer,\n          videoSkillTag\n        });\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  } //   onPlayerReady(player){\n  //     console.log(\"Player is ready: \", player);\n  //     this.player = player;\n  // }\n  // onVideoPlay(duration){\n  //     console.log(\"Video played at: \", duration);\n  // }\n  // onVideoPause(duration){\n  //     console.log(\"Video paused at: \", duration);\n  // }\n  // onVideoTimeUpdate(duration){\n  //     console.log(\"Time updated: \", duration);\n  // }\n  // onVideoSeeking(duration){\n  //     console.log(\"Video seeking: \", duration);\n  // }\n  // onVideoSeeked(from, to){\n  //     console.log(`Video seeked from ${from} to ${to}`);\n  // }\n  // onVideoEnd(){\n  //     console.log(\"Video ended\");\n  // }\n\n\n  seek(seconds) {\n    return () => {\n      this.player.seek(seconds);\n    };\n  }\n\n  render() {\n    const videoConstraints = {\n      facingMode: 'user'\n    };\n    return React.createElement(\"div\", {\n      className: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(Header, Object.assign({}, this.props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"main-panel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, this.state.videoLinkInterviewer ? // <VideoPlayer\n    //             controls={true}\n    //             src={this.state.videoLinkInterviewer}\n    //      //       poster={this.state.video.poster}\n    //             type=\"video/webm\"\n    //             currentTime=\"10.573812\"\n    //             width=\"720\"\n    //             height=\"420\"\n    //             onReady={this.onPlayerReady.bind(this)}\n    //             onPlay={this.onVideoPlay.bind(this)}\n    //             onPause={this.onVideoPause.bind(this)}\n    //             onTimeUpdate={this.onVideoTimeUpdate.bind(this)}\n    //             onSeeking={this.onVideoSeeking.bind(this)}\n    //             onSeeked={this.onVideoSeeked.bind(this)}\n    //             onEnd={this.onVideoEnd.bind(this)}\n    //         />\n    React.createElement(Player, {\n      poster: \"/assets/poster.png\",\n      fluid: false,\n      videoWidth: \"720\",\n      videoHeight: \"420\",\n      ref: player => {\n        this.player = player;\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(\"source\", {\n      src: this.state.videoLinkInterviewer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }), React.createElement(\"source\", {\n      src: this.state.videoLinkInterviewer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }), React.createElement(ControlBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, React.createElement(ReplayControl, {\n      seconds: 10,\n      order: 1.1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }), React.createElement(ForwardControl, {\n      seconds: 30,\n      order: 1.2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }), React.createElement(CurrentTimeDisplay, {\n      order: 4.1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }), React.createElement(TimeDivider, {\n      order: 4.2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }), React.createElement(PlaybackRateMenuButton, {\n      rates: [5, 2, 1, 0.5, 0.1],\n      order: 7.1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }), React.createElement(VolumeMenuButton, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }))) : 'Video is not available'), this.state.videoSkillTag && this.state.videoSkillTag.length > 0 && this.state.videoSkillTag.map((data, index) => React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, data.skill, React.createElement(Button, {\n      onClick: this.seek(1),\n      className: \"mr-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, \"currentTime = 50\")))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.User.userData,\n    parent: state.User.parentData,\n    student: state.Student\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    actionGetStudentPersonalInfo,\n    actionGetAllCompetency,\n    actionGetAchievementsByUser,\n    actionGetRecommendationsByUser,\n    actionUpdateUserInfo,\n    actionGetAchievementsData\n  }, dispatch);\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VideoHistory);","map":{"version":3,"sources":["C:\\Users\\Ankur\\Desktop\\therapidhire\\therapidhireui\\TheRapidHireUI\\src\\recruiter\\jobDescription\\videoHistory.js"],"names":["React","Component","Header","SideBar","Modal","DropdownButton","MenuItem","Button","connect","bindActionCreators","Slider","_","Player","ControlBar","ReplayControl","ForwardControl","CurrentTimeDisplay","TimeDivider","PlaybackRateMenuButton","VolumeMenuButton","VideoPlayer","ShowVideo","ImageCropper","DownloadLink","showErrorToast","uploadToAzure","limitCharacter","SampleNextArrow","SamplePrevArrow","getThumbImage","theRapidHireApiService","CONSTANTS","actionGetStudentPersonalInfo","actionGetAllCompetency","actionGetAchievementsByUser","actionGetRecommendationsByUser","actionUpdateUserInfo","actionGetAchievementsData","achievementDefaultImage","SpiderChart","settings","dots","infinite","speed","slidesToShow","swipeToSlide","responsive","breakpoint","slidesToScroll","initialSlide","hasGetUserMedia","navigator","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","VideoHistory","constructor","props","context","state","video","src","poster","showJobDescriptionComponent","jobDescriptionDetail","loader1","loader2","jobDescriptionListData","userData","showDropdown","isActive","contentEditable","editName","name","editTagLine","showVideo","videoSkillTag","audioConstraints","seek","bind","componentWillMount","document","body","classList","add","remove","console","log","location","getSlotDetails","userId","then","response","data","status","slotVideoData","result","videoLinkInterviewer","videoChatLinkInterviewer","videoLinkUser","videoChatLinkUser","setState","catch","err","seconds","player","render","videoConstraints","facingMode","length","map","index","skill","mapStateToProps","user","User","parent","parentData","student","Student","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Header from '../header/header';\r\nimport SideBar from '../header/sidebar';\r\n// import {\r\n//   Button,\r\n//   Media,\r\n//   Row,\r\n//   Col,\r\n//   FormControl,\r\n//   InputGroup\r\n// } from 'react-bootstrap';\r\nimport { Modal, DropdownButton, MenuItem, Button } from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\n//import { ToastContainer } from 'react-toastify';\r\nimport Slider from 'react-slick';\r\nimport _ from 'lodash';\r\nimport {\r\n  Player,\r\n  ControlBar,\r\n  ReplayControl,\r\n  ForwardControl,\r\n  CurrentTimeDisplay,\r\n  TimeDivider,\r\n  PlaybackRateMenuButton,\r\n  VolumeMenuButton\r\n} from 'video-react';\r\nimport VideoPlayer from 'react-video-js-player';\r\n//import Summary from './summary/addSummary';\r\nimport ShowVideo from '../jobDescription/showVideo';\r\n\r\n//import CompetencyRecommendations from '../profile/competency/recommendations/competencyWiseRecommendations';\r\nimport ImageCropper from '../../common/cropper/imageCropper';\r\nimport DownloadLink from 'react-download-link';\r\n//import Img from '../../common/cropper/img';\r\nimport {\r\n  showErrorToast,\r\n  uploadToAzure,\r\n  limitCharacter,\r\n  SampleNextArrow,\r\n  SamplePrevArrow,\r\n  getThumbImage\r\n} from '../../common/commonFunctions';\r\nimport theRapidHireApiService from '../../common/core/api/apiService';\r\nimport CONSTANTS from '../../common/core/config/appConfig';\r\n\r\nimport {\r\n  actionGetStudentPersonalInfo,\r\n  actionGetAllCompetency,\r\n  actionGetAchievementsByUser,\r\n  actionGetRecommendationsByUser,\r\n  actionUpdateUserInfo,\r\n  actionGetAchievementsData\r\n} from '../../common/core/redux/actions';\r\nimport achievementDefaultImage from '../../assets/img/default_achievement.jpg';\r\nimport SpiderChart from '../../common/spiderChart/spiderChart';\r\n\r\nvar settings = {\r\n  dots: false,\r\n  infinite: false,\r\n  speed: 500,\r\n  slidesToShow: 3,\r\n  swipeToSlide: true,\r\n  // nextArrow: <SampleNextArrow props={this.props} />,\r\n  // prevArrow: <SamplePrevArrow props={this.props} />,\r\n  responsive: [\r\n    {\r\n      breakpoint: 1024,\r\n      settings: {\r\n        slidesToShow: 3,\r\n        slidesToScroll: 3,\r\n        infinite: true,\r\n        dots: true\r\n      }\r\n    },\r\n    {\r\n      breakpoint: 600,\r\n      settings: {\r\n        slidesToShow: 2,\r\n        slidesToScroll: 2,\r\n        initialSlide: 2\r\n      }\r\n    },\r\n    {\r\n      breakpoint: 480,\r\n      settings: {\r\n        slidesToShow: 1,\r\n        slidesToScroll: 1\r\n      }\r\n    }\r\n  ]\r\n};\r\n\r\nconst hasGetUserMedia = !!(\r\n  navigator.getUserMedia ||\r\n  navigator.webkitGetUserMedia ||\r\n  navigator.mozGetUserMedia ||\r\n  navigator.msGetUserMedia\r\n);\r\n\r\nclass VideoHistory extends Component {\r\n  constructor(props, context) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      video: {\r\n        src: 'http://www.example.com/path/to/video.mp4',\r\n        poster: 'http://www.example.com/path/to/video_poster.jpg'\r\n      },\r\n      showJobDescriptionComponent: false,\r\n      jobDescriptionDetail: {},\r\n\r\n      loader1: false,\r\n      loader2: false,\r\n      jobDescriptionListData: [],\r\n      userData: {},\r\n      showDropdown: false,\r\n      isActive: 'true',\r\n      contentEditable: false,\r\n      editName: false,\r\n      name: '',\r\n      editTagLine: false,\r\n      showVideo: false,\r\n      videoSkillTag: []\r\n    };\r\n\r\n    //To use microphone it shud be {audio: true}\r\n    this.audioConstraints = {\r\n      //  audio: true,\r\n      video: true\r\n    };\r\n    this.seek = this.seek.bind(this);\r\n  }\r\n\r\n  componentWillMount() {\r\n    //let userId = this.props.user.userId;\r\n    document.body.classList.add('light-theme');\r\n    document.body.classList.add('absoluteHeader');\r\n    document.body.classList.remove('home');\r\n    document.body.classList.remove('fixedHeader');\r\n    console.log(this.props.location);\r\n    this.getSlotDetails(this.props.location.state.userId);\r\n  }\r\n\r\n  getSlotDetails(userId) {\r\n    theRapidHireApiService('getTimeSlotByUser', { userId })\r\n      .then(response => {\r\n        if (response.data.status === 'Success') {\r\n          console.log(response);\r\n          let slotVideoData = response.data.result[0];\r\n          let videoLinkInterviewer = slotVideoData.videoChatLinkInterviewer;\r\n          let videoLinkUser = slotVideoData.videoChatLinkUser;\r\n          console.log(response.data);\r\n          let videoSkillTag = response.data.result[0].videoSkillTag;\r\n          //     let bookedSlotData=[];\r\n          //     bookedSlotData = response.data.result;\r\n          this.setState({ videoLinkInterviewer, videoSkillTag });\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  //   onPlayerReady(player){\r\n  //     console.log(\"Player is ready: \", player);\r\n  //     this.player = player;\r\n  // }\r\n\r\n  // onVideoPlay(duration){\r\n  //     console.log(\"Video played at: \", duration);\r\n  // }\r\n\r\n  // onVideoPause(duration){\r\n  //     console.log(\"Video paused at: \", duration);\r\n  // }\r\n\r\n  // onVideoTimeUpdate(duration){\r\n  //     console.log(\"Time updated: \", duration);\r\n  // }\r\n\r\n  // onVideoSeeking(duration){\r\n  //     console.log(\"Video seeking: \", duration);\r\n  // }\r\n\r\n  // onVideoSeeked(from, to){\r\n  //     console.log(`Video seeked from ${from} to ${to}`);\r\n  // }\r\n\r\n  // onVideoEnd(){\r\n  //     console.log(\"Video ended\");\r\n  // }\r\n\r\n  seek(seconds) {\r\n    return () => {\r\n      this.player.seek(seconds);\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const videoConstraints = {\r\n      facingMode: 'user'\r\n    };\r\n    return (\r\n      <div className=\"wrapper\">\r\n        <Header {...this.props} />\r\n        <div className=\"main-panel\">\r\n          <div>\r\n            {this.state.videoLinkInterviewer ? (\r\n              // <VideoPlayer\r\n              //             controls={true}\r\n              //             src={this.state.videoLinkInterviewer}\r\n              //      //       poster={this.state.video.poster}\r\n              //             type=\"video/webm\"\r\n              //             currentTime=\"10.573812\"\r\n              //             width=\"720\"\r\n              //             height=\"420\"\r\n              //             onReady={this.onPlayerReady.bind(this)}\r\n              //             onPlay={this.onVideoPlay.bind(this)}\r\n              //             onPause={this.onVideoPause.bind(this)}\r\n              //             onTimeUpdate={this.onVideoTimeUpdate.bind(this)}\r\n              //             onSeeking={this.onVideoSeeking.bind(this)}\r\n              //             onSeeked={this.onVideoSeeked.bind(this)}\r\n              //             onEnd={this.onVideoEnd.bind(this)}\r\n              //         />\r\n              <Player\r\n                poster=\"/assets/poster.png\"\r\n                fluid={false}\r\n                videoWidth=\"720\"\r\n                videoHeight=\"420\"\r\n                ref={player => {\r\n                  this.player = player;\r\n                }}\r\n              >\r\n                <source src={this.state.videoLinkInterviewer} />\r\n                <source src={this.state.videoLinkInterviewer} />\r\n\r\n                <ControlBar>\r\n                  <ReplayControl seconds={10} order={1.1} />\r\n                  <ForwardControl seconds={30} order={1.2} />\r\n                  <CurrentTimeDisplay order={4.1} />\r\n                  <TimeDivider order={4.2} />\r\n                  <PlaybackRateMenuButton\r\n                    rates={[5, 2, 1, 0.5, 0.1]}\r\n                    order={7.1}\r\n                  />\r\n                  <VolumeMenuButton />\r\n                </ControlBar>\r\n              </Player>\r\n            ) : (\r\n              'Video is not available'\r\n            )}\r\n          </div>\r\n\r\n          {this.state.videoSkillTag &&\r\n            this.state.videoSkillTag.length > 0 &&\r\n            this.state.videoSkillTag.map((data, index) => (\r\n              <div>\r\n                {data.skill}\r\n                <Button onClick={this.seek(1)} className=\"mr-3\">\r\n                  currentTime = 50\r\n                </Button>\r\n              </div>\r\n            ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    user: state.User.userData,\r\n    parent: state.User.parentData,\r\n    student: state.Student\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      actionGetStudentPersonalInfo,\r\n      actionGetAllCompetency,\r\n      actionGetAchievementsByUser,\r\n      actionGetRecommendationsByUser,\r\n      actionUpdateUserInfo,\r\n      actionGetAchievementsData\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(VideoHistory);\r\n"]},"metadata":{},"sourceType":"module"}