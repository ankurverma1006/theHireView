{"ast":null,"code":"import _classCallCheck from\"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import Header from'../header/header';import SideBar from'../header/sidebar';// import {\n//   Button,\n//   Media,\n//   Row,\n//   Col,\n//   FormControl,\n//   InputGroup\n// } from 'react-bootstrap';\nimport{Modal,DropdownButton,MenuItem}from'react-bootstrap';import{connect}from'react-redux';import{bindActionCreators}from'redux';//import { ToastContainer } from 'react-toastify';\nimport Slider from'react-slick';import _ from'lodash';import VideoPlayer from'react-video-js-player';//import Summary from './summary/addSummary';\nimport ShowVideo from'../jobDescription/showVideo';//import CompetencyRecommendations from '../profile/competency/recommendations/competencyWiseRecommendations';\nimport ImageCropper from'../../common/cropper/imageCropper';import DownloadLink from\"react-download-link\";//import Img from '../../common/cropper/img';\nimport{showErrorToast,uploadToAzure,limitCharacter,SampleNextArrow,SamplePrevArrow,getThumbImage}from'../../common/commonFunctions';import theRapidHireApiService from'../../common/core/api/apiService';import CONSTANTS from'../../common/core/config/appConfig';import{actionGetStudentPersonalInfo,actionGetAllCompetency,actionGetAchievementsByUser,actionGetRecommendationsByUser,actionUpdateUserInfo,actionGetAchievementsData}from'../../common/core/redux/actions';import achievementDefaultImage from'../../assets/img/default_achievement.jpg';import SpiderChart from'../../common/spiderChart/spiderChart';var settings={dots:false,infinite:false,speed:500,slidesToShow:3,swipeToSlide:true,nextArrow:React.createElement(SampleNextArrow,{props:this.props}),prevArrow:React.createElement(SamplePrevArrow,{props:this.props}),responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:true,dots:true}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2,initialSlide:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]};var hasGetUserMedia=!!(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia);var VideoHistory=/*#__PURE__*/function(_Component){_inherits(VideoHistory,_Component);function VideoHistory(props,context){var _this;_classCallCheck(this,VideoHistory);_this=_possibleConstructorReturn(this,_getPrototypeOf(VideoHistory).call(this,props));_this.state={video:{src:\"http://www.example.com/path/to/video.mp4\",poster:\"http://www.example.com/path/to/video_poster.jpg\"},showJobDescriptionComponent:false,jobDescriptionDetail:{},loader1:false,loader2:false,jobDescriptionListData:[],userData:{},showDropdown:false,isActive:'true',contentEditable:false,editName:false,name:'',editTagLine:false,showVideo:false};var wRegion=\"ap-south-1\";var poolid='ap-south-1:5075a328-2598-4e55-ba57-d4b60ed9548c';var s3bucketName=\"ankurself\";var audioPath=\"/audio-files\";var s3bucketName=\"ankurself\";var audioPath=\"/audio-files\";var audioStoreWithBucket=s3bucketName+audioPath;//AudioStream = new AudioStream(wRegion,poolid,s3bucketName+audioPath)\n_this.region=\"ap-south-1\";//s3 region\n_this.IdentityPoolId='ap-south-1:5075a328-2598-4e55-ba57-d4b60ed9548c';//identity pool id\n_this.bucketName=audioStoreWithBucket;//audio file store\n_this.s3=null;//variable defination for s3\n_this.dateinfo=new Date();_this.timestampData=_this.dateinfo.getTime();//timestamp used for file uniqueness\n_this.etag=[];// etag is used to save the parts of the single upload file\n_this.recordedChunks=[];//empty Array\n_this.booleanStop=false;// this is for final multipart complete\n_this.incr=0;// multipart requires incremetal so that they can merge all parts by ascending order\n_this.filename=_this.timestampData.toString()+\".webm\";//unique filename\n_this.uploadId=\"\";// upload id is required in multipart\n_this.recorder=null;//initializing recorder variable\n_this.player=null;//To use microphone it shud be {audio: true}\n_this.audioConstraints={//  audio: true,\nvideo:true};return _this;}_createClass(VideoHistory,[{key:\"componentWillMount\",value:function componentWillMount(){//let userId = this.props.user.userId;\ndocument.body.classList.add('light-theme');document.body.classList.add('absoluteHeader');document.body.classList.remove('home');document.body.classList.remove('fixedHeader');console.log(this.props.location);this.getSlotDetails(this.props.location.state.userId);}},{key:\"getSlotDetails\",value:function getSlotDetails(userId){var _this2=this;theRapidHireApiService('getTimeSlotByUser',{userId:userId}).then(function(response){if(response.data.status==='Success'){console.log(response);var slotVideoData=response.data.result[0];var videoLinkInterviewer=slotVideoData.videoChatLinkInterviewer;var videoLinkUser=slotVideoData.videoChatLinkUser;//     let bookedSlotData=[];\n//     bookedSlotData = response.data.result;\n_this2.setState({videoLinkInterviewer:videoLinkInterviewer,videoLinkUser:videoLinkUser});}}).catch(function(err){console.log(err);});}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(res){}},{key:\"componentDidMount\",value:function componentDidMount(){if(!hasGetUserMedia){alert(\"Your browser cannot stream from your webcam. Please switch to Chrome or Firefox.\");return;}var script=document.createElement(\"script\");script.src=\"https://cdn.rawgit.com/mattdiamond/Recorderjs/08e7abd9/dist/recorder.js\";script.async=true;document.body.appendChild(script);if(this.props.student.achievementData){console.log(this.props.student.achievementData);}}},{key:\"onPlayerReady\",value:function onPlayerReady(player){console.log(\"Player is ready: \",player);this.player=player;}},{key:\"onVideoPlay\",value:function onVideoPlay(duration){console.log(\"Video played at: \",duration);}},{key:\"onVideoPause\",value:function onVideoPause(duration){console.log(\"Video paused at: \",duration);}},{key:\"onVideoTimeUpdate\",value:function onVideoTimeUpdate(duration){console.log(\"Time updated: \",duration);}},{key:\"onVideoSeeking\",value:function onVideoSeeking(duration){console.log(\"Video seeking: \",duration);}},{key:\"onVideoSeeked\",value:function onVideoSeeked(from,to){console.log(\"Video seeked from \".concat(from,\" to \").concat(to));}},{key:\"onVideoEnd\",value:function onVideoEnd(){console.log(\"Video ended\");}},{key:\"render\",value:function render(){var videoConstraints={facingMode:\"user\"};return React.createElement(\"div\",{className:\"wrapper\"},React.createElement(Header,this.props),React.createElement(\"div\",{className:\"main-panel\"},React.createElement(\"div\",null,React.createElement(VideoPlayer,{controls:true,src:this.state.videoLinkInterviewer,poster:this.state.video.poster,width:\"720\",height:\"420\",onReady:this.onPlayerReady.bind(this),onPlay:this.onVideoPlay.bind(this),onPause:this.onVideoPause.bind(this),onTimeUpdate:this.onVideoTimeUpdate.bind(this),onSeeking:this.onVideoSeeking.bind(this),onSeeked:this.onVideoSeeked.bind(this),onEnd:this.onVideoEnd.bind(this)}),React.createElement(VideoPlayer,{controls:true,src:this.state.videoChatLinkUser,poster:this.state.video.poster,width:\"720\",height:\"420\",onReady:this.onPlayerReady.bind(this),onPlay:this.onVideoPlay.bind(this),onPause:this.onVideoPause.bind(this),onTimeUpdate:this.onVideoTimeUpdate.bind(this),onSeeking:this.onVideoSeeking.bind(this),onSeeked:this.onVideoSeeked.bind(this),onEnd:this.onVideoEnd.bind(this)}))));}}]);return VideoHistory;}(Component);var mapStateToProps=function mapStateToProps(state){return{user:state.User.userData,parent:state.User.parentData,student:state.Student};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({actionGetStudentPersonalInfo:actionGetStudentPersonalInfo,actionGetAllCompetency:actionGetAllCompetency,actionGetAchievementsByUser:actionGetAchievementsByUser,actionGetRecommendationsByUser:actionGetRecommendationsByUser,actionUpdateUserInfo:actionUpdateUserInfo,actionGetAchievementsData:actionGetAchievementsData},dispatch);};export default connect(mapStateToProps,mapDispatchToProps)(VideoHistory);","map":{"version":3,"sources":["/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/src/recruiter/jobDescription/videoHistory.js"],"names":["React","Component","Header","SideBar","Modal","DropdownButton","MenuItem","connect","bindActionCreators","Slider","_","VideoPlayer","ShowVideo","ImageCropper","DownloadLink","showErrorToast","uploadToAzure","limitCharacter","SampleNextArrow","SamplePrevArrow","getThumbImage","theRapidHireApiService","CONSTANTS","actionGetStudentPersonalInfo","actionGetAllCompetency","actionGetAchievementsByUser","actionGetRecommendationsByUser","actionUpdateUserInfo","actionGetAchievementsData","achievementDefaultImage","SpiderChart","settings","dots","infinite","speed","slidesToShow","swipeToSlide","nextArrow","props","prevArrow","responsive","breakpoint","slidesToScroll","initialSlide","hasGetUserMedia","navigator","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","VideoHistory","context","state","video","src","poster","showJobDescriptionComponent","jobDescriptionDetail","loader1","loader2","jobDescriptionListData","userData","showDropdown","isActive","contentEditable","editName","name","editTagLine","showVideo","wRegion","poolid","s3bucketName","audioPath","audioStoreWithBucket","region","IdentityPoolId","bucketName","s3","dateinfo","Date","timestampData","getTime","etag","recordedChunks","booleanStop","incr","filename","toString","uploadId","recorder","player","audioConstraints","document","body","classList","add","remove","console","log","location","getSlotDetails","userId","then","response","data","status","slotVideoData","result","videoLinkInterviewer","videoChatLinkInterviewer","videoLinkUser","videoChatLinkUser","setState","catch","err","res","alert","script","createElement","async","appendChild","student","achievementData","duration","from","to","videoConstraints","facingMode","onPlayerReady","bind","onVideoPlay","onVideoPause","onVideoTimeUpdate","onVideoSeeking","onVideoSeeked","onVideoEnd","mapStateToProps","user","User","parent","parentData","Student","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Header from '../header/header';\nimport SideBar from '../header/sidebar';\n// import {\n//   Button,\n//   Media,\n//   Row,\n//   Col,\n//   FormControl,\n//   InputGroup\n// } from 'react-bootstrap';\nimport { Modal, DropdownButton, MenuItem } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\n//import { ToastContainer } from 'react-toastify';\nimport Slider from 'react-slick';\nimport _ from 'lodash';\n\nimport VideoPlayer from 'react-video-js-player';\n//import Summary from './summary/addSummary';\nimport ShowVideo from '../jobDescription/showVideo';\n\n//import CompetencyRecommendations from '../profile/competency/recommendations/competencyWiseRecommendations';\nimport ImageCropper from '../../common/cropper/imageCropper';\nimport DownloadLink from \"react-download-link\";\n//import Img from '../../common/cropper/img';\nimport {\n  showErrorToast,\n  uploadToAzure,\n  limitCharacter,\n  SampleNextArrow,\n  SamplePrevArrow,\n  getThumbImage\n} from '../../common/commonFunctions';\nimport theRapidHireApiService from '../../common/core/api/apiService';\nimport CONSTANTS from '../../common/core/config/appConfig';\n\nimport {\n  actionGetStudentPersonalInfo,\n  actionGetAllCompetency,\n  actionGetAchievementsByUser,\n  actionGetRecommendationsByUser,\n  actionUpdateUserInfo,\n  actionGetAchievementsData\n} from '../../common/core/redux/actions';\nimport achievementDefaultImage from '../../assets/img/default_achievement.jpg';\nimport SpiderChart from '../../common/spiderChart/spiderChart';\n\n\n\nvar settings = {\n  dots: false,\n  infinite: false,\n  speed: 500,\n  slidesToShow: 3,\n  swipeToSlide: true,\n  nextArrow: <SampleNextArrow props={this.props} />,\n  prevArrow: <SamplePrevArrow props={this.props} />,\n  responsive: [\n    {\n      breakpoint: 1024,\n      settings: {\n        slidesToShow: 3,\n        slidesToScroll: 3,\n        infinite: true,\n        dots: true\n      }\n    },\n    {\n      breakpoint: 600,\n      settings: {\n        slidesToShow: 2,\n        slidesToScroll: 2,\n        initialSlide: 2\n      }\n    },\n    {\n      breakpoint: 480,\n      settings: {\n        slidesToShow: 1,\n        slidesToScroll: 1\n      }\n    }\n  ]\n};\n\nconst hasGetUserMedia = !!(navigator.getUserMedia || navigator.webkitGetUserMedia ||\n    navigator.mozGetUserMedia || navigator.msGetUserMedia);\n\nclass VideoHistory extends Component {\n  constructor(props, context) {\n    super(props);\n   \n    this.state = {  \n        video: {\n            src: \"http://www.example.com/path/to/video.mp4\",\n            poster: \"http://www.example.com/path/to/video_poster.jpg\"\n        },    \n      showJobDescriptionComponent: false,      \n      jobDescriptionDetail: {},        \n     \n      loader1: false,\n      loader2: false,      \n      jobDescriptionListData: [],     \n      userData:{},     \n      showDropdown: false,     \n      isActive: 'true',     \n      contentEditable: false,\n      editName: false,\n      name: '',\n      editTagLine: false,\n      showVideo:false\n    };\n    var wRegion = \"ap-south-1\";\n    var poolid = 'ap-south-1:5075a328-2598-4e55-ba57-d4b60ed9548c';\n    var s3bucketName = \"ankurself\";\n    var audioPath = \"/audio-files\";\n    var s3bucketName = \"ankurself\";\n    var audioPath = \"/audio-files\";\n    var audioStoreWithBucket=s3bucketName+audioPath;\n    //AudioStream = new AudioStream(wRegion,poolid,s3bucketName+audioPath)\n\n    this.region = \"ap-south-1\"; //s3 region\n    this.IdentityPoolId = 'ap-south-1:5075a328-2598-4e55-ba57-d4b60ed9548c'; //identity pool id\n    this.bucketName = audioStoreWithBucket; //audio file store\n    this.s3=null; //variable defination for s3\n    this.dateinfo = new Date();\n    this.timestampData = this.dateinfo.getTime(); //timestamp used for file uniqueness\n    this.etag = []; // etag is used to save the parts of the single upload file\n    this.recordedChunks = []; //empty Array\n    this.booleanStop = false; // this is for final multipart complete\n    this.incr = 0; // multipart requires incremetal so that they can merge all parts by ascending order\n    this.filename = this.timestampData.toString() + \".webm\"; //unique filename\n    this.uploadId = \"\"; // upload id is required in multipart\n    this.recorder=null; //initializing recorder variable\n    this.player=null;\n    //To use microphone it shud be {audio: true}\n    this.audioConstraints = {\n      //  audio: true,\n        video: true\n    };\n\n  }\n\n  componentWillMount() {\n    //let userId = this.props.user.userId;\n    \n    document.body.classList.add('light-theme');\n    document.body.classList.add('absoluteHeader');\n    document.body.classList.remove('home');\n    document.body.classList.remove('fixedHeader');\n    console.log(this.props.location);\n    this.getSlotDetails(this.props.location.state.userId);\n  }\n\n\n  getSlotDetails(userId){   \n    theRapidHireApiService('getTimeSlotByUser',{userId})\n    .then(response => {     \n      if (response.data.status === 'Success') {\n        console.log(response);\n        let slotVideoData = response.data.result[0];\n        let videoLinkInterviewer= slotVideoData.videoChatLinkInterviewer;\n        let videoLinkUser= slotVideoData.videoChatLinkUser;\n    //     let bookedSlotData=[];\n    //     bookedSlotData = response.data.result;\n      this.setState({videoLinkInterviewer,videoLinkUser});\n      }\n     \n    })\n    .catch(err => {\n      console.log(err);\n    });\n  }\n\n  componentWillReceiveProps(res) {\n  \n  }\n\n  componentDidMount() {\n\n     if(!hasGetUserMedia) {\n      alert(\"Your browser cannot stream from your webcam. Please switch to Chrome or Firefox.\");\n      return;\n    }\n    const script = document.createElement(\"script\");\n\n    script.src = \"https://cdn.rawgit.com/mattdiamond/Recorderjs/08e7abd9/dist/recorder.js\";\n    script.async = true;\n\n    document.body.appendChild(script)\n    if (this.props.student.achievementData) {\n      console.log(this.props.student.achievementData);\n    }\n\n  }\n\n \n\n  onPlayerReady(player){\n    console.log(\"Player is ready: \", player);\n    this.player = player;\n}\n\nonVideoPlay(duration){\n    console.log(\"Video played at: \", duration);\n}\n\nonVideoPause(duration){\n    console.log(\"Video paused at: \", duration);\n}\n\nonVideoTimeUpdate(duration){\n    console.log(\"Time updated: \", duration);\n}\n\nonVideoSeeking(duration){\n    console.log(\"Video seeking: \", duration);\n}\n\nonVideoSeeked(from, to){\n    console.log(`Video seeked from ${from} to ${to}`);\n}\n\nonVideoEnd(){\n    console.log(\"Video ended\");\n}\n\n\n\n  render() {\n    const videoConstraints = {\n        facingMode: \"user\"\n      };\n    return (\n        <div className=\"wrapper\">\n        <Header {...this.props} />     \n          <div className=\"main-panel\">   \n        <div>\n                  <VideoPlayer\n                    controls={true}\n                    src={this.state.videoLinkInterviewer}\n                    poster={this.state.video.poster}\n                    width=\"720\"\n                    height=\"420\"\n                    onReady={this.onPlayerReady.bind(this)}\n                    onPlay={this.onVideoPlay.bind(this)}\n                    onPause={this.onVideoPause.bind(this)}\n                    onTimeUpdate={this.onVideoTimeUpdate.bind(this)}\n                    onSeeking={this.onVideoSeeking.bind(this)}\n                    onSeeked={this.onVideoSeeked.bind(this)}\n                    onEnd={this.onVideoEnd.bind(this)}\n                />  \n\n                  <VideoPlayer\n                    controls={true}\n                    src={this.state.videoChatLinkUser}\n                    poster={this.state.video.poster}\n                    width=\"720\"\n                    height=\"420\"\n                    onReady={this.onPlayerReady.bind(this)}\n                    onPlay={this.onVideoPlay.bind(this)}\n                    onPause={this.onVideoPause.bind(this)}\n                    onTimeUpdate={this.onVideoTimeUpdate.bind(this)}\n                    onSeeking={this.onVideoSeeking.bind(this)}\n                    onSeeked={this.onVideoSeeked.bind(this)}\n                    onEnd={this.onVideoEnd.bind(this)}\n                />  \n            \n            </div>\n        </div>    \n     \n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    user: state.User.userData,\n    parent: state.User.parentData,\n    student: state.Student\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators(\n    {\n      actionGetStudentPersonalInfo,\n      actionGetAllCompetency,\n      actionGetAchievementsByUser,\n      actionGetRecommendationsByUser,\n      actionUpdateUserInfo,\n      actionGetAchievementsData\n    },\n    dispatch\n  );\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(VideoHistory);\n"]},"metadata":{},"sourceType":"module"}