{"ast":null,"code":"import _regeneratorRuntime from\"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{ToastContainer}from'react-toastify';import validation from'react-validation-mixin';import strategy from'react-validatorjs-strategy';import{Link}from'react-router-dom';import classnames from'classnames';import{Button,FormGroup,InputGroup,FormControl,Nav,NavItem}from'react-bootstrap';// import { YearPicker, MonthPicker, DayPicker } from 'react-dropdown-date';\nimport Sidebar from'./sideBar';import theRapidHireApiService from'../core/api/apiService';import{ZoomInAndOut,renderMessage,showErrorToast}from'../commonFunctions';import CONSTANTS from'../core/config/appConfig';import moment from'moment';//import DatePicker from 'react-datepicker';\n//import DatePicker from '../../assets/react-datepicker';\nvar validationMessages=CONSTANTS.validationMessages;var regExpressions=CONSTANTS.regExpressions;var i=0;var Signup=/*#__PURE__*/function(_Component){_inherits(Signup,_Component);function Signup(props,context){var _this;_classCallCheck(this,Signup);_this=_possibleConstructorReturn(this,_getPrototypeOf(Signup).call(this,props));_this.getRoles=function(){theRapidHireApiService('roleType','').then(function(response){if(response.data.status==='Success'){_this.setState({roles:response.data.result});}}).catch(function(err){console.log(err);});};_this.handleChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.submitData=function(event){if(event.key==='Enter'){event.preventDefault();_this.validateData();}};_this.validateData=function(){var self=_assertThisInitialized(_this);_this.props.validate(function(error){if(!error){var email=self.state.email?self.state.email.toLowerCase().trim():'';self.setState({isLoading:true});self.handleSubmit();}});};_this.handleSelect=function(eventKey){if(eventKey!==_this.state.roleId){_this.setState({firstName:'',lastName:'',email:'',parentEmail:'',parentFirstName:'',parentLastName:'',birthDate:'',month:'',day:'',year:''});}_this.setState({roleId:eventKey==2?2:1,eventKey:eventKey});_this.props.clearValidations();_this.setValidatorTypes(eventKey);};_this.handleResetForm=function(){_this.setState(_this.initialState);};_this.state={isLoading:false,firstName:'',lastName:'',email:'',parentEmail:'',parentFirstName:'',parentLastName:'',roles:[],roleId:_this.props.location.state&&_this.props.location.state.eventKey&&_this.props.location.state.eventKey===2?2:1,eventKey:_this.props.location.state&&_this.props.location.state.eventKey&&_this.props.location.state.eventKey===2?2:3,birthDate:'',isOpen:false,year:'',month:'',day:'',parentField:false,dob:''};_this.initialState=_this.state;_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.getValidatorData=_this.getValidatorData.bind(_assertThisInitialized(_this));_this.getClasses=_this.getClasses.bind(_assertThisInitialized(_this));_this.setValidatorTypes=_this.setValidatorTypes.bind(_assertThisInitialized(_this));return _this;}_createClass(Signup,[{key:\"componentWillMount\",value:function(){var _componentWillMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:this.getRoles();this.setValidatorTypes(this.props.location.state&&this.props.location.state.eventKey&&this.props.location.state.eventKey===2?2:3);case 2:case\"end\":return _context.stop();}}},_callee,this);}));function componentWillMount(){return _componentWillMount.apply(this,arguments);}return componentWillMount;}()},{key:\"componentDidMount\",value:function componentDidMount(){this.setDatePickerPlaceHolder();}},{key:\"setValidatorTypes\",value:function setValidatorTypes(type){var elementObject={firstName:['required','regex:'+regExpressions.alphaOnly],lastName:['required','regex:'+regExpressions.alphaOnly],email:'required|email'};var messageObject={'required.firstName':validationMessages.firstName.required,'regex.firstName':validationMessages.firstName.alphaOnly,'required.lastName':validationMessages.lastName.required,'regex.lastName':validationMessages.lastName.alphaOnly,'required.email':validationMessages.email.required,'email.email':validationMessages.email.invalid};if(parseInt(type,10)===3){}if(parseInt(type,10)===2){}this.validatorTypes=strategy.createSchema(elementObject,messageObject);}},{key:\"getValidatorData\",value:function getValidatorData(){return this.state;}},{key:\"getClasses\",value:function getClasses(field){return classnames({error:!this.props.isValid(field)});}},{key:\"setDatePickerPlaceHolder\",value:function setDatePickerPlaceHolder(){try{if(!this.state.birthDate)document.getElementsByName('date')[0].style.visibility='visible';else{document.getElementsByName('date')[0].style.visibility='hidden';}}catch(error){}}},{key:\"handleSubmit\",value:function handleSubmit(){console.log('handleSubmit');var firstName=this.state.firstName.trim();var lastName=this.state.lastName.trim();var email=this.state.email.toLowerCase().trim();var roleId=this.state.roleId;var self=this;var data={firstName:firstName,lastName:lastName,email:email,roleId:roleId// dob\n};theRapidHireApiService('signupUser',data).then(function(response){if(response.data.status==='Success'){self.handleResetForm();setTimeout(function(){self.props.history.push('/login');},5000);}else{self.setState({isLoading:false});}}).catch(function(err){self.setState({isLoading:false});console.log(err);});}},{key:\"render\",value:function render(){var _this2=this;var isLoading=this.state.isLoading;return React.createElement(\"div\",{className:\"wrapper\"},React.createElement(\"div\",{className:\"main-panel\"},React.createElement(\"div\",{className:\"login_card\"},React.createElement(\"div\",{className:\"header\"},React.createElement(ToastContainer,{autoClose:5000,className:\"custom-toaster-main-cls\",toastClassName:\"custom-toaster-bg\",transition:ZoomInAndOut}),React.createElement(\"div\",{className:\"formContent forgotPasswordForm bg-transparent\"},React.createElement(\"div\",{className:\"centeredBox p-6\"},React.createElement(\"div\",{className:\"flex align-center mb-1\"},React.createElement(Link,{to:\"/login\",className:\"md-icon mr-1\"},React.createElement(\"span\",{className:\"icon-back_arrow2\"})),React.createElement(\"legend\",{className:\"color-blue mb-0\"},\"Back To Login\")),React.createElement(Nav,{bsStyle:\"tabs\",activeKey:this.state.eventKey==2?2:3},React.createElement(NavItem,{eventKey:2,onClick:this.handleSelect.bind(this,'2')},\"Interviewer SIGN UP\"),React.createElement(NavItem,{eventKey:3,onClick:this.handleSelect.bind(this,'3')},\"User SIGN UP\"),React.createElement(NavItem,{eventKey:4,onClick:function onClick(){return _this2.props.history.push('/hrsignup');}},\"HR SIGN UP\")),React.createElement(\"form\",null,React.createElement(FormGroup,{className:this.getClasses('firstName')},React.createElement(\"label\",{className:\"form-label\"},\"First Name\"),React.createElement(FormControl,{type:\"text\",placeholder:\"First Name\",name:\"firstName\",value:this.state.firstName,onChange:this.handleChange,autoComplete:\"off\",maxLength:\"35\"}),renderMessage(this.props.getValidationMessages('firstName'))),React.createElement(FormGroup,{className:this.getClasses('lastName')},React.createElement(\"label\",{className:\"form-label\"},\"Last Name\"),React.createElement(FormControl,{type:\"text\",placeholder:\"Last Name\",name:\"lastName\",value:this.state.lastName,onChange:this.handleChange,autoComplete:\"off\",maxLength:\"35\"}),renderMessage(this.props.getValidationMessages('lastName'))),React.createElement(FormGroup,{className:this.getClasses('email')},React.createElement(\"label\",{className:\"form-label\"},\"Email\"),React.createElement(FormControl,{type:\"Email\",placeholder:\"Email\",name:\"email\",value:this.state.email,onChange:this.handleChange,autoComplete:\"off\",onKeyPress:this.submitData}),renderMessage(this.props.getValidationMessages('email'))),React.createElement(FormGroup,null,React.createElement(Button,{bsStyle:\"primary\",className:\"centeredBtn btn-lg\",disabled:isLoading,onClick:!isLoading?this.validateData:null},isLoading?'In Progress...':'Sign Up'))))),\" \"),\" \")));}}]);return Signup;}(Component);Signup=validation(strategy)(Signup);export default Signup;","map":{"version":3,"sources":["/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/src/common/authorization/signUp.js"],"names":["React","Component","ToastContainer","validation","strategy","Link","classnames","Button","FormGroup","InputGroup","FormControl","Nav","NavItem","Sidebar","theRapidHireApiService","ZoomInAndOut","renderMessage","showErrorToast","CONSTANTS","moment","validationMessages","regExpressions","i","Signup","props","context","getRoles","then","response","data","status","setState","roles","result","catch","err","console","log","handleChange","event","target","name","value","submitData","key","preventDefault","validateData","self","validate","error","email","state","toLowerCase","trim","isLoading","handleSubmit","handleSelect","eventKey","roleId","firstName","lastName","parentEmail","parentFirstName","parentLastName","birthDate","month","day","year","clearValidations","setValidatorTypes","handleResetForm","initialState","location","isOpen","parentField","dob","bind","getValidatorData","getClasses","setDatePickerPlaceHolder","type","elementObject","alphaOnly","messageObject","required","invalid","parseInt","validatorTypes","createSchema","field","isValid","document","getElementsByName","style","visibility","setTimeout","history","push","getValidationMessages"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\n\r\nimport validation from 'react-validation-mixin';\r\nimport strategy from 'react-validatorjs-strategy';\r\nimport { Link } from 'react-router-dom';\r\nimport classnames from 'classnames';\r\nimport {\r\n  Button,\r\n  FormGroup,\r\n  InputGroup,\r\n  FormControl,\r\n  Nav,\r\n  NavItem\r\n} from 'react-bootstrap';\r\n// import { YearPicker, MonthPicker, DayPicker } from 'react-dropdown-date';\r\n\r\nimport Sidebar from './sideBar';\r\nimport theRapidHireApiService from '../core/api/apiService';\r\nimport {\r\n  ZoomInAndOut,\r\n  renderMessage,\r\n  showErrorToast\r\n} from '../commonFunctions';\r\nimport CONSTANTS from '../core/config/appConfig';\r\nimport moment from 'moment';\r\n//import DatePicker from 'react-datepicker';\r\n//import DatePicker from '../../assets/react-datepicker';\r\n\r\nlet validationMessages = CONSTANTS.validationMessages;\r\nlet regExpressions = CONSTANTS.regExpressions;\r\nlet i = 0;\r\n\r\nclass Signup extends Component {\r\n  constructor(props, context) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      firstName: '',\r\n      lastName: '',\r\n      email: '',\r\n      parentEmail: '',\r\n      parentFirstName: '',\r\n      parentLastName: '',\r\n      roles: [],\r\n      roleId:\r\n        this.props.location.state &&\r\n        this.props.location.state.eventKey &&\r\n        this.props.location.state.eventKey === 2\r\n          ? 2\r\n          : 1,\r\n      eventKey:\r\n        this.props.location.state &&\r\n        this.props.location.state.eventKey &&\r\n        this.props.location.state.eventKey === 2\r\n          ? 2\r\n          : 3,\r\n      birthDate: '',\r\n      isOpen: false,\r\n      year: '',\r\n      month: '',\r\n      day: '',\r\n      parentField: false,\r\n      dob: ''\r\n    };\r\n\r\n    this.initialState = this.state;\r\n\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.getValidatorData = this.getValidatorData.bind(this);\r\n    this.getClasses = this.getClasses.bind(this);\r\n    this.setValidatorTypes = this.setValidatorTypes.bind(this);\r\n  }\r\n\r\n  async componentWillMount() {\r\n    this.getRoles();\r\n    this.setValidatorTypes(\r\n      this.props.location.state &&\r\n      this.props.location.state.eventKey &&\r\n      this.props.location.state.eventKey === 2\r\n        ? 2\r\n        : 3\r\n    );\r\n  }\r\n  componentDidMount() {\r\n    this.setDatePickerPlaceHolder();\r\n  }\r\n\r\n  setValidatorTypes(type) {\r\n    let elementObject = {\r\n      firstName: ['required', 'regex:' + regExpressions.alphaOnly],\r\n      lastName: ['required', 'regex:' + regExpressions.alphaOnly],\r\n      email: 'required|email'\r\n    };\r\n\r\n    let messageObject = {\r\n      'required.firstName': validationMessages.firstName.required,\r\n      'regex.firstName': validationMessages.firstName.alphaOnly,\r\n      'required.lastName': validationMessages.lastName.required,\r\n      'regex.lastName': validationMessages.lastName.alphaOnly,\r\n      'required.email': validationMessages.email.required,\r\n      'email.email': validationMessages.email.invalid\r\n    };\r\n\r\n    if (parseInt(type, 10) === 3) {     \r\n    }\r\n\r\n    if (parseInt(type, 10) === 2) {    \r\n    }\r\n    this.validatorTypes = strategy.createSchema(elementObject, messageObject);\r\n  }\r\n\r\n  getValidatorData() {\r\n    return this.state;\r\n  }\r\n\r\n  getClasses(field) {\r\n    return classnames({\r\n      error: !this.props.isValid(field)\r\n    });\r\n  }\r\n\r\n  getRoles = () => {\r\n    theRapidHireApiService('roleType', '')\r\n      .then(response => {\r\n        if (response.data.status === 'Success') {\r\n          this.setState({ roles: response.data.result });\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  handleChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  setDatePickerPlaceHolder() {\r\n    try {\r\n      if (!this.state.birthDate)\r\n        document.getElementsByName('date')[0].style.visibility = 'visible';\r\n      else {\r\n        document.getElementsByName('date')[0].style.visibility = 'hidden';\r\n      }\r\n    } catch (error) {}\r\n  }\r\n\r\n  submitData = event => {\r\n    if (event.key === 'Enter') {\r\n      event.preventDefault();\r\n      this.validateData();\r\n    }\r\n  };\r\n\r\n  validateData = () => {\r\n    let self = this;   \r\n    this.props.validate(function(error) {\r\n      if (!error) {\r\n        var email = self.state.email\r\n          ? self.state.email.toLowerCase().trim()\r\n          : '';       \r\n        \r\n          self.setState({ isLoading: true });\r\n          self.handleSubmit();\r\n        }      \r\n    });\r\n  };\r\n \r\n  handleSelect = eventKey => {\r\n    if (eventKey !== this.state.roleId) {\r\n      this.setState({\r\n        firstName: '',\r\n        lastName: '',\r\n        email: '',\r\n        parentEmail: '',\r\n        parentFirstName: '',\r\n        parentLastName: '',\r\n        birthDate: '',\r\n        month: '',\r\n        day: '',\r\n        year: ''\r\n      });\r\n    }\r\n\r\n    this.setState({\r\n      roleId: eventKey == 2 ? 2 : 1,\r\n      eventKey: eventKey\r\n    });\r\n    this.props.clearValidations();\r\n    this.setValidatorTypes(eventKey);\r\n  };\r\n\r\n  handleResetForm = () => {\r\n    this.setState(this.initialState);\r\n  };\r\n\r\n  handleSubmit() {\r\n    console.log('handleSubmit');\r\n    let firstName = this.state.firstName.trim();\r\n    let lastName = this.state.lastName.trim();\r\n    let email = this.state.email.toLowerCase().trim();\r\n    let roleId = this.state.roleId;   \r\n\r\n    let self = this;    \r\n     \r\n      let data = {\r\n        firstName,\r\n        lastName,\r\n        email,      \r\n        roleId\r\n       // dob\r\n      };\r\n\r\n      theRapidHireApiService('signupUser', data)\r\n        .then(response => {\r\n          if (response.data.status === 'Success') {\r\n            self.handleResetForm();\r\n            setTimeout(function() {\r\n              self.props.history.push('/login');\r\n            }, 5000);\r\n          } else {\r\n            self.setState({ isLoading: false });\r\n          }\r\n        })\r\n        .catch(err => {\r\n          self.setState({ isLoading: false });\r\n          console.log(err);\r\n        });  \r\n\r\n  }\r\n  \r\n\r\n  \r\n\r\n  render() {\r\n    const { isLoading } = this.state;\r\n    return (\r\n      <div className=\"wrapper\">        \r\n          <div className=\"main-panel\">     \r\n            <div className=\"login_card\">\r\n               <div className=\"header\">\r\n       \r\n        <ToastContainer\r\n          autoClose={5000}\r\n          className=\"custom-toaster-main-cls\"\r\n          toastClassName=\"custom-toaster-bg\"\r\n          transition={ZoomInAndOut}\r\n        />\r\n        \r\n        <div className=\"formContent forgotPasswordForm bg-transparent\">\r\n          <div className=\"centeredBox p-6\">\r\n          <div className=\"flex align-center mb-1\">\r\n                  <Link to=\"/login\" className=\"md-icon mr-1\">\r\n                    <span className=\"icon-back_arrow2\" />\r\n                  </Link>\r\n                  <legend className=\"color-blue mb-0\">Back To Login</legend>\r\n          </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n            <Nav bsStyle=\"tabs\" activeKey={this.state.eventKey == 2 ? 2 : 3}>            \r\n\r\n              <NavItem eventKey={2} onClick={this.handleSelect.bind(this, '2')}>\r\n              Interviewer SIGN UP\r\n              </NavItem>\r\n\r\n              <NavItem eventKey={3} onClick={this.handleSelect.bind(this, '3')}>\r\n                User SIGN UP\r\n              </NavItem>\r\n              <NavItem\r\n                  eventKey={4}\r\n                  onClick={() => this.props.history.push('/hrsignup')}\r\n                >\r\n                  HR SIGN UP\r\n                </NavItem>\r\n            </Nav>\r\n            <form>\r\n              {/* <div className=\"signupText\">\r\n                Sign up to theRapidHire as\r\n                <ButtonToolbar>\r\n                  <DropdownButton\r\n                    bsSize=\"xsmall\"\r\n                    title={this.state.roleId === 1 ? 'Student' : 'Parent'}\r\n                    id=\"dropdown-size-large\"\r\n                  >\r\n                    {this.state.roles.length > 0\r\n                      ? this.state.roles.map((role, index) => (\r\n                          <MenuItem\r\n                            key={index}\r\n                            eventKey={role.roleTypeId}\r\n                            onSelect={this.handleSelect}\r\n                          >\r\n                            {role.roleName}\r\n                          </MenuItem>\r\n                        ))\r\n                      : ''}\r\n                  </DropdownButton>\r\n                </ButtonToolbar>\r\n              </div> */}\r\n\r\n              <FormGroup className={this.getClasses('firstName')}>\r\n                <label className=\"form-label\">First Name</label>\r\n               \r\n                  {/* <InputGroup.Addon>\r\n                    <span className=\"icon-username\" />\r\n                  </InputGroup.Addon> */}\r\n                  <FormControl\r\n                    type=\"text\"\r\n                    placeholder=\"First Name\"\r\n                    name=\"firstName\"\r\n                    value={this.state.firstName}\r\n                    onChange={this.handleChange}\r\n                    autoComplete=\"off\"\r\n                    maxLength=\"35\"\r\n                  />\r\n               \r\n                {renderMessage(this.props.getValidationMessages('firstName'))}\r\n              </FormGroup>\r\n\r\n              <FormGroup className={this.getClasses('lastName')}>\r\n                <label className=\"form-label\">Last Name</label>\r\n                {/* <InputGroup>\r\n                  <InputGroup.Addon>\r\n                    <span className=\"icon-username\" />\r\n                  </InputGroup.Addon> */}\r\n                  <FormControl\r\n                    type=\"text\"\r\n                    placeholder=\"Last Name\"\r\n                    name=\"lastName\"\r\n                    value={this.state.lastName}\r\n                    onChange={this.handleChange}\r\n                    autoComplete=\"off\"\r\n                    maxLength=\"35\"\r\n                  />             \r\n                {renderMessage(this.props.getValidationMessages('lastName'))}\r\n              </FormGroup>\r\n\r\n              <FormGroup className={this.getClasses('email')}>\r\n                <label className=\"form-label\">Email</label>              \r\n                  <FormControl\r\n                    type=\"Email\"\r\n                    placeholder=\"Email\"\r\n                    name=\"email\"\r\n                    value={this.state.email}\r\n                    onChange={this.handleChange}\r\n                    autoComplete=\"off\"\r\n                    onKeyPress={this.submitData}\r\n                  />               \r\n                {renderMessage(this.props.getValidationMessages('email'))}\r\n              </FormGroup>\r\n\r\n              {/* {this.state.roleId === 1 ? (\r\n                <FormGroup>\r\n                  <label className=\"form-label\">Date Of Birth</label>\r\n                  <div className=\"dob\">\r\n                    <div className={`form-group ${this.getClasses('year')}`}>\r\n                      <YearPicker\r\n                        id=\"year\"\r\n                        name=\"year\"\r\n                        classes=\"form-control\"\r\n                        defaultValue=\"Year\"\r\n                        start={1970}\r\n                        end={moment().year()}\r\n                        reverse\r\n                        value={this.state.year}\r\n                        onChange={year => this.selectDate('year', year)}\r\n                      />\r\n                      {renderMessage(this.props.getValidationMessages('year'))}\r\n                    </div>\r\n\r\n                    <div className={`form-group ${this.getClasses('month')}`}>\r\n                      <MonthPicker\r\n                        id=\"month\"\r\n                        name=\"month\"\r\n                        classes=\"form-control\"\r\n                        defaultValue=\"Month\"\r\n                        short\r\n                        endYearGiven\r\n                        year={this.state.year}\r\n                        value={this.state.month}\r\n                        onChange={month => this.selectDate('month', month)}\r\n                      />\r\n\r\n                      {renderMessage(this.props.getValidationMessages('month'))}\r\n                    </div>\r\n\r\n                    <div className={`form-group ${this.getClasses('day')}`}>\r\n                      <DayPicker\r\n                        defaultValue=\"Day\"\r\n                        id=\"day\"\r\n                        name=\"day\"\r\n                        classes=\"form-control\"\r\n                        year={this.state.year}\r\n                        month={this.state.month}\r\n                        endYearGiven\r\n                        value={this.state.day}\r\n                        onChange={day => this.selectDate('day', day)}\r\n                      />\r\n                      {renderMessage(this.props.getValidationMessages('day'))}\r\n                    </div>\r\n                  </div>\r\n                  <span\r\n                    className=\"error\"\r\n                    id=\"dateOfBirth\"\r\n                    style={{ display: 'none' }}\r\n                  >\r\n                    Please enter valid date of birth\r\n                  </span>                  \r\n                </FormGroup>\r\n              ) : (\r\n                ''\r\n              )} */}\r\n   \r\n              <FormGroup>\r\n                <Button\r\n                  bsStyle=\"primary\"\r\n                  className=\"centeredBtn btn-lg\"\r\n                  disabled={isLoading}\r\n                  onClick={!isLoading ? this.validateData : null}\r\n                >\r\n                  {isLoading ? 'In Progress...' : 'Sign Up'}\r\n                </Button>\r\n              </FormGroup>\r\n            </form>\r\n          </div>\r\n        </div> </div> </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nSignup = validation(strategy)(Signup);\r\nexport default Signup;\r\n"]},"metadata":{},"sourceType":"module"}