{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Ankur\\\\Desktop\\\\therapidhire\\\\therapidhireui\\\\TheRapidHireUI\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Ankur\\\\Desktop\\\\therapidhire\\\\therapidhireui\\\\TheRapidHireUI\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Ankur\\\\Desktop\\\\therapidhire\\\\therapidhireui\\\\TheRapidHireUI\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Ankur\\\\Desktop\\\\therapidhire\\\\therapidhireui\\\\TheRapidHireUI\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\Ankur\\\\Desktop\\\\therapidhire\\\\therapidhireui\\\\TheRapidHireUI\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _ from'lodash';import Emitter from'./Emitter';/**\r\n * Manage all media devices\r\n */var MediaDevice=/*#__PURE__*/function(_Emitter){_inherits(MediaDevice,_Emitter);function MediaDevice(){_classCallCheck(this,MediaDevice);return _possibleConstructorReturn(this,_getPrototypeOf(MediaDevice).apply(this,arguments));}_createClass(MediaDevice,[{key:\"start\",/**\r\n   * Start media devices and send stream\r\n   */value:function start(){var _this=this;var constraints={video:{facingMode:'user',height:{min:360,ideal:720,max:1080}},audio:true};navigator.mediaDevices.getUserMedia(constraints).then(function(stream){_this.stream=stream;_this.emit('stream',stream);}).catch(function(err){if(err instanceof DOMException){alert('Cannot open webcam and/or microphone');}else{console.log(err);}});return this;}/**\r\n   * Turn on/off a device\r\n   * @param {String} type - Type of the device\r\n   * @param {Boolean} [on] - State of the device\r\n   */},{key:\"toggle\",value:function toggle(type,on){var len=arguments.length;if(this.stream){this.stream[\"get\".concat(type,\"Tracks\")]().forEach(function(track){var state=len===2?on:!track.enabled;_.set(track,'enabled',state);});}return this;}/**\r\n   * Stop all media track of devices\r\n   */},{key:\"stop\",value:function stop(){if(this.stream){this.stream.getTracks().forEach(function(track){return track.stop();});}return this;}}]);return MediaDevice;}(Emitter);export default MediaDevice;","map":{"version":3,"sources":["C:\\Users\\Ankur\\Desktop\\therapidhire\\therapidhireui\\TheRapidHireUI\\src\\videoChat\\js\\MediaDevice.js"],"names":["_","Emitter","MediaDevice","constraints","video","facingMode","height","min","ideal","max","audio","navigator","mediaDevices","getUserMedia","then","stream","emit","catch","err","DOMException","alert","console","log","type","on","len","arguments","length","forEach","track","state","enabled","set","getTracks","stop"],"mappings":"69BAAA,MAAOA,CAAAA,CAAP,KAAc,QAAd,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CAEA;;MAGMC,CAAAA,W,6PACJ;;2BAGQ,gBACN,GAAMC,CAAAA,WAAW,CAAG,CAClBC,KAAK,CAAE,CACLC,UAAU,CAAE,MADP,CAELC,MAAM,CAAE,CAAEC,GAAG,CAAE,GAAP,CAAYC,KAAK,CAAE,GAAnB,CAAwBC,GAAG,CAAE,IAA7B,CAFH,CADW,CAKlBC,KAAK,CAAE,IALW,CAApB,CAQAC,SAAS,CAACC,YAAV,CACGC,YADH,CACgBV,WADhB,EAEGW,IAFH,CAEQ,SAAAC,MAAM,CAAI,CACd,KAAI,CAACA,MAAL,CAAcA,MAAd,CACA,KAAI,CAACC,IAAL,CAAU,QAAV,CAAoBD,MAApB,EACD,CALH,EAMGE,KANH,CAMS,SAAAC,GAAG,CAAI,CACZ,GAAIA,GAAG,WAAYC,CAAAA,YAAnB,CAAiC,CAC/BC,KAAK,CAAC,sCAAD,CAAL,CACD,CAFD,IAEO,CACLC,OAAO,CAACC,GAAR,CAAYJ,GAAZ,EACD,CACF,CAZH,EAcA,MAAO,KAAP,CACD,CAED;;;;2CAKOK,I,CAAMC,E,CAAI,CACf,GAAMC,CAAAA,GAAG,CAAGC,SAAS,CAACC,MAAtB,CACA,GAAI,KAAKZ,MAAT,CAAiB,CACf,KAAKA,MAAL,cAAkBQ,IAAlB,cAAkCK,OAAlC,CAA0C,SAAAC,KAAK,CAAI,CACjD,GAAMC,CAAAA,KAAK,CAAGL,GAAG,GAAK,CAAR,CAAYD,EAAZ,CAAiB,CAACK,KAAK,CAACE,OAAtC,CACA/B,CAAC,CAACgC,GAAF,CAAMH,KAAN,CAAa,SAAb,CAAwBC,KAAxB,EACD,CAHD,EAID,CACD,MAAO,KAAP,CACD,CAED;;wCAGO,CACL,GAAI,KAAKf,MAAT,CAAiB,CACf,KAAKA,MAAL,CAAYkB,SAAZ,GAAwBL,OAAxB,CAAgC,SAAAC,KAAK,QAAIA,CAAAA,KAAK,CAACK,IAAN,EAAJ,EAArC,EACD,CACD,MAAO,KAAP,CACD,C,yBAtDuBjC,O,EAyD1B,cAAeC,CAAAA,WAAf","sourcesContent":["import _ from 'lodash';\r\nimport Emitter from './Emitter';\r\n\r\n/**\r\n * Manage all media devices\r\n */\r\nclass MediaDevice extends Emitter {\r\n  /**\r\n   * Start media devices and send stream\r\n   */\r\n  start() {\r\n    const constraints = {\r\n      video: {\r\n        facingMode: 'user',\r\n        height: { min: 360, ideal: 720, max: 1080 }\r\n      },\r\n      audio: true\r\n    };\r\n\r\n    navigator.mediaDevices\r\n      .getUserMedia(constraints)\r\n      .then(stream => {\r\n        this.stream = stream;\r\n        this.emit('stream', stream);\r\n      })\r\n      .catch(err => {\r\n        if (err instanceof DOMException) {\r\n          alert('Cannot open webcam and/or microphone');\r\n        } else {\r\n          console.log(err);\r\n        }\r\n      });\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Turn on/off a device\r\n   * @param {String} type - Type of the device\r\n   * @param {Boolean} [on] - State of the device\r\n   */\r\n  toggle(type, on) {\r\n    const len = arguments.length;\r\n    if (this.stream) {\r\n      this.stream[`get${type}Tracks`]().forEach(track => {\r\n        const state = len === 2 ? on : !track.enabled;\r\n        _.set(track, 'enabled', state);\r\n      });\r\n    }\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Stop all media track of devices\r\n   */\r\n  stop() {\r\n    if (this.stream) {\r\n      this.stream.getTracks().forEach(track => track.stop());\r\n    }\r\n    return this;\r\n  }\r\n}\r\n\r\nexport default MediaDevice;\r\n"]},"metadata":{},"sourceType":"module"}