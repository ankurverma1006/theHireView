{"ast":null,"code":"import _classCallCheck from\"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{bindActionCreators}from'redux';import{connect}from'react-redux';import{confirmAlert}from'react-confirm-alert';import'react-confirm-alert/src/react-confirm-alert.css';import theRapidHireApiService from'../../common/core/api/apiService';import{Modal,DropdownButton,MenuItem}from'react-bootstrap';import{setLocalStorage,uploadToAzure,getThumbImage}from'../../common/commonFunctions';import CONSTANTS from'../../common/core/config/appConfig';import Header from'../header/header';import ImageCropper from'../../common/cropper/imageCropper';import AddMoreStudent from'./addMoreStudent';import{actionSetStudentAsUser,actionGetStudentPersonalInfo,actionGetStudentUpdatedInfo,actionRemoveStudent,actionUpdateParentInfo}from'../../common/core/redux/actions';import sampleProfile from'../../assets/img/sample-profile.jpg';var Hruser=/*#__PURE__*/function(_Component){_inherits(Hruser,_Component);function Hruser(props){var _this2;_classCallCheck(this,Hruser);_this2=_possibleConstructorReturn(this,_getPrototypeOf(Hruser).call(this,props));_this2.setProfileData=function(data){if(data){var userId=data.userId;var firstName=data.firstName;var lastName=data.lastName;var profileImage=data.profilePicture;if(profileImage){profileImage=profileImage;}var coverImage=data.coverImage;if(coverImage){coverImage=getThumbImage('original',coverImage);}_this2.setState({firstName:firstName,lastName:lastName,userId:userId,profileImage:profileImage,coverImage:coverImage});}};_this2.handleClickProfile=function(otherUserInfoData){otherUserInfoData['token']=_this2.props.user['token'];var candidateAndHrDataJson={otherUserInfoData:otherUserInfoData};_this2.props.actionSetStudentAsUser(candidateAndHrDataJson);_this2.props.history.push('/recruiter/jobDesription');};_this2.handleChange=function(event){var self=_assertThisInitialized(_this2);var studentList=self.state.studentList;var target=event.target;var value=target.type==='checkbox'?target.checked:target.value;var name=target.name;var str_array=name.split('_');var id1=str_array[1];var id2=str_array[2];var userId=str_array[1];var data={isActive:value,userId:userId,index:id2};theRapidHireApiService('updateUserStatus',data).then(function(response){if(response&&response.data.status==='Success'){self.props.actionGetStudentUpdatedInfo(data);}}).catch(function(error){});studentList[id2].isActive=!studentList[id2].isActive;self.setState({isActive:false,studentLis:studentList});};_this2.handleImageChange=function(action,event){_this2.setState({imageSource:''});var file=event.target.files[0];var fileName=file.name;var fileType=file.type;if(file){_this2.generateSASToken();var reader=new FileReader();reader.readAsDataURL(event.target.files[0]);reader.onload=function(event){_this2.setState({imageSource:event.target.result,imageName:fileName,imageType:fileType,action:action});};}};_this2.updateUserData=function(type,uploadPath,userId){if(type===1){var profilePicture=uploadPath;var data={userId:userId,profilePicture:profilePicture};_this2.props.actionUpdateParentInfo({profilePicture:profilePicture});theRapidHireApiService('updateProfileImage',data);}if(type===2){var coverImage=uploadPath;var _data={userId:userId,coverImage:coverImage};_this2.props.actionUpdateParentInfo({coverImage:coverImage});theRapidHireApiService('updateCoverImage',_data);}};_this2.removeStudent=function(data,index){var _this=_assertThisInitialized(_this2);confirmAlert({customUI:function customUI(_ref){var onClose=_ref.onClose;return React.createElement(\"div\",{className:\"custom-ui\"},React.createElement(\"h1\",null,\"Are you sure?\"),React.createElement(\"p\",null,\"You want to delete this student?\"),React.createElement(\"button\",{onClick:onClose},\"No\"),React.createElement(\"button\",{onClick:function onClick(){var userId=data.userId;var isArchived=true;var userData={userId:userId,isArchived:isArchived};theRapidHireApiService('removeStudentUser',userData).then(function(response){if(response&&response.data&&response.data.status==\"Success\"){_this.props.actionRemoveStudent(userData);onClose();_this.resetStudentList(userId);}else{onClose();}}).catch(function(error){console.log('err',error);});}},\"Yes, Delete it!\"));}});};_this2.viewSampleProfile=function(){_this2.setState({showProfile:!_this2.state.showProfile});};_this2.deleteStudent=function(studentId,parentId){if(studentId&&parentId){var _this=_assertThisInitialized(_this2);confirmAlert({customUI:function customUI(_ref2){var onClose=_ref2.onClose;return React.createElement(\"div\",{className:\"custom-ui\"},React.createElement(\"p\",null,\"Are you sure you want to delete this student?\"),React.createElement(\"button\",{onClick:onClose},\"No\"),React.createElement(\"button\",{onClick:function onClick(){var userData={studentId:studentId,parentId:parentId};theRapidHireApiService('removeStudentUser',userData).then(function(response){if(response&&response.data&&response.data.status==\"Success\"){var _userData={userId:studentId,parentId:parentId};_this.props.actionRemoveStudent(_userData);onClose();_this.resetStudentList(studentId);}else{onClose();}}).catch(function(error){console.log('err',error);});}},\"Yes, Delete it!\"));}});}};_this2.state={sasToken:'',loader1:false,loader2:false,imageSource:'',imageName:'',imageType:'',addStudentModel:false,addParentModel:false,studentId:''};_this2.handleClickProfile=_this2.handleClickProfile.bind(_assertThisInitialized(_this2));_this2.uploadImageToAzure=_this2.uploadImageToAzure.bind(_assertThisInitialized(_this2));_this2.addStudentModel=_this2.addStudentModel.bind(_assertThisInitialized(_this2));_this2.addParentModel=_this2.addParentModel.bind(_assertThisInitialized(_this2));setLocalStorage('userInfo',_this2.props.parent?_this2.props.parent:_this2.props.user);return _this2;}_createClass(Hruser,[{key:\"componentWillMount\",value:function componentWillMount(){document.body.classList.add('light-theme');document.body.classList.add('absoluteHeader');}},{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.user){this.setState({user:this.props.user});var studentList=this.props.parent&&this.props.parent.students?this.props.parent.students:this.props.user.students||[];this.setProfileData(this.props.user);this.setStudentData(studentList);}}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){// this.setParentProfileData(nextProps.parent);\n}},{key:\"setStudentData\",value:function setStudentData(studentList){var _this3=this;var userId=this.props.user.userId;theRapidHireApiService('getHrList',{userId:userId}).then(function(response){console.log(response);if(response&&response.data.status==='Success'&&response.data.result.length>0){console.log(response);var student=_this3.state.studentList;studentList=response.data.result;_this3.setState({studentList:studentList});}}).catch(function(err){console.log(err);});}},{key:\"generateSASToken\",value:function generateSASToken(){var _this4=this;theRapidHireApiService('getSASToken').then(function(response){if(response.data.status==='Success'){var sasToken=response.data.result.sasToken;_this4.setState({sasToken:sasToken});}}).catch(function(err){console.log(err);});}},{key:\"uploadImageToAzure\",value:function uploadImageToAzure(file){var _this5=this;var userId=this.state.userId;var type=this.state.action;var sasToken=this.state.sasToken;if(file!==''){type===1?this.setState({loader1:true,profileImage:''}):this.setState({loader2:true,coverImage:''});uploadToAzure(type,userId,file,sasToken,function(error,result,uploadPath){if(error){return;}if(result){if(type===1){var profileImage=\"\".concat(CONSTANTS.azureBlobURI,\"/\").concat(CONSTANTS.azureContainer,\"/\").concat(uploadPath);_this5.setState({profileImage:profileImage,loader1:false});}if(type===2){var coverImage=\"\".concat(CONSTANTS.azureBlobURI,\"/\").concat(CONSTANTS.azureContainer,\"/\").concat(uploadPath);_this5.setState({coverImage:coverImage,loader2:false});}_this5.updateUserData(type,uploadPath,userId);console.log('upload is successful',uploadPath);}});}}},{key:\"addStudentModel\",value:function addStudentModel(){this.setState({addStudentModel:!this.state.addStudentModel});var studentList=this.props.parent&&this.props.parent.students?this.props.parent.students:this.props.user.students||[];this.setStudentData(studentList);}},{key:\"addParentModel\",value:function addParentModel(studentId){console.log(studentId);this.setState({addParentModel:!this.state.addParentModel,studentId:studentId});}},{key:\"resetStudentList\",value:function resetStudentList(userId){var studentList=this.state.studentList||[];studentList.splice(studentList.findIndex(function(todo){return todo.userId===parseInt(userId,10);}),1);this.setState({studentList:studentList});}},{key:\"render\",value:function render(){var self=this;return React.createElement(\"div\",{className:\"wrapper\"},React.createElement(Header,this.props),React.createElement(\"div\",{className:\"main-panel\"},React.createElement(\"div\",{className:\"w3-content main-panel1\"},React.createElement(\"div\",{className:\"button--wrapper mb-1 text-center flex flex-1 justify-center dashBtnCenter\"},React.createElement(\"button\",{className:\"btn btn-with-border with-icon smallBtn\",onClick:this.addStudentModel},React.createElement(\"span\",{className:\"icon-plus\"}),\"add HR\")),this.state.studentList&&this.state.studentList.map(function(data,index){return React.createElement(\"div\",{key:index,className:\"suggestion-usd\",id:'student_'+data.userId},React.createElement(\"div\",{className:\"student-img deflt-icon centeredBox flex\"},data.profilePicture?React.createElement(\"img\",{src:data.profilePicture,alt:\"\",className:\"img-responsive\"}):React.createElement(\"div\",{className:\"pp-default\"},React.createElement(\"span\",{className:\"icon-user_default2\"}))),React.createElement(\"div\",{className:\"student-info flex justify-content-space-between\"},React.createElement(\"div\",{className:\"flex align-center justify-content-space-bettween p-20-30 stuBgWhite\"},React.createElement(\"div\",{className:\"flex-1\"},React.createElement(\"h3\",null,data.firstName?data.firstName+' '+(data.lastName?data.lastName:''):null),React.createElement(\"p\",null,data.email)),React.createElement(\"div\",{className:\"btn-group flex align-center\"},React.createElement(\"div\",{className:data.isActive?'toggleWrapper active':'toggleWrapper'},React.createElement(\"label\",{htmlFor:\"#\"},\"Active\"),React.createElement(\"div\",{className:\"item\"},React.createElement(\"input\",{type:\"checkbox\",name:\"isActive_\".concat(data.userId,\"_\").concat(index),onChange:self.handleChange,checked:data.isActive?true:false,id:\"toggle_today_summary\".concat(index)}),React.createElement(\"div\",{className:\"toggle\"},React.createElement(\"label\",{htmlFor:\"toggle_today_summary\".concat(index)},React.createElement(\"i\",null))))),React.createElement(\"button\",{className:\"btn btn-primary no-round\",onClick:self.handleClickProfile.bind(self,data)},\"Go to profile\"),\"\\xA0 \\xA0\",React.createElement(DropdownButton,{className:\"burger-trigger\",title:React.createElement(\"span\",{className:\"icon-burger\"}),id:\"1\"},React.createElement(MenuItem,{onSelect:self.addParentModel.bind(this,data.userId)},React.createElement(\"i\",{className:\"m-ico icon-plus\"}),\"Add Parent\"),React.createElement(MenuItem,{onSelect:function onSelect(){return self.props.history.push({pathname:'/parent/list',state:{studentData:data}});}},React.createElement(\"i\",{className:\"m-ico icon-parent\"}),\" Parent List\"),React.createElement(MenuItem,{onSelect:function onSelect(){return self.props.history.push({pathname:'/student/profilelog',state:{profileOwner:data.userId}});}},React.createElement(\"i\",{className:\"m-ico icon-profile-sharing\"}),' ',\"Profile Sharing Log\"),React.createElement(MenuItem//   onSelect={self.deleteStudent.bind(\n//     this,\n//     data.userId,\n//     self.props.parent.userId\n//   )}\n,null,React.createElement(\"i\",{className:\"m-ico icon-delete\"}),\" Delete\")))),React.createElement(\"div\",{className:\"flex align-center justify-content-space-bettween tag-wrap\"},React.createElement(\"div\",{className:\"promo-tag br-light\"},\"Accomplishments \",React.createElement(\"span\",null,data.accomplishment)),React.createElement(\"div\",{className:\"promo-tag\"},\"Recommendation \",React.createElement(\"span\",null,data.recommendation)))));})),this.state.addStudentModel?React.createElement(AddMoreStudent,{addStudentModel:this.state.addStudentModel,closeAddStudentModel:this.addStudentModel}):null));}}]);return Hruser;}(Component);var mapStateToProps=function mapStateToProps(state){return{user:state.User.userData,parent:state.User.parentData,headerCount:state.User.headerCount};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({actionSetStudentAsUser:actionSetStudentAsUser,actionGetStudentPersonalInfo:actionGetStudentPersonalInfo,actionGetStudentUpdatedInfo:actionGetStudentUpdatedInfo,actionRemoveStudent:actionRemoveStudent,actionUpdateParentInfo:actionUpdateParentInfo},dispatch);};export default connect(mapStateToProps,mapDispatchToProps)(Hruser);","map":{"version":3,"sources":["/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/src/admin/hruser/hruser.js"],"names":["React","Component","bindActionCreators","connect","confirmAlert","theRapidHireApiService","Modal","DropdownButton","MenuItem","setLocalStorage","uploadToAzure","getThumbImage","CONSTANTS","Header","ImageCropper","AddMoreStudent","actionSetStudentAsUser","actionGetStudentPersonalInfo","actionGetStudentUpdatedInfo","actionRemoveStudent","actionUpdateParentInfo","sampleProfile","Hruser","props","setProfileData","data","userId","firstName","lastName","profileImage","profilePicture","coverImage","setState","handleClickProfile","otherUserInfoData","user","candidateAndHrDataJson","history","push","handleChange","event","self","studentList","state","target","value","type","checked","name","str_array","split","id1","id2","isActive","index","then","response","status","catch","error","studentLis","handleImageChange","action","imageSource","file","files","fileName","fileType","generateSASToken","reader","FileReader","readAsDataURL","onload","result","imageName","imageType","updateUserData","uploadPath","removeStudent","_this","customUI","onClose","isArchived","userData","resetStudentList","console","log","viewSampleProfile","showProfile","deleteStudent","studentId","parentId","sasToken","loader1","loader2","addStudentModel","addParentModel","bind","uploadImageToAzure","parent","document","body","classList","add","students","setStudentData","nextProps","length","student","err","azureBlobURI","azureContainer","splice","findIndex","todo","parseInt","map","email","pathname","studentData","profileOwner","accomplishment","recommendation","mapStateToProps","User","parentData","headerCount","mapDispatchToProps","dispatch"],"mappings":"kmCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,kBAAT,KAAmC,OAAnC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,YAAT,KAA6B,qBAA7B,CACA,MAAO,iDAAP,CACA,MAAOC,CAAAA,sBAAP,KAAmC,kCAAnC,CACA,OAASC,KAAT,CAAgBC,cAAhB,CAAgCC,QAAhC,KAAgD,iBAAhD,CACA,OACEC,eADF,CAEEC,aAFF,CAGEC,aAHF,KAIO,8BAJP,CAKA,MAAOC,CAAAA,SAAP,KAAsB,oCAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,YAAP,KAAyB,mCAAzB,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CACA,OACEC,sBADF,CAEEC,4BAFF,CAGEC,2BAHF,CAIEC,mBAJF,CAKEC,sBALF,KAMO,iCANP,CAQA,MAAOC,CAAAA,aAAP,KAA0B,qCAA1B,C,GAEMC,CAAAA,M,gEACJ,gBAAYC,KAAZ,CAAmB,yCACjB,yEAAMA,KAAN,GADiB,OAiDnBC,cAjDmB,CAiDF,SAAAC,IAAI,CAAI,CACvB,GAAIA,IAAJ,CAAU,CACR,GAAIC,CAAAA,MAAM,CAAGD,IAAI,CAACC,MAAlB,CAEA,GAAIC,CAAAA,SAAS,CAAGF,IAAI,CAACE,SAArB,CACA,GAAIC,CAAAA,QAAQ,CAAGH,IAAI,CAACG,QAApB,CAEA,GAAIC,CAAAA,YAAY,CAAGJ,IAAI,CAACK,cAAxB,CACA,GAAID,YAAJ,CAAkB,CAChBA,YAAY,CAAGA,YAAf,CACD,CACD,GAAIE,CAAAA,UAAU,CAAGN,IAAI,CAACM,UAAtB,CACA,GAAIA,UAAJ,CAAgB,CACdA,UAAU,CAAGpB,aAAa,CAAC,UAAD,CAAaoB,UAAb,CAA1B,CACD,CACD,OAAKC,QAAL,CAAc,CACZL,SAAS,CAATA,SADY,CAEZC,QAAQ,CAARA,QAFY,CAGZF,MAAM,CAANA,MAHY,CAIZG,YAAY,CAAZA,YAJY,CAKZE,UAAU,CAAVA,UALY,CAAd,EAOD,CACF,CAxEkB,QAoGnBE,kBApGmB,CAoGE,SAAAC,iBAAiB,CAAI,CACxCA,iBAAiB,CAAC,OAAD,CAAjB,CAA6B,OAAKX,KAAL,CAAWY,IAAX,CAAgB,OAAhB,CAA7B,CACA,GAAIC,CAAAA,sBAAsB,CAAG,CACzBF,iBAAiB,CAAEA,iBADM,CAA7B,CAGA,OAAKX,KAAL,CAAWP,sBAAX,CAAkCoB,sBAAlC,EACA,OAAKb,KAAL,CAAWc,OAAX,CAAmBC,IAAnB,CAAwB,0BAAxB,EACD,CA3GkB,QA6GnBC,YA7GmB,CA6GJ,SAAAC,KAAK,CAAI,CACtB,GAAIC,CAAAA,IAAI,+BAAR,CACA,GAAIC,CAAAA,WAAW,CAAGD,IAAI,CAACE,KAAL,CAAWD,WAA7B,CACA,GAAME,CAAAA,MAAM,CAAGJ,KAAK,CAACI,MAArB,CACA,GAAMC,CAAAA,KAAK,CAAGD,MAAM,CAACE,IAAP,GAAgB,UAAhB,CAA6BF,MAAM,CAACG,OAApC,CAA8CH,MAAM,CAACC,KAAnE,CACA,GAAMG,CAAAA,IAAI,CAAGJ,MAAM,CAACI,IAApB,CACA,GAAIC,CAAAA,SAAS,CAAGD,IAAI,CAACE,KAAL,CAAW,GAAX,CAAhB,CACA,GAAIC,CAAAA,GAAG,CAAGF,SAAS,CAAC,CAAD,CAAnB,CACA,GAAIG,CAAAA,GAAG,CAAGH,SAAS,CAAC,CAAD,CAAnB,CAEA,GAAIvB,CAAAA,MAAM,CAAGuB,SAAS,CAAC,CAAD,CAAtB,CACA,GAAIxB,CAAAA,IAAI,CAAG,CACT4B,QAAQ,CAAER,KADD,CAETnB,MAAM,CAANA,MAFS,CAGT4B,KAAK,CAAEF,GAHE,CAAX,CAMA/C,sBAAsB,CAAC,kBAAD,CAAqBoB,IAArB,CAAtB,CACG8B,IADH,CACQ,SAAAC,QAAQ,CAAI,CAChB,GAAIA,QAAQ,EAAIA,QAAQ,CAAC/B,IAAT,CAAcgC,MAAd,GAAyB,SAAzC,CAAoD,CAClDhB,IAAI,CAAClB,KAAL,CAAWL,2BAAX,CAAuCO,IAAvC,EACD,CACF,CALH,EAMGiC,KANH,CAMS,SAAAC,KAAK,CAAI,CAAE,CANpB,EAOAjB,WAAW,CAACU,GAAD,CAAX,CAAiBC,QAAjB,CAA4B,CAACX,WAAW,CAACU,GAAD,CAAX,CAAiBC,QAA9C,CACAZ,IAAI,CAACT,QAAL,CAAc,CACZqB,QAAQ,CAAE,KADE,CAEZO,UAAU,CAAElB,WAFA,CAAd,EAID,CA1IkB,QA4InBmB,iBA5ImB,CA4IC,SAACC,MAAD,CAAStB,KAAT,CAAmB,CACrC,OAAKR,QAAL,CAAc,CAAE+B,WAAW,CAAE,EAAf,CAAd,EACA,GAAMC,CAAAA,IAAI,CAAGxB,KAAK,CAACI,MAAN,CAAaqB,KAAb,CAAmB,CAAnB,CAAb,CACA,GAAMC,CAAAA,QAAQ,CAAGF,IAAI,CAAChB,IAAtB,CACA,GAAMmB,CAAAA,QAAQ,CAAGH,IAAI,CAAClB,IAAtB,CACA,GAAIkB,IAAJ,CAAU,CACR,OAAKI,gBAAL,GACA,GAAIC,CAAAA,MAAM,CAAG,GAAIC,CAAAA,UAAJ,EAAb,CACAD,MAAM,CAACE,aAAP,CAAqB/B,KAAK,CAACI,MAAN,CAAaqB,KAAb,CAAmB,CAAnB,CAArB,EACAI,MAAM,CAACG,MAAP,CAAgB,SAAAhC,KAAK,CAAI,CACvB,OAAKR,QAAL,CAAc,CACZ+B,WAAW,CAAEvB,KAAK,CAACI,MAAN,CAAa6B,MADd,CAEZC,SAAS,CAAER,QAFC,CAGZS,SAAS,CAAER,QAHC,CAIZL,MAAM,CAAEA,MAJI,CAAd,EAMD,CAPD,CAQD,CACF,CA9JkB,QAsNnBc,cAtNmB,CAsNF,SAAC9B,IAAD,CAAO+B,UAAP,CAAmBnD,MAAnB,CAA8B,CAC7C,GAAIoB,IAAI,GAAK,CAAb,CAAgB,CACd,GAAIhB,CAAAA,cAAc,CAAG+C,UAArB,CACA,GAAIpD,CAAAA,IAAI,CAAG,CACTC,MAAM,CAANA,MADS,CAETI,cAAc,CAAdA,cAFS,CAAX,CAIA,OAAKP,KAAL,CAAWH,sBAAX,CAAkC,CAAEU,cAAc,CAAdA,cAAF,CAAlC,EACAzB,sBAAsB,CAAC,oBAAD,CAAuBoB,IAAvB,CAAtB,CACD,CAED,GAAIqB,IAAI,GAAK,CAAb,CAAgB,CACd,GAAIf,CAAAA,UAAU,CAAG8C,UAAjB,CACA,GAAIpD,CAAAA,KAAI,CAAG,CACTC,MAAM,CAANA,MADS,CAETK,UAAU,CAAVA,UAFS,CAAX,CAIA,OAAKR,KAAL,CAAWH,sBAAX,CAAkC,CAAEW,UAAU,CAAVA,UAAF,CAAlC,EACA1B,sBAAsB,CAAC,kBAAD,CAAqBoB,KAArB,CAAtB,CACD,CACF,CA1OkB,QA8PnBqD,aA9PmB,CA8PH,SAACrD,IAAD,CAAO6B,KAAP,CAAiB,CAC/B,GAAIyB,CAAAA,KAAK,+BAAT,CACA3E,YAAY,CAAC,CACX4E,QAAQ,CAAE,uBAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,CACzB,MACE,4BAAK,SAAS,CAAC,WAAf,EACE,8CADF,CAEE,gEAFF,CAGE,8BAAQ,OAAO,CAAEA,OAAjB,OAHF,CAIE,8BACE,OAAO,CAAE,kBAAM,CACb,GAAIvD,CAAAA,MAAM,CAAGD,IAAI,CAACC,MAAlB,CACA,GAAIwD,CAAAA,UAAU,CAAG,IAAjB,CACA,GAAIC,CAAAA,QAAQ,CAAG,CACbzD,MAAM,CAANA,MADa,CAEbwD,UAAU,CAAVA,UAFa,CAAf,CAKA7E,sBAAsB,CAAC,mBAAD,CAAsB8E,QAAtB,CAAtB,CAAsD5B,IAAtD,CAA2D,SAAAC,QAAQ,CAAI,CACrE,GAAGA,QAAQ,EAAIA,QAAQ,CAAC/B,IAArB,EAA6B+B,QAAQ,CAAC/B,IAAT,CAAcgC,MAAd,EAAwB,SAAxD,CAAkE,CAChEsB,KAAK,CAACxD,KAAN,CAAYJ,mBAAZ,CAAgCgE,QAAhC,EACCF,OAAO,GACRF,KAAK,CAACK,gBAAN,CAAuB1D,MAAvB,EACD,CAJD,IAIK,CACHuD,OAAO,GACR,CACF,CARD,EAQGvB,KARH,CAQS,SAAAC,KAAK,CAAI,CAChB0B,OAAO,CAACC,GAAR,CAAY,KAAZ,CAAmB3B,KAAnB,EACD,CAVD,EAWH,CApBD,oBAJF,CADF,CA+BD,CAjCU,CAAD,CAAZ,CAmCD,CAnSkB,QA8SnB4B,iBA9SmB,CA8SC,UAAM,CACxB,OAAKvD,QAAL,CAAc,CACZwD,WAAW,CAAE,CAAC,OAAK7C,KAAL,CAAW6C,WADb,CAAd,EAGD,CAlTkB,QAoTnBC,aApTmB,CAoTH,SAACC,SAAD,CAAYC,QAAZ,CAAyB,CACvC,GAAID,SAAS,EAAIC,QAAjB,CAA2B,CACzB,GAAIZ,CAAAA,KAAK,+BAAT,CACA3E,YAAY,CAAC,CACX4E,QAAQ,CAAE,wBAAiB,IAAdC,CAAAA,OAAc,OAAdA,OAAc,CACzB,MACE,4BAAK,SAAS,CAAC,WAAf,EACE,6EADF,CAEE,8BAAQ,OAAO,CAAEA,OAAjB,OAFF,CAGE,8BACE,OAAO,CAAE,kBAAM,CACb,GAAIE,CAAAA,QAAQ,CAAG,CACbO,SAAS,CAATA,SADa,CAEbC,QAAQ,CAARA,QAFa,CAAf,CAIAtF,sBAAsB,CAAC,mBAAD,CAAsB8E,QAAtB,CAAtB,CAAsD5B,IAAtD,CAA2D,SAAAC,QAAQ,CAAI,CACrE,GAAGA,QAAQ,EAAIA,QAAQ,CAAC/B,IAArB,EAA6B+B,QAAQ,CAAC/B,IAAT,CAAcgC,MAAd,EAAwB,SAAxD,CAAkE,CAChE,GAAI0B,CAAAA,SAAQ,CAAG,CACbzD,MAAM,CAAEgE,SADK,CAEbC,QAAQ,CAARA,QAFa,CAAf,CAIAZ,KAAK,CAACxD,KAAN,CAAYJ,mBAAZ,CAAgCgE,SAAhC,EACCF,OAAO,GACRF,KAAK,CAACK,gBAAN,CAAuBM,SAAvB,EACD,CARD,IAQK,CACHT,OAAO,GACR,CACF,CAZD,EAYGvB,KAZH,CAYS,SAAAC,KAAK,CAAI,CAChB0B,OAAO,CAACC,GAAR,CAAY,KAAZ,CAAmB3B,KAAnB,EACD,CAdD,EAeD,CArBH,oBAHF,CADF,CA+BD,CAjCU,CAAD,CAAZ,CAmCD,CACF,CA3VkB,CAEjB,OAAKhB,KAAL,CAAa,CACXiD,QAAQ,CAAE,EADC,CAEXC,OAAO,CAAE,KAFE,CAGXC,OAAO,CAAE,KAHE,CAIX/B,WAAW,CAAE,EAJF,CAKXW,SAAS,CAAE,EALA,CAMXC,SAAS,CAAE,EANA,CAOXoB,eAAe,CAAE,KAPN,CAQXC,cAAc,CAAE,KARL,CASXN,SAAS,CAAE,EATA,CAAb,CAYA,OAAKzD,kBAAL,CAA0B,OAAKA,kBAAL,CAAwBgE,IAAxB,gCAA1B,CACA,OAAKC,kBAAL,CAA0B,OAAKA,kBAAL,CAAwBD,IAAxB,gCAA1B,CACA,OAAKF,eAAL,CAAuB,OAAKA,eAAL,CAAqBE,IAArB,gCAAvB,CACA,OAAKD,cAAL,CAAsB,OAAKA,cAAL,CAAoBC,IAApB,gCAAtB,CACAxF,eAAe,CACb,UADa,CAEb,OAAKc,KAAL,CAAW4E,MAAX,CAAoB,OAAK5E,KAAL,CAAW4E,MAA/B,CAAwC,OAAK5E,KAAL,CAAWY,IAFtC,CAAf,CAlBiB,cAsBlB,C,kFAEoB,CACnBiE,QAAQ,CAACC,IAAT,CAAcC,SAAd,CAAwBC,GAAxB,CAA4B,aAA5B,EACAH,QAAQ,CAACC,IAAT,CAAcC,SAAd,CAAwBC,GAAxB,CAA4B,gBAA5B,EACD,C,6DAEmB,CAClB,GAAI,KAAKhF,KAAL,CAAWY,IAAf,CAAqB,CACnB,KAAKH,QAAL,CAAc,CACZG,IAAI,CAAE,KAAKZ,KAAL,CAAWY,IADL,CAAd,EAIA,GAAIO,CAAAA,WAAW,CACb,KAAKnB,KAAL,CAAW4E,MAAX,EAAqB,KAAK5E,KAAL,CAAW4E,MAAX,CAAkBK,QAAvC,CACI,KAAKjF,KAAL,CAAW4E,MAAX,CAAkBK,QADtB,CAEI,KAAKjF,KAAL,CAAWY,IAAX,CAAgBqE,QAAhB,EAA4B,EAHlC,CAKA,KAAKhF,cAAL,CAAoB,KAAKD,KAAL,CAAWY,IAA/B,EACA,KAAKsE,cAAL,CAAoB/D,WAApB,EACD,CACF,C,4EAEyBgE,S,CAAW,CACpC;AACA,C,sDA4BchE,W,CAAa,iBAExB,GAAIhB,CAAAA,MAAM,CAAG,KAAKH,KAAL,CAAWY,IAAX,CAAgBT,MAA7B,CAEArB,sBAAsB,CAAC,WAAD,CAAc,CAAEqB,MAAM,CAANA,MAAF,CAAd,CAAtB,CACG6B,IADH,CACQ,SAAAC,QAAQ,CAAI,CACd6B,OAAO,CAACC,GAAR,CAAY9B,QAAZ,EACF,GACEA,QAAQ,EACRA,QAAQ,CAAC/B,IAAT,CAAcgC,MAAd,GAAyB,SADzB,EAEAD,QAAQ,CAAC/B,IAAT,CAAcgD,MAAd,CAAqBkC,MAArB,CAA8B,CAHhC,CAIE,CACDtB,OAAO,CAACC,GAAR,CAAY9B,QAAZ,EACC,GAAIoD,CAAAA,OAAO,CAAG,MAAI,CAACjE,KAAL,CAAWD,WAAzB,CAEAA,WAAW,CAAGc,QAAQ,CAAC/B,IAAT,CAAcgD,MAA5B,CACA,MAAI,CAACzC,QAAL,CAAc,CAAEU,WAAW,CAAEA,WAAf,CAAd,EACD,CACF,CAdH,EAeGgB,KAfH,CAeS,SAAAmD,GAAG,CAAI,CACZxB,OAAO,CAACC,GAAR,CAAYuB,GAAZ,EACD,CAjBH,EAmBH,C,2DA8DkB,iBACjBxG,sBAAsB,CAAC,aAAD,CAAtB,CACGkD,IADH,CACQ,SAAAC,QAAQ,CAAI,CAChB,GAAIA,QAAQ,CAAC/B,IAAT,CAAcgC,MAAd,GAAyB,SAA7B,CAAwC,CACtC,GAAImC,CAAAA,QAAQ,CAAGpC,QAAQ,CAAC/B,IAAT,CAAcgD,MAAd,CAAqBmB,QAApC,CACA,MAAI,CAAC5D,QAAL,CAAc,CAAE4D,QAAQ,CAARA,QAAF,CAAd,EACD,CACF,CANH,EAOGlC,KAPH,CAOS,SAAAmD,GAAG,CAAI,CACZxB,OAAO,CAACC,GAAR,CAAYuB,GAAZ,EACD,CATH,EAUD,C,8DAEkB7C,I,CAAM,iBACvB,GAAItC,CAAAA,MAAM,CAAG,KAAKiB,KAAL,CAAWjB,MAAxB,CACA,GAAIoB,CAAAA,IAAI,CAAG,KAAKH,KAAL,CAAWmB,MAAtB,CACA,GAAI8B,CAAAA,QAAQ,CAAG,KAAKjD,KAAL,CAAWiD,QAA1B,CAEA,GAAI5B,IAAI,GAAK,EAAb,CAAiB,CACflB,IAAI,GAAK,CAAT,CACI,KAAKd,QAAL,CAAc,CAAE6D,OAAO,CAAE,IAAX,CAAiBhE,YAAY,CAAE,EAA/B,CAAd,CADJ,CAEI,KAAKG,QAAL,CAAc,CAAE8D,OAAO,CAAE,IAAX,CAAiB/D,UAAU,CAAE,EAA7B,CAAd,CAFJ,CAGArB,aAAa,CACXoC,IADW,CAEXpB,MAFW,CAGXsC,IAHW,CAIX4B,QAJW,CAKX,SAACjC,KAAD,CAAQc,MAAR,CAAgBI,UAAhB,CAA+B,CAC7B,GAAIlB,KAAJ,CAAW,CACT,OACD,CACD,GAAIc,MAAJ,CAAY,CACV,GAAI3B,IAAI,GAAK,CAAb,CAAgB,CACd,GAAIjB,CAAAA,YAAY,WAAMjB,SAAS,CAACkG,YAAhB,aACdlG,SAAS,CAACmG,cADI,aAEZlC,UAFY,CAAhB,CAGA,MAAI,CAAC7C,QAAL,CAAc,CAAEH,YAAY,CAAEA,YAAhB,CAA8BgE,OAAO,CAAE,KAAvC,CAAd,EACD,CAED,GAAI/C,IAAI,GAAK,CAAb,CAAgB,CACd,GAAIf,CAAAA,UAAU,WAAMnB,SAAS,CAACkG,YAAhB,aACZlG,SAAS,CAACmG,cADE,aAEVlC,UAFU,CAAd,CAIA,MAAI,CAAC7C,QAAL,CAAc,CAAED,UAAU,CAAEA,UAAd,CAA0B+D,OAAO,CAAE,KAAnC,CAAd,EACD,CACD,MAAI,CAAClB,cAAL,CAAoB9B,IAApB,CAA0B+B,UAA1B,CAAsCnD,MAAtC,EACA2D,OAAO,CAACC,GAAR,CAAY,sBAAZ,CAAoCT,UAApC,EACD,CACF,CA3BU,CAAb,CA6BD,CACF,C,yDAwBiB,CAChB,KAAK7C,QAAL,CAAc,CAAE+D,eAAe,CAAE,CAAC,KAAKpD,KAAL,CAAWoD,eAA/B,CAAd,EACA,GAAIrD,CAAAA,WAAW,CACb,KAAKnB,KAAL,CAAW4E,MAAX,EAAqB,KAAK5E,KAAL,CAAW4E,MAAX,CAAkBK,QAAvC,CACI,KAAKjF,KAAL,CAAW4E,MAAX,CAAkBK,QADtB,CAEI,KAAKjF,KAAL,CAAWY,IAAX,CAAgBqE,QAAhB,EAA4B,EAHlC,CAKA,KAAKC,cAAL,CAAoB/D,WAApB,EACD,C,sDAEcgD,S,CAAW,CACxBL,OAAO,CAACC,GAAR,CAAYI,SAAZ,EACA,KAAK1D,QAAL,CAAc,CACZgE,cAAc,CAAE,CAAC,KAAKrD,KAAL,CAAWqD,cADhB,CAEZN,SAAS,CAATA,SAFY,CAAd,EAID,C,0DAyCgBhE,M,CAAQ,CACvB,GAAIgB,CAAAA,WAAW,CAAG,KAAKC,KAAL,CAAWD,WAAX,EAA0B,EAA5C,CACAA,WAAW,CAACsE,MAAZ,CACEtE,WAAW,CAACuE,SAAZ,CAAsB,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACxF,MAAL,GAAgByF,QAAQ,CAACzF,MAAD,CAAS,EAAT,CAA5B,EAA1B,CADF,CAEE,CAFF,EAIA,KAAKM,QAAL,CAAc,CAAEU,WAAW,CAAEA,WAAf,CAAd,EACD,C,uCAiDQ,CACP,GAAID,CAAAA,IAAI,CAAG,IAAX,CACA,MACE,4BAAK,SAAS,CAAC,SAAf,EACC,oBAAC,MAAD,CAAY,KAAKlB,KAAjB,CADD,CAEE,2BAAK,SAAS,CAAC,YAAf,EACE,2BAAK,SAAS,CAAC,wBAAf,EAIE,2BAAK,SAAS,CAAC,2EAAf,EACE,8BACE,SAAS,CAAC,wCADZ,CAEE,OAAO,CAAE,KAAKwE,eAFhB,EAIE,4BAAM,SAAS,CAAC,WAAhB,EAJF,UADF,CAJF,CAaG,KAAKpD,KAAL,CAAWD,WAAX,EACC,KAAKC,KAAL,CAAWD,WAAX,CAAuB0E,GAAvB,CAA2B,SAAS3F,IAAT,CAAe6B,KAAf,CAAsB,CAC/C,MACE,4BACE,GAAG,CAAEA,KADP,CAEE,SAAS,CAAC,gBAFZ,CAGE,EAAE,CAAE,WAAa7B,IAAI,CAACC,MAHxB,EAKE,2BAAK,SAAS,CAAC,yCAAf,EACGD,IAAI,CAACK,cAAL,CACC,2BACE,GAAG,CAAEL,IAAI,CAACK,cADZ,CAEE,GAAG,CAAC,EAFN,CAGE,SAAS,CAAC,gBAHZ,EADD,CAOC,2BAAK,SAAS,CAAC,YAAf,EACE,4BAAM,SAAS,CAAC,oBAAhB,EADF,CARJ,CALF,CAkBE,2BAAK,SAAS,CAAC,iDAAf,EACE,2BAAK,SAAS,CAAC,qEAAf,EACE,2BAAK,SAAS,CAAC,QAAf,EACE,8BACGL,IAAI,CAACE,SAAL,CACGF,IAAI,CAACE,SAAL,CACA,GADA,EAECF,IAAI,CAACG,QAAL,CAAgBH,IAAI,CAACG,QAArB,CAAgC,EAFjC,CADH,CAIG,IALN,CADF,CAQE,6BAAIH,IAAI,CAAC4F,KAAT,CARF,CADF,CAYE,2BAAK,SAAS,CAAC,6BAAf,EAEE,2BACE,SAAS,CACP5F,IAAI,CAAC4B,QAAL,CACI,sBADJ,CAEI,eAJR,EAOE,6BAAO,OAAO,CAAC,GAAf,WAPF,CAQE,2BAAK,SAAS,CAAC,MAAf,EACE,6BACE,IAAI,CAAC,UADP,CAEE,IAAI,oBAAc5B,IAAI,CAACC,MAAnB,aAA6B4B,KAA7B,CAFN,CAGE,QAAQ,CAAEb,IAAI,CAACF,YAHjB,CAIE,OAAO,CAAEd,IAAI,CAAC4B,QAAL,CAAgB,IAAhB,CAAuB,KAJlC,CAKE,EAAE,+BAAyBC,KAAzB,CALJ,EADF,CAQE,2BAAK,SAAS,CAAC,QAAf,EACE,6BAAO,OAAO,+BAAyBA,KAAzB,CAAd,EACE,6BADF,CADF,CARF,CARF,CAFF,CAyBE,8BACE,SAAS,CAAC,0BADZ,CAEE,OAAO,CAAEb,IAAI,CAACR,kBAAL,CAAwBgE,IAAxB,CAA6BxD,IAA7B,CAAmChB,IAAnC,CAFX,kBAzBF,aAiCE,oBAAC,cAAD,EACE,SAAS,CAAC,gBADZ,CAEE,KAAK,CAAE,4BAAM,SAAS,CAAC,aAAhB,EAFT,CAGE,EAAE,CAAC,GAHL,EAKE,oBAAC,QAAD,EACE,QAAQ,CAAEgB,IAAI,CAACuD,cAAL,CAAoBC,IAApB,CACR,IADQ,CAERxE,IAAI,CAACC,MAFG,CADZ,EAME,yBAAG,SAAS,CAAC,iBAAb,EANF,cALF,CAcE,oBAAC,QAAD,EACE,QAAQ,CAAE,0BACRe,CAAAA,IAAI,CAAClB,KAAL,CAAWc,OAAX,CAAmBC,IAAnB,CAAwB,CACtBgF,QAAQ,CAAE,cADY,CAEtB3E,KAAK,CAAE,CAAE4E,WAAW,CAAE9F,IAAf,CAFe,CAAxB,CADQ,EADZ,EAQE,yBAAG,SAAS,CAAC,mBAAb,EARF,gBAdF,CAwBE,oBAAC,QAAD,EACE,QAAQ,CAAE,0BACRgB,CAAAA,IAAI,CAAClB,KAAL,CAAWc,OAAX,CAAmBC,IAAnB,CAAwB,CACtBgF,QAAQ,CAAE,qBADY,CAEtB3E,KAAK,CAAE,CAAE6E,YAAY,CAAE/F,IAAI,CAACC,MAArB,CAFe,CAAxB,CADQ,EADZ,EAQE,yBAAG,SAAS,CAAC,4BAAb,EARF,CAQ+C,GAR/C,uBAxBF,CAoCE,oBAAC,QACD;AACA;AACA;AACA;AACA;AALA,MAOE,yBAAG,SAAS,CAAC,mBAAb,EAPF,WApCF,CAjCF,CAZF,CADF,CA+FE,2BAAK,SAAS,CAAC,2DAAf,EACE,2BAAK,SAAS,CAAC,oBAAf,qBACkB,gCAAOD,IAAI,CAACgG,cAAZ,CADlB,CADF,CAOE,2BAAK,SAAS,CAAC,WAAf,oBACiB,gCAAOhG,IAAI,CAACiG,cAAZ,CADjB,CAPF,CA/FF,CAlBF,CADF,CAgID,CAjID,CAdJ,CADF,CAkJG,KAAK/E,KAAL,CAAWoD,eAAX,CACC,oBAAC,cAAD,EACE,eAAe,CAAE,KAAKpD,KAAL,CAAWoD,eAD9B,CAEE,oBAAoB,CAAE,KAAKA,eAF7B,EADD,CAKG,IAvJN,CAFF,CADF,CA6KD,C,oBA7gBkB9F,S,EAghBrB,GAAM0H,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAhF,KAAK,CAAI,CAC/B,MAAO,CACLR,IAAI,CAAEQ,KAAK,CAACiF,IAAN,CAAWzC,QADZ,CAELgB,MAAM,CAAExD,KAAK,CAACiF,IAAN,CAAWC,UAFd,CAGLC,WAAW,CAAEnF,KAAK,CAACiF,IAAN,CAAWE,WAHnB,CAAP,CAKD,CAND,CAQA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,QAAQ,CAAI,CACrC,MAAO9H,CAAAA,kBAAkB,CACvB,CACEc,sBAAsB,CAAtBA,sBADF,CAEEC,4BAA4B,CAA5BA,4BAFF,CAGEC,2BAA2B,CAA3BA,2BAHF,CAIEC,mBAAmB,CAAnBA,mBAJF,CAKEC,sBAAsB,CAAtBA,sBALF,CADuB,CAQvB4G,QARuB,CAAzB,CAUD,CAXD,CAaA,cAAe7H,CAAAA,OAAO,CACpBwH,eADoB,CAEpBI,kBAFoB,CAAP,CAGbzG,MAHa,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { confirmAlert } from 'react-confirm-alert';\nimport 'react-confirm-alert/src/react-confirm-alert.css';\nimport theRapidHireApiService from '../../common/core/api/apiService';\nimport { Modal, DropdownButton, MenuItem } from 'react-bootstrap';\nimport {\n  setLocalStorage,\n  uploadToAzure,\n  getThumbImage\n} from '../../common/commonFunctions';\nimport CONSTANTS from '../../common/core/config/appConfig';\nimport Header from '../header/header';\nimport ImageCropper from '../../common/cropper/imageCropper';\nimport AddMoreStudent from './addMoreStudent';\nimport {\n  actionSetStudentAsUser,\n  actionGetStudentPersonalInfo,\n  actionGetStudentUpdatedInfo,\n  actionRemoveStudent,\n  actionUpdateParentInfo\n} from '../../common/core/redux/actions';\n\nimport sampleProfile from '../../assets/img/sample-profile.jpg';\n\nclass Hruser extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sasToken: '',\n      loader1: false,\n      loader2: false,\n      imageSource: '',\n      imageName: '',\n      imageType: '',\n      addStudentModel: false,\n      addParentModel: false,\n      studentId: ''\n    };\n\n    this.handleClickProfile = this.handleClickProfile.bind(this);\n    this.uploadImageToAzure = this.uploadImageToAzure.bind(this);\n    this.addStudentModel = this.addStudentModel.bind(this);\n    this.addParentModel = this.addParentModel.bind(this);\n    setLocalStorage(\n      'userInfo',\n      this.props.parent ? this.props.parent : this.props.user\n    );\n  }\n\n  componentWillMount() {\n    document.body.classList.add('light-theme');\n    document.body.classList.add('absoluteHeader');\n  }\n\n  componentDidMount() {\n    if (this.props.user) {\n      this.setState({\n        user: this.props.user\n      });\n\n      let studentList =\n        this.props.parent && this.props.parent.students\n          ? this.props.parent.students\n          : this.props.user.students || [];\n\n      this.setProfileData(this.props.user);\n      this.setStudentData(studentList);\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n   // this.setParentProfileData(nextProps.parent);\n  }\n\n  setProfileData = data => {\n    if (data) {\n      let userId = data.userId;\n\n      let firstName = data.firstName;\n      let lastName = data.lastName;\n\n      let profileImage = data.profilePicture;\n      if (profileImage) {\n        profileImage = profileImage;\n      }\n      let coverImage = data.coverImage;\n      if (coverImage) {\n        coverImage = getThumbImage('original', coverImage);\n      }\n      this.setState({\n        firstName,\n        lastName,\n        userId,\n        profileImage,\n        coverImage\n      });\n    }\n  };\n\n\n  setStudentData(studentList) {  \n\n      var userId = this.props.user.userId;\n\n      theRapidHireApiService('getHrList', { userId })\n        .then(response => {\n            console.log(response);\n          if (\n            response &&\n            response.data.status === 'Success' &&\n            response.data.result.length > 0\n          ) {\n           console.log(response);\n            let student = this.state.studentList;\n           \n            studentList = response.data.result;\n            this.setState({ studentList: studentList });\n          }\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    \n  }\n\n  handleClickProfile = otherUserInfoData => {\n    otherUserInfoData['token'] = this.props.user['token'];\n    let candidateAndHrDataJson = {     \n        otherUserInfoData: otherUserInfoData\n    };\n    this.props.actionSetStudentAsUser(candidateAndHrDataJson);\n    this.props.history.push('/recruiter/jobDesription');\n  };\n\n  handleChange = event => {\n    let self = this;\n    let studentList = self.state.studentList;\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n    var str_array = name.split('_');\n    let id1 = str_array[1];\n    let id2 = str_array[2];\n\n    let userId = str_array[1];\n    let data = {\n      isActive: value,\n      userId,\n      index: id2\n    };\n\n    theRapidHireApiService('updateUserStatus', data)\n      .then(response => {\n        if (response && response.data.status === 'Success') {\n          self.props.actionGetStudentUpdatedInfo(data);\n        }\n      })\n      .catch(error => {});\n    studentList[id2].isActive = !studentList[id2].isActive;\n    self.setState({\n      isActive: false,\n      studentLis: studentList\n    });\n  };\n\n  handleImageChange = (action, event) => {\n    this.setState({ imageSource: '' });\n    const file = event.target.files[0];\n    const fileName = file.name;\n    const fileType = file.type;\n    if (file) {\n      this.generateSASToken();\n      let reader = new FileReader();\n      reader.readAsDataURL(event.target.files[0]);\n      reader.onload = event => {\n        this.setState({\n          imageSource: event.target.result,\n          imageName: fileName,\n          imageType: fileType,\n          action: action\n        });\n      };\n    }\n  };\n\n  generateSASToken() {\n    theRapidHireApiService('getSASToken')\n      .then(response => {\n        if (response.data.status === 'Success') {\n          let sasToken = response.data.result.sasToken;\n          this.setState({ sasToken });\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }\n\n  uploadImageToAzure(file) {\n    let userId = this.state.userId;\n    let type = this.state.action;\n    let sasToken = this.state.sasToken;\n\n    if (file !== '') {\n      type === 1\n        ? this.setState({ loader1: true, profileImage: '' })\n        : this.setState({ loader2: true, coverImage: '' });\n      uploadToAzure(\n        type,\n        userId,\n        file,\n        sasToken,\n        (error, result, uploadPath) => {\n          if (error) {\n            return;\n          }\n          if (result) {\n            if (type === 1) {\n              let profileImage = `${CONSTANTS.azureBlobURI}/${\n                CONSTANTS.azureContainer\n              }/${uploadPath}`;\n              this.setState({ profileImage: profileImage, loader1: false });\n            }\n\n            if (type === 2) {\n              let coverImage = `${CONSTANTS.azureBlobURI}/${\n                CONSTANTS.azureContainer\n              }/${uploadPath}`;\n\n              this.setState({ coverImage: coverImage, loader2: false });\n            }\n            this.updateUserData(type, uploadPath, userId);\n            console.log('upload is successful', uploadPath);\n          }\n        }\n      );\n    }\n  }\n\n  updateUserData = (type, uploadPath, userId) => {\n    if (type === 1) {\n      let profilePicture = uploadPath;\n      let data = {\n        userId,\n        profilePicture\n      };\n      this.props.actionUpdateParentInfo({ profilePicture });\n      theRapidHireApiService('updateProfileImage', data);\n    }\n\n    if (type === 2) {\n      let coverImage = uploadPath;\n      let data = {\n        userId,\n        coverImage\n      };\n      this.props.actionUpdateParentInfo({ coverImage });\n      theRapidHireApiService('updateCoverImage', data);\n    }\n  };\n\n  addStudentModel() {\n    this.setState({ addStudentModel: !this.state.addStudentModel });\n    let studentList =\n      this.props.parent && this.props.parent.students\n        ? this.props.parent.students\n        : this.props.user.students || [];\n\n    this.setStudentData(studentList);\n  }\n\n  addParentModel(studentId) {\n    console.log(studentId);\n    this.setState({\n      addParentModel: !this.state.addParentModel,\n      studentId\n    });\n  }\n\n  removeStudent = (data, index) => {\n    let _this = this;\n    confirmAlert({\n      customUI: ({ onClose }) => {\n        return (\n          <div className=\"custom-ui\">\n            <h1>Are you sure?</h1>\n            <p>You want to delete this student?</p>\n            <button onClick={onClose}>No</button>\n            <button\n              onClick={() => {\n                let userId = data.userId;\n                let isArchived = true;\n                let userData = {\n                  userId,\n                  isArchived\n                };\n\n                theRapidHireApiService('removeStudentUser', userData).then(response => {                                 \n                  if(response && response.data && response.data.status == \"Success\"){                   \n                    _this.props.actionRemoveStudent(userData);\n                     onClose();\n                    _this.resetStudentList(userId);\n                  }else{\n                    onClose();\n                  }  \n                }).catch(error => {               \n                  console.log('err', error);\n                });    \n            }}\n            >\n              Yes, Delete it!\n            </button>\n          </div>\n        );\n      }\n    });\n  };\n\n  resetStudentList(userId) {\n    let studentList = this.state.studentList || [];\n    studentList.splice(\n      studentList.findIndex(todo => todo.userId === parseInt(userId, 10)),\n      1\n    );\n    this.setState({ studentList: studentList });\n  }\n\n  viewSampleProfile = () => {\n    this.setState({\n      showProfile: !this.state.showProfile\n    });\n  };\n\n  deleteStudent = (studentId, parentId) => {\n    if (studentId && parentId) {\n      let _this = this;\n      confirmAlert({\n        customUI: ({ onClose }) => {\n          return (\n            <div className=\"custom-ui\">\n              <p>Are you sure you want to delete this student?</p>\n              <button onClick={onClose}>No</button>\n              <button\n                onClick={() => {\n                  let userData = {\n                    studentId,\n                    parentId\n                  };\n                  theRapidHireApiService('removeStudentUser', userData).then(response => {                                 \n                    if(response && response.data && response.data.status == \"Success\"){\n                      let userData = {\n                        userId: studentId,\n                        parentId\n                      }; \n                      _this.props.actionRemoveStudent(userData);\n                       onClose();\n                      _this.resetStudentList(studentId);\n                    }else{\n                      onClose();\n                    }  \n                  }).catch(error => {               \n                    console.log('err', error);\n                  });                 \n                }}\n              >\n                Yes, Delete it!\n              </button>\n            </div>\n          );\n        }\n      });\n    }\n  };\n\n  render() {\n    let self = this;\n    return (\n      <div className=\"wrapper\">\n       <Header {...this.props} />     \n        <div className=\"main-panel\">   \n          <div className=\"w3-content main-panel1\">   \n        \n         \n           \n            <div className=\"button--wrapper mb-1 text-center flex flex-1 justify-center dashBtnCenter\">            \n              <button\n                className=\"btn btn-with-border with-icon smallBtn\"\n                onClick={this.addStudentModel}\n              >\n                <span className=\"icon-plus\" />\n                add HR\n              </button>\n            </div>\n            {this.state.studentList &&\n              this.state.studentList.map(function(data, index) {\n                return (\n                  <div\n                    key={index}\n                    className=\"suggestion-usd\"\n                    id={'student_' + data.userId}\n                  >\n                    <div className=\"student-img deflt-icon centeredBox flex\">\n                      {data.profilePicture ? (\n                        <img\n                          src={data.profilePicture}\n                          alt=\"\"\n                          className=\"img-responsive\"\n                        />\n                      ) : (\n                        <div className=\"pp-default\">\n                          <span className=\"icon-user_default2\" />\n                        </div>\n                      )}\n                    </div>\n                    <div className=\"student-info flex justify-content-space-between\">\n                      <div className=\"flex align-center justify-content-space-bettween p-20-30 stuBgWhite\">\n                        <div className=\"flex-1\">\n                          <h3>\n                            {data.firstName\n                              ? data.firstName +\n                                ' ' +\n                                (data.lastName ? data.lastName : '')\n                              : null}\n                          </h3>\n                          <p>{data.email}</p>\n                        </div>\n\n                        <div className=\"btn-group flex align-center\">\n                 \n                          <div\n                            className={\n                              data.isActive\n                                ? 'toggleWrapper active'\n                                : 'toggleWrapper'\n                            }\n                          >\n                            <label htmlFor=\"#\">Active</label>\n                            <div className=\"item\">\n                              <input\n                                type=\"checkbox\"\n                                name={`isActive_${data.userId}_${index}`}\n                                onChange={self.handleChange}\n                                checked={data.isActive ? true : false}\n                                id={`toggle_today_summary${index}`}\n                              />\n                              <div className=\"toggle\">\n                                <label htmlFor={`toggle_today_summary${index}`}>\n                                  <i />\n                                </label>\n                              </div>\n                            </div>\n                          </div>\n                          <button\n                            className=\"btn btn-primary no-round\"\n                            onClick={self.handleClickProfile.bind(self, data)}\n                          >\n                            Go to profile\n                          </button>\n                          &nbsp; &nbsp;\n                      \n                          <DropdownButton\n                            className=\"burger-trigger\"\n                            title={<span className=\"icon-burger\" />}\n                            id=\"1\"\n                          >\n                            <MenuItem\n                              onSelect={self.addParentModel.bind(\n                                this,\n                                data.userId\n                              )}\n                            >\n                              <i className=\"m-ico icon-plus\" />\n                              Add Parent\n                            </MenuItem>\n                            <MenuItem\n                              onSelect={() =>\n                                self.props.history.push({\n                                  pathname: '/parent/list',\n                                  state: { studentData: data }\n                                })\n                              }\n                            >\n                              <i className=\"m-ico icon-parent\" /> Parent List\n                            </MenuItem>\n                            <MenuItem\n                              onSelect={() =>\n                                self.props.history.push({\n                                  pathname: '/student/profilelog',\n                                  state: { profileOwner: data.userId }\n                                })\n                              }\n                            >\n                              <i className=\"m-ico icon-profile-sharing\" />{' '}\n                              Profile Sharing Log\n                            </MenuItem>\n\n                            <MenuItem\n                            //   onSelect={self.deleteStudent.bind(\n                            //     this,\n                            //     data.userId,\n                            //     self.props.parent.userId\n                            //   )}\n                            >\n                              <i className=\"m-ico icon-delete\" /> Delete\n                            </MenuItem>\n                          </DropdownButton>\n                        </div>\n                      </div>\n\n                      <div className=\"flex align-center justify-content-space-bettween tag-wrap\">\n                        <div className=\"promo-tag br-light\">\n                          Accomplishments <span>{data.accomplishment}</span>\n                        </div>\n                        {/* <div className=\"promo-tag br-light\">\n                          Endorsement <span>{data.endorsement}</span>\n                        </div> */}\n                        <div className=\"promo-tag\">\n                          Recommendation <span>{data.recommendation}</span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n          </div>         \n          {this.state.addStudentModel ? (\n            <AddMoreStudent\n              addStudentModel={this.state.addStudentModel}\n              closeAddStudentModel={this.addStudentModel}\n            />\n          ) : null}\n          {/* <Modal\n            show={this.state.showProfile}\n            onHide={this.viewSampleProfile}\n            backdrop=\"static\"\n            keyboard={false}\n          >\n            <Modal.Header closeButton>\n              <Modal.Title>Sample Profile</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n              <div>\n                <img src={sampleProfile} />\n              </div>\n            </Modal.Body>\n          </Modal> */}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.User.userData,\n    parent: state.User.parentData,\n    headerCount: state.User.headerCount\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators(\n    {\n      actionSetStudentAsUser,\n      actionGetStudentPersonalInfo,\n      actionGetStudentUpdatedInfo,\n      actionRemoveStudent,  \n      actionUpdateParentInfo\n    },\n    dispatch\n  );\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Hruser);\n"]},"metadata":{},"sourceType":"module"}