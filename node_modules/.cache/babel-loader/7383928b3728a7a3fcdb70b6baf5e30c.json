{"ast":null,"code":"import _objectWithoutProperties from\"C:\\\\Users\\\\Ankur\\\\Desktop\\\\therapidhire\\\\therapidhireui\\\\TheRapidHireUI\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";import React from'react';import{toast}from'react-toastify';import Transition from'react-transition-group/Transition';import'react-toastify/dist/ReactToastify.css';//import crypto from 'crypto';\nimport CONSTANTS from'./core/config/appConfig';import Cryptr from'cryptr';import moment from'moment';var ENCRYPTION_KEY='sd5b75nb7577#^%$%*&G#CGF*&%@#%*&';var cryptlib=require('cryptlib'),iv='F@$%^*GD$*(*#!12',//16 bytes = 128 bit\nkey=cryptlib.getHashSha256(ENCRYPTION_KEY,32);//32 bytes = 256 bits\nvar azureURL=\"\".concat(CONSTANTS.azureBlobURI,\"/\").concat(CONSTANTS.azureContainer);var azureThumbURL=\"\".concat(CONSTANTS.azureBlobURI,\"/\").concat(CONSTANTS.azureThumbContainer);var cryptr=new Cryptr(CONSTANTS.CRYPTER_KEY);var toastId='';//used to encryption of localstorage data\nexport var encryptedData=function encryptedData(data){return cryptr.encrypt(data);};//used to decrypt localstorage data\nexport var decryptedData=function decryptedData(data){return cryptr.decrypt(data);};// used to set localstorage item\nexport var setLocalStorage=function setLocalStorage(key,value){value=JSON.stringify(value);var encodedData=encryptedData(value);localStorage.setItem(key,encodedData);};// used to get localstorage item\nexport var getLocalStorage=function getLocalStorage(key){if(key){var data=localStorage.getItem(key);if(data){console.log(data);data=JSON.parse(decryptedData(data));return data;}}return null;};// used to remove localstorage item\nexport var removeLocalStorage=function removeLocalStorage(key){localStorage.removeItem(key);};// used to clear localstorage\nexport var clearLocalStorage=function clearLocalStorage(){localStorage.clear();};// toastr messages for error\nexport var showErrorToast=function showErrorToast(errorMessage,event){if(!toast.isActive(toastId)){toastId=toast.error(errorMessage,{position:toast.POSITION.TOP_RIGHT,hideProgressBar:true,closeOnClick:true,pauseOnHover:true});}};// toastr messages for success\nexport var showSuccessToast=function showSuccessToast(message){if(!toast.isActive(toastId)){toastId=toast.success(message,{position:toast.POSITION.TOP_RIGHT,hideProgressBar:true,closeOnClick:true,pauseOnHover:true});}};// toastr messages for warning\nexport var showWarningToast=function showWarningToast(message){if(!toast.isActive(toastId)){toastId=toast.warn(message,{position:toast.POSITION.TOP_RIGHT,hideProgressBar:true,closeOnClick:true,pauseOnHover:true});}};// used zoomin and zoomout of toastr messages\nexport var ZoomInAndOut=function ZoomInAndOut(_ref){var children=_ref.children,position=_ref.position,props=_objectWithoutProperties(_ref,[\"children\",\"position\"]);return React.createElement(Transition,Object.assign({},props,{timeout:200,onEnter:function onEnter(node){return node.classList.add('zoomIn','animate');},onExit:function onExit(node){node.classList.remove('zoomIn','animate');node.classList.add('zoomOut','animate');}}),children);};// used to render validation message\nexport var renderMessage=function renderMessage(message){return React.createElement(\"span\",{className:\"error\"},message);};export var encrypt=function encrypt(text){var cryptText=cryptlib.encrypt(text,key,iv);return cryptText.replace(/\\//g,'_spike_');};//  let buff = new Buffer(text);\n//  return buff.toString('base64');\n//return cryptlib.encrypt(text, key, iv);\n//return text;\n//};\nexport var decrypt=function decrypt(text){var decrptText=text.replace(/_spike_/g,'/');return cryptlib.decrypt(decrptText,key,iv);// let buff = new Buffer(text, 'base64');\n//return buff.toString('ascii');\n// return cryptlib.decrypt(text, key, iv);\n//return text;\n};// export const encrypt = text => {\n//   let buff = new Buffer(text);\n//   let base64data = buff.toString('base64');\n//   return base64data;\n// };\n// export const decrypt = text => {\n//   let buff = new Buffer(text, 'base64');\n//   text = buff.toString('ascii');\n//   return text;\n// };\n// used to get apiurl for different servers\nexport function getAPIURL(){var returnUrl={APIURL:'',azureContainer:'',azureThumbContainer:'',httpServer:'',APIPort:''};switch(window.location.hostname){case'133.76.253.131':returnUrl.APIURL='103.76.253.131';returnUrl.azureContainer='theRapidHire-media-development';returnUrl.azureThumbContainer='theRapidHire-media-development-thumbnails';returnUrl.httpServer='http://';returnUrl.APIPort='3002';break;default:returnUrl.APIURL='localhost';//'192.168.2.4';\nreturnUrl.azureContainer='theRapidHire-media-development';returnUrl.azureThumbContainer='theRapidHire-media-development-thumbnails';returnUrl.httpServer='http://';returnUrl.APIPort='3002';break;}return returnUrl;}// used to convert timestamp to date\nexport var timeStampToDate=function timeStampToDate(timestamp){timestamp=timestamp.toString();timestamp=timestamp.slice(0,-3);timestamp=parseInt(timestamp,10);var momentDate=moment.unix(timestamp);return momentDate;};export var uploadToAzure=function uploadToAzure(type,userId,file,sasToken,callback){if(file!==''){var AzureStorage=window.AzureStorage;var folderName=type===1?CONSTANTS.profileAlbum:CONSTANTS.coverAlbum;var fileName=generateTimestamp(file.name);var uploadPath=\"sv_\".concat(userId,\"/\").concat(folderName,\"/\").concat(fileName);var blobService=AzureStorage.Blob.createBlobServiceWithSas(CONSTANTS.azureBlobURI,sasToken);blobService.createBlockBlobFromBrowserFile(CONSTANTS.azureContainer,uploadPath,file,function(error,result){if(callback)callback(error,result,uploadPath,fileName);if(error){console.log('error ',error);}});}};export var isValidURL=function isValidURL(URL){var regexp=/(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?/;return regexp.test(URL);};export var limitCharacter=function limitCharacter(text,count){if(text&&count){return text.slice(0,count)+(text.length>count?'...':'');}else{return false;}};export var SampleNextArrow=function SampleNextArrow(props){var arrow=props.arrow,onClick=props.onClick;return React.createElement(\"span\",{className:\"icon-right_carousel custom-next  next\".concat(arrow),onClick:onClick});};export var SamplePrevArrow=function SamplePrevArrow(props){var arrow=props.arrow,onClick=props.onClick;return React.createElement(\"span\",{className:\"icon-left_carousel custom-prev prev \".concat(arrow),onClick:onClick});};var generateRandomString=function generateRandomString(){var text='';var possible='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';for(var i=0;i<5;i++){text+=possible.charAt(Math.floor(Math.random()*possible.length));}return text;};export var generateTimestamp=function generateTimestamp(fileName){var extension=fileName.split('.').pop();var newFileName=moment().valueOf()+generateRandomString()+'.'+extension;return newFileName;};var fileExists=function fileExists(image_url){var http=new XMLHttpRequest();http.open('HEAD',image_url,false);http.send();return http.status!=404;};export var getThumbImage=function getThumbImage(imageType,imagePath){if(imagePath){// let newArray = imagePath.split('/');\n// if (newArray.length > 0) {\n//   if (getAPIURL().APIURL !== '103.76.253.131') {\n//     if (imageType === 'small') {\n//       let imageName = imagePath.replace(\n//         newArray[2],\n//         CONSTANTS.smallThumb + newArray[2]\n//       );\n//       imageName = `${azureThumbURL}/${imageName}`;\n//       if (fileExists(imageName)) {\n//         return imageName;\n//       } else {\n//         let imageName = `${azureURL}/${imagePath}`;\n//         return imageName;\n//       }\n//     }\n//     if (imageType === 'medium') {\n//       let imageName = imagePath.replace(\n//         newArray[2],\n//         CONSTANTS.mediumThumb + newArray[2]\n//       );\n//       imageName = `${azureThumbURL}/${imageName}`;\n//       if (fileExists(imageName)) {\n//         return imageName;\n//       } else {\n//         let imageName = `${azureURL}/${imagePath}`;\n//         return imageName;\n//       }\n//     }\n//   }\nif(imageType==='original'||imageType==='medium'||imageType==='small'){var imageName=\"\".concat(azureURL,\"/\").concat(imagePath);return imageName;}}//}\n};export var getIPAddress=function getIPAddress(onNewIP){//compatibility for firefox and chrome\nvar myPeerConnection=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;var pc=new myPeerConnection({iceServers:[]}),noop=function noop(){},localIPs={},ipRegex=/([0-9]{1,3}(\\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/g,key;function iterateIP(ip){if(!localIPs[ip])onNewIP(ip);localIPs[ip]=true;}//create a bogus data channel\npc.createDataChannel('');// create offer and set local description\npc.createOffer().then(function(sdp){sdp.sdp.split('\\n').forEach(function(line){if(line.indexOf('candidate')<0)return;line.match(ipRegex).forEach(iterateIP);});pc.setLocalDescription(sdp,noop,noop);}).catch(function(reason){// An error occurred, so handle the failure to connect\n});//listen for candidate events\npc.onicecandidate=function(ice){if(!ice||!ice.candidate||!ice.candidate.candidate||!ice.candidate.candidate.match(ipRegex))return;ice.candidate.candidate.match(ipRegex).forEach(iterateIP);};};// function callbackToPromise(method, ...args) {\n//   return new Promise(function(resolve, reject) {\n//       return method(...args, function(err, result) {\n//           return err ? reject(err) : resolve(result);\n//       });\n//   });\n// }","map":{"version":3,"sources":["C:\\Users\\Ankur\\Desktop\\therapidhire\\therapidhireui\\TheRapidHireUI\\src\\common\\commonFunctions.js"],"names":["React","toast","Transition","CONSTANTS","Cryptr","moment","ENCRYPTION_KEY","cryptlib","require","iv","key","getHashSha256","azureURL","azureBlobURI","azureContainer","azureThumbURL","azureThumbContainer","cryptr","CRYPTER_KEY","toastId","encryptedData","data","encrypt","decryptedData","decrypt","setLocalStorage","value","JSON","stringify","encodedData","localStorage","setItem","getLocalStorage","getItem","console","log","parse","removeLocalStorage","removeItem","clearLocalStorage","clear","showErrorToast","errorMessage","event","isActive","error","position","POSITION","TOP_RIGHT","hideProgressBar","closeOnClick","pauseOnHover","showSuccessToast","message","success","showWarningToast","warn","ZoomInAndOut","children","props","node","classList","add","remove","renderMessage","text","cryptText","replace","decrptText","getAPIURL","returnUrl","APIURL","httpServer","APIPort","window","location","hostname","timeStampToDate","timestamp","toString","slice","parseInt","momentDate","unix","uploadToAzure","type","userId","file","sasToken","callback","AzureStorage","folderName","profileAlbum","coverAlbum","fileName","generateTimestamp","name","uploadPath","blobService","Blob","createBlobServiceWithSas","createBlockBlobFromBrowserFile","result","isValidURL","URL","regexp","test","limitCharacter","count","length","SampleNextArrow","arrow","onClick","SamplePrevArrow","generateRandomString","possible","i","charAt","Math","floor","random","extension","split","pop","newFileName","valueOf","fileExists","image_url","http","XMLHttpRequest","open","send","status","getThumbImage","imageType","imagePath","imageName","getIPAddress","onNewIP","myPeerConnection","RTCPeerConnection","mozRTCPeerConnection","webkitRTCPeerConnection","pc","iceServers","noop","localIPs","ipRegex","iterateIP","ip","createDataChannel","createOffer","then","sdp","forEach","line","indexOf","match","setLocalDescription","catch","reason","onicecandidate","ice","candidate"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport Transition from 'react-transition-group/Transition';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n//import crypto from 'crypto';\r\nimport CONSTANTS from './core/config/appConfig';\r\nimport Cryptr from 'cryptr';\r\nimport moment from 'moment';\r\nconst ENCRYPTION_KEY = 'sd5b75nb7577#^%$%*&G#CGF*&%@#%*&';\r\n\r\nvar cryptlib = require('cryptlib'),\r\n  iv = 'F@$%^*GD$*(*#!12', //16 bytes = 128 bit\r\n  key = cryptlib.getHashSha256(ENCRYPTION_KEY, 32); //32 bytes = 256 bits\r\n\r\nlet azureURL = `${CONSTANTS.azureBlobURI}/${CONSTANTS.azureContainer}`;\r\nlet azureThumbURL = `${CONSTANTS.azureBlobURI}/${CONSTANTS.azureThumbContainer}`;\r\n\r\nconst cryptr = new Cryptr(CONSTANTS.CRYPTER_KEY);\r\nlet toastId = '';\r\n\r\n//used to encryption of localstorage data\r\nexport const encryptedData = data => {\r\n  return cryptr.encrypt(data);\r\n};\r\n\r\n//used to decrypt localstorage data\r\nexport const decryptedData = data => {\r\n  return cryptr.decrypt(data);\r\n};\r\n\r\n// used to set localstorage item\r\nexport const setLocalStorage = (key, value) => {\r\n  value = JSON.stringify(value);\r\n  const encodedData = encryptedData(value);\r\n  localStorage.setItem(key, encodedData);\r\n};\r\n\r\n// used to get localstorage item\r\nexport const getLocalStorage = key => {\r\n  if (key) {\r\n    let data = localStorage.getItem(key);\r\n    if (data) {\r\n      console.log(data);\r\n      data = JSON.parse(decryptedData(data));\r\n      return data;\r\n    }\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\n// used to remove localstorage item\r\nexport const removeLocalStorage = key => {\r\n  localStorage.removeItem(key);\r\n};\r\n\r\n// used to clear localstorage\r\nexport const clearLocalStorage = () => {\r\n  localStorage.clear();\r\n};\r\n\r\n// toastr messages for error\r\nexport const showErrorToast = (errorMessage, event) => {\r\n  if (!toast.isActive(toastId)) {\r\n    toastId = toast.error(errorMessage, {\r\n      position: toast.POSITION.TOP_RIGHT,\r\n      hideProgressBar: true,\r\n      closeOnClick: true,\r\n      pauseOnHover: true\r\n    });\r\n  }\r\n};\r\n\r\n// toastr messages for success\r\nexport const showSuccessToast = message => {\r\n  if (!toast.isActive(toastId)) {\r\n    toastId = toast.success(message, {\r\n      position: toast.POSITION.TOP_RIGHT,\r\n      hideProgressBar: true,\r\n      closeOnClick: true,\r\n      pauseOnHover: true\r\n    });\r\n  }\r\n};\r\n\r\n// toastr messages for warning\r\nexport const showWarningToast = message => {\r\n  if (!toast.isActive(toastId)) {\r\n    toastId = toast.warn(message, {\r\n      position: toast.POSITION.TOP_RIGHT,\r\n      hideProgressBar: true,\r\n      closeOnClick: true,\r\n      pauseOnHover: true\r\n    });\r\n  }\r\n};\r\n\r\n// used zoomin and zoomout of toastr messages\r\nexport const ZoomInAndOut = ({ children, position, ...props }) => (\r\n  <Transition\r\n    {...props}\r\n    timeout={200}\r\n    onEnter={node => node.classList.add('zoomIn', 'animate')}\r\n    onExit={node => {\r\n      node.classList.remove('zoomIn', 'animate');\r\n      node.classList.add('zoomOut', 'animate');\r\n    }}\r\n  >\r\n    {children}\r\n  </Transition>\r\n);\r\n\r\n// used to render validation message\r\nexport const renderMessage = message => {\r\n  return <span className=\"error\">{message}</span>;\r\n};\r\n\r\nexport const encrypt = text => {\r\n  let cryptText = cryptlib.encrypt(text, key, iv);\r\n  return cryptText.replace(/\\//g, '_spike_');\r\n};\r\n//  let buff = new Buffer(text);\r\n//  return buff.toString('base64');\r\n//return cryptlib.encrypt(text, key, iv);\r\n//return text;\r\n//};\r\n\r\nexport const decrypt = text => {\r\n  let decrptText = text.replace(/_spike_/g, '/');\r\n  return cryptlib.decrypt(decrptText, key, iv);\r\n  // let buff = new Buffer(text, 'base64');\r\n  //return buff.toString('ascii');\r\n  // return cryptlib.decrypt(text, key, iv);\r\n  //return text;\r\n};\r\n\r\n// export const encrypt = text => {\r\n//   let buff = new Buffer(text);\r\n//   let base64data = buff.toString('base64');\r\n//   return base64data;\r\n// };\r\n\r\n// export const decrypt = text => {\r\n//   let buff = new Buffer(text, 'base64');\r\n//   text = buff.toString('ascii');\r\n//   return text;\r\n// };\r\n\r\n// used to get apiurl for different servers\r\nexport function getAPIURL() {\r\n  let returnUrl = {\r\n    APIURL: '',\r\n    azureContainer: '',\r\n    azureThumbContainer: '',\r\n    httpServer: '',\r\n    APIPort: ''\r\n  };\r\n  switch (window.location.hostname) {\r\n    case '133.76.253.131':\r\n      returnUrl.APIURL = '103.76.253.131';\r\n      returnUrl.azureContainer = 'theRapidHire-media-development';\r\n      returnUrl.azureThumbContainer =\r\n        'theRapidHire-media-development-thumbnails';\r\n      returnUrl.httpServer = 'http://';\r\n      returnUrl.APIPort = '3002';\r\n      break;\r\n\r\n    default:\r\n      returnUrl.APIURL = 'localhost'; //'192.168.2.4';\r\n      returnUrl.azureContainer = 'theRapidHire-media-development';\r\n      returnUrl.azureThumbContainer =\r\n        'theRapidHire-media-development-thumbnails';\r\n      returnUrl.httpServer = 'http://';\r\n      returnUrl.APIPort = '3002';\r\n      break;\r\n  }\r\n  return returnUrl;\r\n}\r\n\r\n// used to convert timestamp to date\r\nexport const timeStampToDate = timestamp => {\r\n  timestamp = timestamp.toString();\r\n  timestamp = timestamp.slice(0, -3);\r\n  timestamp = parseInt(timestamp, 10);\r\n  let momentDate = moment.unix(timestamp);\r\n  return momentDate;\r\n};\r\n\r\nexport const uploadToAzure = (type, userId, file, sasToken, callback) => {\r\n  if (file !== '') {\r\n    let AzureStorage = window.AzureStorage;\r\n    let folderName = type === 1 ? CONSTANTS.profileAlbum : CONSTANTS.coverAlbum;\r\n    let fileName = generateTimestamp(file.name);\r\n    let uploadPath = `sv_${userId}/${folderName}/${fileName}`;\r\n\r\n    const blobService = AzureStorage.Blob.createBlobServiceWithSas(\r\n      CONSTANTS.azureBlobURI,\r\n      sasToken\r\n    );\r\n\r\n    blobService.createBlockBlobFromBrowserFile(\r\n      CONSTANTS.azureContainer,\r\n      uploadPath,\r\n      file,\r\n      (error, result) => {\r\n        if (callback) callback(error, result, uploadPath, fileName);\r\n        if (error) {\r\n          console.log('error ', error);\r\n        }\r\n      }\r\n    );\r\n  }\r\n};\r\n\r\nexport const isValidURL = URL => {\r\n  var regexp = /(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?/;\r\n  return regexp.test(URL);\r\n};\r\n\r\nexport const limitCharacter = (text, count) => {\r\n  if (text && count) {\r\n    return text.slice(0, count) + (text.length > count ? '...' : '');\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const SampleNextArrow = props => {\r\n  const { arrow, onClick } = props;\r\n  return (\r\n    <span\r\n      className={`icon-right_carousel custom-next  next${arrow}`}\r\n      onClick={onClick}\r\n    />\r\n  );\r\n};\r\n\r\nexport const SamplePrevArrow = props => {\r\n  const { arrow, onClick } = props;\r\n  return (\r\n    <span\r\n      className={`icon-left_carousel custom-prev prev ${arrow}`}\r\n      onClick={onClick}\r\n    />\r\n  );\r\n};\r\n\r\nconst generateRandomString = () => {\r\n  var text = '';\r\n  var possible =\r\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n\r\n  for (var i = 0; i < 5; i++)\r\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n\r\n  return text;\r\n};\r\n\r\nexport const generateTimestamp = fileName => {\r\n  let extension = fileName.split('.').pop();\r\n  let newFileName =\r\n    moment().valueOf() + generateRandomString() + '.' + extension;\r\n  return newFileName;\r\n};\r\n\r\nconst fileExists = image_url => {\r\n  var http = new XMLHttpRequest();\r\n  http.open('HEAD', image_url, false);\r\n  http.send();\r\n  return http.status != 404;\r\n};\r\n\r\nexport const getThumbImage = (imageType, imagePath) => {\r\n  if (imagePath) {\r\n    // let newArray = imagePath.split('/');\r\n    // if (newArray.length > 0) {\r\n    //   if (getAPIURL().APIURL !== '103.76.253.131') {\r\n    //     if (imageType === 'small') {\r\n    //       let imageName = imagePath.replace(\r\n    //         newArray[2],\r\n    //         CONSTANTS.smallThumb + newArray[2]\r\n    //       );\r\n    //       imageName = `${azureThumbURL}/${imageName}`;\r\n    //       if (fileExists(imageName)) {\r\n    //         return imageName;\r\n    //       } else {\r\n    //         let imageName = `${azureURL}/${imagePath}`;\r\n    //         return imageName;\r\n    //       }\r\n    //     }\r\n\r\n    //     if (imageType === 'medium') {\r\n    //       let imageName = imagePath.replace(\r\n    //         newArray[2],\r\n    //         CONSTANTS.mediumThumb + newArray[2]\r\n    //       );\r\n    //       imageName = `${azureThumbURL}/${imageName}`;\r\n    //       if (fileExists(imageName)) {\r\n    //         return imageName;\r\n    //       } else {\r\n    //         let imageName = `${azureURL}/${imagePath}`;\r\n    //         return imageName;\r\n    //       }\r\n    //     }\r\n    //   }\r\n\r\n    if (\r\n      imageType === 'original' ||\r\n      imageType === 'medium' ||\r\n      imageType === 'small'\r\n    ) {\r\n      let imageName = `${azureURL}/${imagePath}`;\r\n      return imageName;\r\n    }\r\n  }\r\n  //}\r\n};\r\n\r\nexport const getIPAddress = onNewIP => {\r\n  //compatibility for firefox and chrome\r\n  var myPeerConnection =\r\n    window.RTCPeerConnection ||\r\n    window.mozRTCPeerConnection ||\r\n    window.webkitRTCPeerConnection;\r\n  var pc = new myPeerConnection({\r\n      iceServers: []\r\n    }),\r\n    noop = function() {},\r\n    localIPs = {},\r\n    ipRegex = /([0-9]{1,3}(\\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/g,\r\n    key;\r\n\r\n  function iterateIP(ip) {\r\n    if (!localIPs[ip]) onNewIP(ip);\r\n    localIPs[ip] = true;\r\n  }\r\n\r\n  //create a bogus data channel\r\n  pc.createDataChannel('');\r\n\r\n  // create offer and set local description\r\n  pc.createOffer()\r\n    .then(function(sdp) {\r\n      sdp.sdp.split('\\n').forEach(function(line) {\r\n        if (line.indexOf('candidate') < 0) return;\r\n        line.match(ipRegex).forEach(iterateIP);\r\n      });\r\n\r\n      pc.setLocalDescription(sdp, noop, noop);\r\n    })\r\n    .catch(function(reason) {\r\n      // An error occurred, so handle the failure to connect\r\n    });\r\n\r\n  //listen for candidate events\r\n  pc.onicecandidate = function(ice) {\r\n    if (\r\n      !ice ||\r\n      !ice.candidate ||\r\n      !ice.candidate.candidate ||\r\n      !ice.candidate.candidate.match(ipRegex)\r\n    )\r\n      return;\r\n    ice.candidate.candidate.match(ipRegex).forEach(iterateIP);\r\n  };\r\n};\r\n\r\n// function callbackToPromise(method, ...args) {\r\n//   return new Promise(function(resolve, reject) {\r\n//       return method(...args, function(err, result) {\r\n//           return err ? reject(err) : resolve(result);\r\n//       });\r\n//   });\r\n// }\r\n"]},"metadata":{},"sourceType":"module"}