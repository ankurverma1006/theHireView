{"ast":null,"code":"var _jsxFileName = \"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/src/admin/candidate/addMoreStudent.js\";\nimport React, { Component } from 'react';\nimport validation from 'react-validation-mixin';\nimport strategy from 'react-validatorjs-strategy';\nimport classnames from 'classnames';\nimport theRapidHireApiService from '../../common/core/api/apiService';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { actionGetStudentList } from '../../common/core/redux/actions';\nimport { actionSetStudentAsUser } from '../../common/core/redux/actions';\nimport { Button, Modal, Form, FormGroup, Col, ControlLabel, FormControl } from 'react-bootstrap';\nimport { renderMessage, setLocalStorage, showSuccessToast, showErrorToast } from '../../common/commonFunctions';\nimport CONSTANTS from '../../common/core/config/appConfig';\nlet validationMessages = CONSTANTS.validationMessages;\nlet regExpressions = CONSTANTS.regExpressions;\n\nclass AddMoreStudent extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.getValidatorData = () => {\n      return this.state;\n    };\n\n    this.getClasses = field => {\n      return classnames({\n        error: !this.props.isValid(field)\n      });\n    };\n\n    this.validateData = () => {\n      let self = this;\n      this.props.validate(function (error) {\n        console.log('error', error);\n\n        if (!error) {\n          self.setState({\n            isLoading: true\n          });\n          self.handleSubmit();\n        }\n      });\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.submitData = event => {\n      if (event.key === 'Enter') {\n        event.preventDefault();\n        this.validateData();\n      }\n    };\n\n    this.existMail = event => {\n      let students = this.state.user.students;\n      let studentMailList = this.state.studentMailList;\n      let self = this;\n      if (event.target.value === '') return false;\n    };\n\n    this.state = {\n      firstName: '',\n      lastName: '',\n      isLoading: false,\n      studentMailList: [{\n        email: ''\n      }],\n      streetAddress1: '',\n      streetAddress2: '',\n      city: '',\n      state: '',\n      country: '',\n      zipcode: ''\n    };\n    this.handleSubmit = this.handleSubmit.bind(this); //  this.handleAddMail = this.handleAddMail.bind(this);\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.getValidatorData = this.getValidatorData.bind(this);\n    this.getClasses = this.getClasses.bind(this);\n    this.addStudentModelFun = this.addStudentModelFun.bind(this);\n    this.validatorTypes = strategy.createSchema({\n      firstName: ['required', 'regex:' + regExpressions.alphaOnly],\n      lastName: ['regex:' + regExpressions.alphaOnly],\n      email: 'required|email'\n    }, {\n      'required.firstName': validationMessages.firstName.required,\n      'regex.firstName': validationMessages.firstName.alphaOnly,\n      'regex.lastName': validationMessages.lastName.alphaOnly,\n      'required.email': validationMessages.email.required,\n      'email.email': validationMessages.email.invalid\n    });\n  }\n\n  componentDidMount() {\n    if (this.props.parent) {\n      this.props.parent['token'] = this.props.user['token'];\n    }\n\n    if (this.props.user) {\n      let user = this.props.parent ? this.props.parent : this.props.user;\n      this.setState({\n        user: user,\n        parentFirstName: user.firstName,\n        parentLastName: user.lastName\n      });\n\n      if (this.props.user) {\n        this.setState({\n          addStudentModel: this.props.addStudentModel\n        });\n      }\n    }\n  }\n\n  handleSubmit() {\n    let self = this;\n    let createdBy = this.state.user.userId;\n    let roleId = 1;\n    let firstName = this.state.firstName;\n    let lastName = this.state.lastName;\n    let isActive = this.state.user.isActive;\n    let email = this.state.email;\n    console.log('state ', this.state);\n    let data = {\n      userId: '',\n      firstName,\n      lastName,\n      email,\n      roleId,\n      createdBy\n    };\n    theRapidHireApiService('signupUser', data).then(response1 => {\n      self.setState({\n        isLoading: false\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  addStudentModelFun() {\n    this.setState({\n      addStudentModel: this.state.addStudentModel\n    });\n    this.props.closeAddStudentModel();\n  }\n\n  render() {\n    let self = this;\n    const isLoading = this.state.isLoading;\n    const cssClasses = {\n      root: 'input-group mb-1',\n      input: 'form-control'\n    };\n    const inputProps = {\n      value: this.state.streetAddress1,\n      onChange: this.onChange,\n      placeholder: 'Street Address1',\n      type: 'text'\n    };\n    const defaultStyles = {\n      root: {\n        position: 'relative',\n        paddingBottom: '0px'\n      },\n      input: {\n        display: 'inline-block',\n        width: '100%',\n        padding: '10px'\n      },\n      autocompleteContainer: {\n        position: 'absolute',\n        top: '100%',\n        backgroundColor: 'white',\n        border: '1px solid #555555',\n        width: '100%'\n      },\n      autocompleteItem: {\n        backgroundColor: '#ffffff',\n        padding: '10px',\n        color: '#555555',\n        cursor: 'pointer'\n      },\n      autocompleteItemActive: {\n        backgroundColor: '#fafafa'\n      }\n    };\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, React.createElement(Modal //   bsSize=\"medium\"\n    , {\n      show: this.state.addStudentModel,\n      onHide: this.addStudentModelFun,\n      backdrop: \"static\",\n      keyboard: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      className: \"subtitle text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, \"Add New Candidate\")), React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, React.createElement(Form, {\n      horizontal: true,\n      className: \"lightBgForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      className: \"centeredRightLabel \".concat(this.getClasses('firstName')),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, \"First Name\"), React.createElement(Col, {\n      sm: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      type: \"text\",\n      name: \"firstName\",\n      placeholder: \"First Name\",\n      value: this.state.firstName //     onBlur={self.checkStudentName.bind(self, index)}\n      ,\n      onChange: self.handleChange.bind(self),\n      autoComplete: \"off\",\n      maxLength: \"35\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }), renderMessage(this.props.getValidationMessages('firstName')))), React.createElement(FormGroup, {\n      className: \"centeredRightLabel \".concat(this.getClasses('lastName')),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, \"Last Name\"), React.createElement(Col, {\n      sm: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      type: \"text\",\n      name: \"lastName\",\n      placeholder: \"Last Name\",\n      value: this.state.lastName //     onBlur={self.checkStudentName.bind(self, index)}\n      ,\n      onChange: self.handleChange.bind(self),\n      autoComplete: \"off\",\n      maxLength: \"35\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }), renderMessage(this.props.getValidationMessages('lastName')))), React.createElement(FormGroup, {\n      className: \"centeredRightLabel \".concat(this.getClasses('email')),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, \"Email\"), React.createElement(Col, {\n      sm: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      type: \"email\",\n      name: \"email\",\n      placeholder: \"Email \",\n      value: this.state.email,\n      onBlur: self.existMail.bind(self),\n      onChange: self.handleChange.bind(self),\n      autoComplete: \"off\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }), renderMessage(this.props.getValidationMessages('email'))))))), React.createElement(Modal.Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }, React.createElement(Button, {\n      bsStyle: \"primary no-bold no-round mr-1\",\n      className: \"no-bold no-round\",\n      disabled: isLoading,\n      onClick: !isLoading ? this.validateData : null,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }, isLoading ? 'Loading...' : 'Save'), React.createElement(Button, {\n      bsStyle: \"default no-bold no-round\",\n      className: \"no-bold no-round\",\n      onClick: this.addStudentModelFun,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    }, \"Close\"))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.User.userData,\n    parent: state.User.parentData\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    actionGetStudentList,\n    actionSetStudentAsUser\n  }, dispatch);\n};\n\nAddMoreStudent = validation(strategy)(AddMoreStudent);\nexport default connect(mapStateToProps, mapDispatchToProps)(AddMoreStudent);","map":{"version":3,"sources":["/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/src/admin/candidate/addMoreStudent.js"],"names":["React","Component","validation","strategy","classnames","theRapidHireApiService","connect","bindActionCreators","actionGetStudentList","actionSetStudentAsUser","Button","Modal","Form","FormGroup","Col","ControlLabel","FormControl","renderMessage","setLocalStorage","showSuccessToast","showErrorToast","CONSTANTS","validationMessages","regExpressions","AddMoreStudent","constructor","props","context","getValidatorData","state","getClasses","field","error","isValid","validateData","self","validate","console","log","setState","isLoading","handleSubmit","handleChange","event","target","name","value","submitData","key","preventDefault","existMail","students","user","studentMailList","firstName","lastName","email","streetAddress1","streetAddress2","city","country","zipcode","bind","addStudentModelFun","validatorTypes","createSchema","alphaOnly","required","invalid","componentDidMount","parent","parentFirstName","parentLastName","addStudentModel","createdBy","userId","roleId","isActive","data","then","response1","catch","err","closeAddStudentModel","render","cssClasses","root","input","inputProps","onChange","placeholder","type","defaultStyles","position","paddingBottom","display","width","padding","autocompleteContainer","top","backgroundColor","border","autocompleteItem","color","cursor","autocompleteItemActive","getValidationMessages","mapStateToProps","User","userData","parentData","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport validation from 'react-validation-mixin';\r\nimport strategy from 'react-validatorjs-strategy';\r\nimport classnames from 'classnames';\r\nimport theRapidHireApiService from '../../common/core/api/apiService';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { actionGetStudentList } from '../../common/core/redux/actions';\r\nimport { actionSetStudentAsUser } from '../../common/core/redux/actions';\r\nimport {\r\n  Button,\r\n  Modal,\r\n  Form,\r\n  FormGroup,\r\n  Col,\r\n  ControlLabel,\r\n  FormControl\r\n} from 'react-bootstrap';\r\n\r\nimport {\r\n  renderMessage,\r\n  setLocalStorage,\r\n  showSuccessToast,\r\n  showErrorToast\r\n} from '../../common/commonFunctions';\r\nimport CONSTANTS from '../../common/core/config/appConfig';\r\n\r\nlet validationMessages = CONSTANTS.validationMessages;\r\nlet regExpressions = CONSTANTS.regExpressions;\r\n\r\nclass AddMoreStudent extends Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n    this.state = {\r\n      firstName: '',\r\n      lastName: '',\r\n      isLoading: false,\r\n      studentMailList: [{ email: '' }],\r\n      streetAddress1: '',\r\n      streetAddress2: '',\r\n      city: '',\r\n      state: '',\r\n      country: '',\r\n      zipcode: ''\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  //  this.handleAddMail = this.handleAddMail.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.getValidatorData = this.getValidatorData.bind(this);\r\n    this.getClasses = this.getClasses.bind(this);\r\n    this.addStudentModelFun = this.addStudentModelFun.bind(this);\r\n    this.validatorTypes = strategy.createSchema(\r\n      {\r\n        firstName: ['required', 'regex:' + regExpressions.alphaOnly],\r\n        lastName: ['regex:' + regExpressions.alphaOnly],\r\n        email: 'required|email'\r\n      },\r\n      {\r\n        'required.firstName': validationMessages.firstName.required,\r\n        'regex.firstName': validationMessages.firstName.alphaOnly,\r\n        'regex.lastName': validationMessages.lastName.alphaOnly,\r\n        'required.email': validationMessages.email.required,\r\n        'email.email': validationMessages.email.invalid\r\n      }\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.parent) {\r\n      this.props.parent['token'] = this.props.user['token'];\r\n    }\r\n    if (this.props.user) {\r\n      let user = this.props.parent ? this.props.parent : this.props.user;\r\n      this.setState({\r\n        user: user,\r\n        parentFirstName: user.firstName,\r\n        parentLastName: user.lastName\r\n      });\r\n      if (this.props.user) {\r\n        this.setState({\r\n          addStudentModel: this.props.addStudentModel\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  getValidatorData = () => {\r\n    return this.state;\r\n  };\r\n\r\n  getClasses = field => {\r\n    return classnames({\r\n      error: !this.props.isValid(field)\r\n    });\r\n  };\r\n\r\n  validateData = () => {\r\n    let self = this;\r\n    this.props.validate(function(error) {\r\n      console.log('error', error);\r\n      if (!error) {\r\n        self.setState({ isLoading: true });\r\n        self.handleSubmit();\r\n      }\r\n    });\r\n  };\r\n \r\n  handleChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  submitData = event => {\r\n    if (event.key === 'Enter') {\r\n      event.preventDefault();\r\n      this.validateData();\r\n    }\r\n  };\r\n\r\n  //   checkStudentName = (index, event) => {\r\n  //     let studentMailList = this.state.studentMailList;\r\n  //     let self = this;\r\n  //     if (event.target.value === '') return false;\r\n\r\n  //     var filter = /^[A-Za-z\\s]+$/;\r\n  //     if (!filter.test(event.target.value)) {\r\n  //       studentMailList[index]['firstName'] = '';\r\n  //       this.setState({ studentMailList: studentMailList });\r\n  //       showErrorToast('Invalid Student Name.');\r\n  //     }\r\n  //   };\r\n\r\n  existMail = event => {\r\n    let students = this.state.user.students;\r\n    let studentMailList = this.state.studentMailList;\r\n    let self = this;  \r\n\r\n    if (event.target.value === '') return false;\r\n\r\n\r\n  };\r\n\r\n  handleSubmit() {\r\n    let self = this;\r\n    let createdBy = this.state.user.userId;\r\n    let roleId = 1;\r\n    let firstName = this.state.firstName;\r\n    let lastName = this.state.lastName;\r\n    let isActive = this.state.user.isActive;\r\n    let email= this.state.email;    \r\n    console.log('state ', this.state);\r\n    let data = {\r\n      userId:'',\r\n      firstName,\r\n      lastName,\r\n      email,\r\n      roleId,   \r\n      createdBy      \r\n    };\r\n\r\n    theRapidHireApiService('signupUser', data)\r\n      .then(response1 => {        \r\n            self.setState({ isLoading: false });                    \r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  addStudentModelFun() {\r\n    this.setState({ addStudentModel: this.state.addStudentModel });\r\n    this.props.closeAddStudentModel();\r\n  }\r\n\r\n  render() {\r\n    let self = this;\r\n    const { isLoading } = this.state;\r\n    const cssClasses = {\r\n      root: 'input-group mb-1',\r\n      input: 'form-control'\r\n    };\r\n    const inputProps = {\r\n      value: this.state.streetAddress1,\r\n      onChange: this.onChange,\r\n      placeholder: 'Street Address1',\r\n      type: 'text'\r\n    };\r\n    const defaultStyles = {\r\n      root: {\r\n        position: 'relative',\r\n        paddingBottom: '0px'\r\n      },\r\n      input: {\r\n        display: 'inline-block',\r\n        width: '100%',\r\n        padding: '10px'\r\n      },\r\n      autocompleteContainer: {\r\n        position: 'absolute',\r\n        top: '100%',\r\n        backgroundColor: 'white',\r\n        border: '1px solid #555555',\r\n        width: '100%'\r\n      },\r\n      autocompleteItem: {\r\n        backgroundColor: '#ffffff',\r\n        padding: '10px',\r\n        color: '#555555',\r\n        cursor: 'pointer'\r\n      },\r\n      autocompleteItemActive: {\r\n        backgroundColor: '#fafafa'\r\n      }\r\n    };\r\n\r\n    return (\r\n      <div>\r\n        <Modal\r\n          //   bsSize=\"medium\"\r\n          show={this.state.addStudentModel}\r\n          onHide={this.addStudentModelFun}\r\n          backdrop=\"static\"\r\n          keyboard={false}\r\n        >\r\n          <Modal.Header closeButton>\r\n            <Modal.Title className=\"subtitle text-center\">\r\n              Add New Candidate\r\n            </Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <Form horizontal className=\"lightBgForm\">\r\n              <Col sm={12}>\r\n                <FormGroup\r\n                  className={`centeredRightLabel ${this.getClasses(\r\n                    'firstName'\r\n                  )}`}\r\n                >\r\n                  <Col sm={4}>First Name</Col>\r\n                  <Col sm={8}>\r\n                    <FormControl\r\n                      type=\"text\"\r\n                      name=\"firstName\"\r\n                      placeholder=\"First Name\"\r\n                      value={this.state.firstName}\r\n                      //     onBlur={self.checkStudentName.bind(self, index)}\r\n                      onChange={self.handleChange.bind(self)}\r\n                      autoComplete=\"off\"\r\n                      maxLength=\"35\"\r\n                    />\r\n\r\n                    {renderMessage(\r\n                      this.props.getValidationMessages('firstName')\r\n                    )}\r\n                  </Col>\r\n                </FormGroup>\r\n                <FormGroup\r\n                  className={`centeredRightLabel ${this.getClasses(\r\n                    'lastName'\r\n                  )}`}\r\n                >\r\n                  <Col sm={4}>Last Name</Col>\r\n                  <Col sm={8}>\r\n                    <FormControl\r\n                      type=\"text\"\r\n                      name=\"lastName\"\r\n                      placeholder=\"Last Name\"\r\n                      value={this.state.lastName}\r\n                      //     onBlur={self.checkStudentName.bind(self, index)}\r\n                      onChange={self.handleChange.bind(self)}\r\n                      autoComplete=\"off\"\r\n                      maxLength=\"35\"\r\n                    />\r\n                    {renderMessage(\r\n                      this.props.getValidationMessages('lastName')\r\n                    )}\r\n                  </Col>\r\n                </FormGroup>\r\n                <FormGroup\r\n                  className={`centeredRightLabel ${this.getClasses('email')}`}\r\n                >\r\n                  <Col sm={4}>Email</Col>\r\n                  <Col sm={8}>\r\n                    <FormControl\r\n                      type=\"email\"\r\n                      name=\"email\"\r\n                      placeholder=\"Email \"\r\n                      value={this.state.email}\r\n                      onBlur={self.existMail.bind(self)}\r\n                      onChange={self.handleChange.bind(self)}\r\n                      autoComplete=\"off\"\r\n                    />\r\n                    {renderMessage(this.props.getValidationMessages('email'))}\r\n                  </Col>\r\n                </FormGroup>\r\n              </Col>\r\n            </Form>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button\r\n              bsStyle=\"primary no-bold no-round mr-1\"\r\n              className=\"no-bold no-round\"\r\n              disabled={isLoading}\r\n              onClick={!isLoading ? this.validateData : null}\r\n            >\r\n              {isLoading ? 'Loading...' : 'Save'}\r\n            </Button>\r\n            <Button\r\n              bsStyle=\"default no-bold no-round\"\r\n              className=\"no-bold no-round\"\r\n              onClick={this.addStudentModelFun}\r\n            >\r\n              Close\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    user: state.User.userData,\r\n    parent: state.User.parentData\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    { actionGetStudentList, actionSetStudentAsUser },\r\n    dispatch\r\n  );\r\n};\r\n\r\nAddMoreStudent = validation(strategy)(AddMoreStudent);\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(AddMoreStudent);\r\n"]},"metadata":{},"sourceType":"module"}