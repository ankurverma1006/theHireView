{"ast":null,"code":"import _defineProperty from\"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{ToastContainer}from'react-toastify';import{Portal}from'react-overlays';import{Button,Modal,Form,FormGroup,Checkbox,Col,ControlLabel,FormControl,InputGroup,Radio}from'react-bootstrap';import Select from'react-select';import'react-select/dist/react-select.css';import{YearPicker,MonthPicker,DayPicker}from'react-dropdown-date';import{connect}from'react-redux';import validation from'react-validation-mixin';import strategy from'react-validatorjs-strategy';import classnames from'classnames';import ImageCropper from'../../common/cropper/imageCropper';import achievementDefaultImage from'../../assets/img/default_achievement.jpg';import _ from'lodash';import moment from'moment';import CONSTANTS from'../../common/core/config/appConfig';import{renderMessage,isValidURL,ZoomInAndOut,generateTimestamp,showErrorToast}from'../../common/commonFunctions';import theRapidHireApiService from'../../common/core/api/apiService';//import MediaList from '../mediaList';\nvar validationMessages=CONSTANTS.validationMessages;var regExpressions=CONSTANTS.regExpressions;var badgeImgArray=[];var badgeImgPreview=[];var certificateImgArray=[];var certificateImgPreview=[];var mediaImgArray=[];var mediaImgPreview=[];var emptyToDate='10000000';var addProject=/*#__PURE__*/function(_Component){_inherits(addProject,_Component);function addProject(props){var _this;_classCallCheck(this,addProject);_this=_possibleConstructorReturn(this,_getPrototypeOf(addProject).call(this,props));_this.getValidatorData=function(){return _this.state;};_this.getClasses=function(field){return classnames({error:!_this.props.isValid(field)});};_this.setProjectData=function(data){var startDay='',startMonth='',startYear='',endDay='',endMonth='',endYear='',todaysDate='';if(data){if(data.startDate){startDay=moment(data.startDate).format('D');startMonth=Number(moment(data.startDate).format('M'))-1;startYear=moment(data.startDate).format('YYYY');}if(data.endDate){endDay=moment(data.endDate).format('D');endMonth=Number(moment(data.endDate).format('M'))-1;endYear=moment(data.endDate).format('YYYY');}else{todaysDate='';}_this.setState({userId:data.userId,projectName:data.projectName,projectURL:data.projectURL,associatedWith:data.associatedWith,projectFinished:data.projectFinished,description:data.description,projectId:data.projectId,startDay:startDay,startMonth:startMonth,startYear:startYear,endDay:endDay,endMonth:endMonth,endYear:endYear,//startDate: moment(data.fromDate),\n// endDate: data.toDate ? moment(data.toDate) : emptyToDate,   \ntodaysDate:data.toDate?false:true});}};_this.handleChange=function(event){var target=event.target;var value=target.type==='checkbox'?target.checked:target.value;var name=target.name;_this.setState(_defineProperty({},name,value));};_this.handleChangeStart=function(startDate){_this.handleDateChange({startDate:startDate});};_this.handleChangeEnd=function(endDate){_this.handleDateChange({endDate:endDate});};_this.handleDateChange=function(_ref){var startDate=_ref.startDate,endDate=_ref.endDate;startDate=startDate||_this.state.startDate;endDate=endDate||_this.state.endDate;if(startDate&&endDate){if(startDate.isAfter(endDate)){endDate=startDate;}}_this.setState({startDate:startDate,endDate:endDate});};_this.validateData=function(){var self=_assertThisInitialized(_this);var today=new Date();_this.props.validate(function(error){if(!error){if(self.state.fromDate&&self.state.fromDate>today&&self.state.toDate&&self.state.toDate>today){showErrorToast('\"From\" and \"To\" date should be less than future date');self.setState({startYear:'',startMonth:'',startDay:'',endYear:'',endMonth:'',endDay:''});}else if(self.state.fromDate&&self.state.fromDate>today){showErrorToast('\"From\" date should be less than future date');self.setState({startYear:'',startMonth:'',startDay:''});}else if(self.state.toDate&&self.state.toDate>today){showErrorToast('\"To\" date should be less than future date');self.setState({endYear:'',endMonth:'',endDay:''});}else if(self.state.fromDate!==''&&self.state.toDate!==''&&self.state.fromDate>self.state.toDate){showErrorToast('The \"to\" date should be greater than or equal to \"from\" date');self.setState({endYear:'',endMonth:'',endDay:''});}else{self.setState({isLoading:true});self.handleSubmit();}}});};_this.selectStartDate=function(type,value){if(type==='startYear'){_this.setState({startYear:value},function(){return _this.selectDateChange();});}if(type==='startMonth'){_this.setState({startMonth:value},function(){return _this.selectDateChange();});}if(type==='startDay'){_this.setState({startDay:1},function(){return _this.selectDateChange();});}};_this.selectEndDate=function(type,value){if(type==='endYear'){_this.setState({endYear:value},function(){return _this.selectDateChange();});}if(type==='endMonth'){_this.setState({endMonth:value},function(){return _this.selectDateChange();});}// if (type === 'endDay') {\n//   this.setState({ endDay: 1 }, () => this.selectDateChange());\n// }\n};_this.selectDateChange=function(){var fromDate='';var toDate='';var startDay=1,startYear='',startMonth='',endDay=1,endMonth='',endYear='';if(_this.state.startYear&&_this.state.startMonth){startDay=1;startMonth=_this.state.startMonth!==''?Number(_this.state.startMonth)+1:'';startYear=_this.state.startYear!==''?_this.state.startYear:'';fromDate=moment(startYear+'-'+startMonth+'-'+startDay);}if(_this.state.endYear&&_this.state.endMonth){endDay=1;endMonth=_this.state.endMonth!==''?Number(_this.state.endMonth)+1:'';endYear=_this.state.endYear!==''?_this.state.endYear:'';toDate=moment(endYear+'-'+endMonth+'-'+endDay);}if(toDate&&fromDate){if(fromDate.isAfter(toDate)){_this.setState({endDay:startDay,endMonth:startMonth-1,endYear:startYear,fromDate:fromDate,toDate:toDate});}else{_this.setState({fromDate:fromDate,toDate:toDate});}}};_this.currentCheckBox=function(event){if(event.target.checked){_this.setState({todaysDate:true,endDate:emptyToDate,endDay:'',endMonth:'',endYear:'',projectFinished:true});}else{_this.setState({todaysDate:false,endYear:moment().format('YYYY'),endMonth:moment().format('M')-1,endDay:moment().format('D'),projectFinished:false});}// let endDate = null;\n// if (!todaysDate) endDate = emptyToDate;\n// else endDate = '';\n// this.setState({ todaysDate: !todaysDate, endDate: endDate });\n};_this.closeProjectModal=function(status){_this.setState({projectModal:false});_this.props.closeProjectComponent();};_this.state={isLoading:false,startDate:'',endDate:'',promptRecommendation:false,userId:'',todaysDate:false,startYear:moment().format('YYYY'),startMonth:moment().format('M')-1,startDay:moment().format('D'),endYear:moment().format('YYYY'),endMonth:moment().format('M')-1,endDay:moment().format('D'),lwdYear:moment().format('YYYY'),lwdMonth:moment().format('M')-1,lwdDay:moment().format('D'),designation:'',organisation:'',projectModal:true,projectId:'',associateList:[]};_this.getValidatorData=_this.getValidatorData.bind(_assertThisInitialized(_this));_this.getClasses=_this.getClasses.bind(_assertThisInitialized(_this));_this.validatorTypes=strategy.createSchema({projectName:'required'},{'required.projectName':validationMessages.projectName.required});return _this;}_createClass(addProject,[{key:\"componentDidMount\",value:function componentDidMount(){var userId=null;if(this.props.user){userId=this.props.user.userId;this.setState({userId:userId});}this.setProjectData(this.props.projectDetail);this.getAssociatedListData(userId);}},{key:\"getAssociatedListData\",value:function getAssociatedListData(userId){var _this2=this;theRapidHireApiService('getAssociatedListDataByUserId',{userId:userId}).then(function(response){if(response.data.statusCode===200){var associateList=_this2.state.associateList;associateList=response.data.resourceData[0];_this2.setState({associateList:associateList});}}).catch(function(err){console.log(err);});}},{key:\"generateSASToken\",value:function generateSASToken(){var _this3=this;theRapidHireApiService('getSASToken').then(function(response){if(response.data.status==='Success'){var sasToken=response.data.result.sasToken;_this3.setState({sasToken:sasToken});}}).catch(function(err){console.log(err);});}},{key:\"handleSubmit\",value:function handleSubmit(){var projectName=this.state.projectName;var projectURL=this.state.projectURL;var associatedWith=this.state.associatedWith;var projectFinished=this.state.projectFinished;var description=this.state.description;var userId=this.props.user.userId;var projectId=this.state.projectId;console.log('this.state.startDay -- ',this.state.startDay);var startDay=1;var startMonth=this.state.startMonth!==''?Number(this.state.startMonth)+1:'';var startYear=this.state.startYear!==''?this.state.startYear:'';var fromDate='';if(startDay&&startMonth&&startYear){fromDate=moment(startYear+'-'+startMonth+'-'+startDay);fromDate=moment(fromDate).valueOf();}var endDay=1;var endMonth=this.state.endMonth!==''?Number(this.state.endMonth)+1:'';var endYear=this.state.endYear!==''?this.state.endYear:'';var toDate='';if(endDay&&endMonth&&endYear){toDate=moment(endYear+'-'+endMonth+'-'+endDay);toDate=moment(toDate).valueOf();toDate=this.state.todaysDate?'':toDate;}var data={projectId:projectId,userId:userId,projectName:projectName,projectURL:projectURL,associatedWith:associatedWith,projectFinished:projectFinished,description:description,startDate:fromDate,endDate:toDate};var self=this;if(!this.state.projectId||this.state.projectId===''){theRapidHireApiService('addProject',data).then(function(response){if(response.data.status==='Success'){self.setState({isLoading:false});self.closeProjectModal('save');}}).catch(function(error){self.setState({isLoading:false});console.log(error);});}else{theRapidHireApiService('editProject',data).then(function(response){if(response.data.status==='Success'){self.closeProjectModal('save');self.setState({isLoading:false});}}).catch(function(error){self.setState({isLoading:false});console.log(error);});}}},{key:\"render\",value:function render(){var _this4=this;console.log('this.props.employmentDetail ',this.props.projectDetail);var CalendarContainer=function CalendarContainer(_ref2){var children=_ref2.children;var el=document.getElementById('calendar-portal');return React.createElement(Portal,{container:el},children);};return React.createElement(\"div\",null,React.createElement(Modal,{bsSize:\"large\",show:this.state.projectModal,onHide:this.closeProjectModal.bind(this,'close'),backdrop:\"static\",keyboard:false},React.createElement(ToastContainer,{autoClose:5000,className:\"custom-toaster-main-cls\",toastClassName:\"custom-toaster-bg\",transition:ZoomInAndOut}),React.createElement(Modal.Header,{closeButton:true},React.createElement(Modal.Title,{className:\"subtitle text-center\"},!this.state.ProjectId||this.state.ProjectId===''?'Add Project':'Edit Project')),React.createElement(Modal.Body,null,React.createElement(Form,{horizontal:true,className:\"lightBgForm\"},React.createElement(Col,{sm:10},React.createElement(FormGroup,{controlId:\"formControlsTextarea\",className:this.getClasses('title')},React.createElement(Col,{componentClass:ControlLabel,sm:3},React.createElement(ControlLabel,null,\"Project Name\")),React.createElement(Col,{sm:9},React.createElement(FormControl,{placeholder:\"Add a project\",name:\"projectName\",value:this.state.projectName,onChange:this.handleChange,autoComplete:\"off\",maxLength:\"100\"}),renderMessage(this.props.getValidationMessages('projectName')))),React.createElement(FormGroup,{className:\"addDateInput\"},React.createElement(Col,{componentClass:ControlLabel,sm:3},\"Date From\"),React.createElement(Col,{sm:9},React.createElement(\"div\",{className:\"dob\"},React.createElement(\"div\",{className:\"form-group\"},React.createElement(YearPicker,{id:\"year\",name:\"startYear\",classes:\"form-control\",defaultValue:\"Year\",end:moment().year(),reverse:true,value:this.state.startYear,onChange:function onChange(year){return _this4.selectStartDate('startYear',year);}})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(MonthPicker,{id:\"month\",name:\"startMonth\",classes:\"form-control\",defaultValue:'Month',short:true,endYearGiven:true,year:this.state.startYear,value:this.state.startMonth,onChange:function onChange(month){return _this4.selectStartDate('startMonth',month);}}))))),React.createElement(FormGroup,{className:\"addDateInput\"},React.createElement(Col,{componentClass:ControlLabel,sm:3},\"Date To\"),React.createElement(Col,{sm:9},React.createElement(\"div\",{className:\"dob\"},React.createElement(\"div\",{className:\"form-group\"},React.createElement(YearPicker,{id:\"year\",name:\"endYear\",disabled:this.state.todaysDate?true:false,classes:\"form-control\",defaultValue:\"Year\",end:moment().year(),reverse:true,value:this.state.endYear,onChange:function onChange(year){return _this4.selectEndDate('endYear',year);}})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(MonthPicker,{id:\"month\",name:\"endMonth\",disabled:this.state.todaysDate?true:false,classes:\"form-control\",defaultValue:'Month',short:true,endYearGiven:true,year:this.state.endYear,value:this.state.endMonth,onChange:function onChange(month){return _this4.selectEndDate('endMonth',month);}}))),React.createElement(\"div\",{className:\"text-right\"},React.createElement(Checkbox,{className:\"checkbox-primary \",onClick:this.currentCheckBox.bind(this),defaultChecked:this.state.projectFinished?true:false},\"Is project going on?\",React.createElement(\"span\",{className:\"check\"}))))),React.createElement(FormGroup,{controlId:\"formControlsTextarea\",className:this.getClasses('description')},React.createElement(Col,{componentClass:ControlLabel,sm:3},React.createElement(ControlLabel,null,\"Description\")),React.createElement(Col,{sm:9},React.createElement(FormControl,{componentClass:\"textarea\",placeholder:\"description\",name:\"description\",value:this.state.description,onChange:this.handleChange,autoComplete:\"off\",maxLength:\"1000\"}),renderMessage(this.props.getValidationMessages('description')))),React.createElement(FormGroup,{controlId:\"formControlsTextarea\",className:this.getClasses('title')},React.createElement(Col,{componentClass:ControlLabel,sm:3},React.createElement(ControlLabel,null,\"Project URL\")),React.createElement(Col,{sm:9},React.createElement(FormControl,{placeholder:\"Add a projectURL\",name:\"projectURL\",value:this.state.projectURL,onChange:this.handleChange,autoComplete:\"off\",maxLength:\"100\"}),renderMessage(this.props.getValidationMessages('projectURL'))))),React.createElement(\"div\",{className:\"flex align-center justify-content-between fullWidth\"}))),React.createElement(Modal.Footer,null,React.createElement(Button,{bsStyle:\"primary\",className:\"no-bold no-round\",disabled:this.state.isLoading,onClick:!this.state.isLoading?this.validateData:null},this.state.isLoading?'In Progress...':'Save'),React.createElement(Button,{bsStyle:\"default\",className:\"no-bold no-round\",onClick:this.closeProjectModal.bind(this,'close')},\"Close\"))),React.createElement(Modal//  bsSize=\"medium\"\n,{show:this.state.imagesModal,onHide:this.closeImageModal},React.createElement(Modal.Header,{closeButton:true},React.createElement(Modal.Title,{className:\"subtitle text-center\"},\"Photos Gallery\")),React.createElement(Modal.Body,null),React.createElement(Modal.Footer,null,React.createElement(Button,{bstyle:\"default no-round\",onClick:this.closeImageModal},\"Close\"))));}}]);return addProject;}(Component);addProject=validation(strategy)(addProject);var mapStateToProps=function mapStateToProps(state){return{//  user: state.User.userData    \n};};export default connect(mapStateToProps,null)(addProject);","map":{"version":3,"sources":["/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/src/user/profile/addProject.js"],"names":["React","Component","ToastContainer","Portal","Button","Modal","Form","FormGroup","Checkbox","Col","ControlLabel","FormControl","InputGroup","Radio","Select","YearPicker","MonthPicker","DayPicker","connect","validation","strategy","classnames","ImageCropper","achievementDefaultImage","_","moment","CONSTANTS","renderMessage","isValidURL","ZoomInAndOut","generateTimestamp","showErrorToast","theRapidHireApiService","validationMessages","regExpressions","badgeImgArray","badgeImgPreview","certificateImgArray","certificateImgPreview","mediaImgArray","mediaImgPreview","emptyToDate","addProject","props","getValidatorData","state","getClasses","field","error","isValid","setProjectData","data","startDay","startMonth","startYear","endDay","endMonth","endYear","todaysDate","startDate","format","Number","endDate","setState","userId","projectName","projectURL","associatedWith","projectFinished","description","projectId","toDate","handleChange","event","target","value","type","checked","name","handleChangeStart","handleDateChange","handleChangeEnd","isAfter","validateData","self","today","Date","validate","fromDate","isLoading","handleSubmit","selectStartDate","selectDateChange","selectEndDate","currentCheckBox","closeProjectModal","status","projectModal","closeProjectComponent","promptRecommendation","lwdYear","lwdMonth","lwdDay","designation","organisation","associateList","bind","validatorTypes","createSchema","required","user","projectDetail","getAssociatedListData","then","response","statusCode","resourceData","catch","err","console","log","sasToken","result","valueOf","CalendarContainer","children","el","document","getElementById","ProjectId","getValidationMessages","year","month","imagesModal","closeImageModal","mapStateToProps"],"mappings":"0xCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,cAAT,KAA+B,gBAA/B,CACA,OAASC,MAAT,KAAuB,gBAAvB,CACA,OACEC,MADF,CAEEC,KAFF,CAGEC,IAHF,CAIEC,SAJF,CAKEC,QALF,CAMEC,GANF,CAOEC,YAPF,CAQEC,WARF,CASEC,UATF,CAUEC,KAVF,KAWO,iBAXP,CAaA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA,MAAO,oCAAP,CACA,OAASC,UAAT,CAAqBC,WAArB,CAAkCC,SAAlC,KAAmD,qBAAnD,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAOC,CAAAA,UAAP,KAAuB,wBAAvB,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,CACA,MAAOC,CAAAA,YAAP,KAAyB,mCAAzB,CACA,MAAOC,CAAAA,uBAAP,KAAoC,0CAApC,CACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,oCAAtB,CACA,OACEC,aADF,CAEEC,UAFF,CAGEC,YAHF,CAIEC,iBAJF,CAKEC,cALF,KAMO,8BANP,CAOA,MAAOC,CAAAA,sBAAP,KAAmC,kCAAnC,CACA;AAEA,GAAIC,CAAAA,kBAAkB,CAAGP,SAAS,CAACO,kBAAnC,CACA,GAAIC,CAAAA,cAAc,CAAGR,SAAS,CAACQ,cAA/B,CACA,GAAIC,CAAAA,aAAa,CAAG,EAApB,CACA,GAAIC,CAAAA,eAAe,CAAG,EAAtB,CACA,GAAIC,CAAAA,mBAAmB,CAAG,EAA1B,CACA,GAAIC,CAAAA,qBAAqB,CAAG,EAA5B,CACA,GAAIC,CAAAA,aAAa,CAAG,EAApB,CACA,GAAIC,CAAAA,eAAe,CAAG,EAAtB,CACA,GAAMC,CAAAA,WAAW,CAAG,UAApB,C,GAIMC,CAAAA,U,oEACJ,oBAAYC,KAAZ,CAAmB,4CACjB,4EAAMA,KAAN,GADiB,MAqCnBC,gBArCmB,CAqCA,UAAM,CACvB,MAAO,OAAKC,KAAZ,CACD,CAvCkB,OAyCnBC,UAzCmB,CAyCN,SAAAC,KAAK,CAAI,CACpB,MAAO1B,CAAAA,UAAU,CAAC,CAChB2B,KAAK,CAAE,CAAC,MAAKL,KAAL,CAAWM,OAAX,CAAmBF,KAAnB,CADQ,CAAD,CAAjB,CAGD,CA7CkB,OAyEnBG,cAzEmB,CAyEF,SAAAC,IAAI,CAAI,CAEvB,GAAIC,CAAAA,QAAQ,CAAG,EAAf,CACEC,UAAU,CAAG,EADf,CAEEC,SAAS,CAAG,EAFd,CAGEC,MAAM,CAAG,EAHX,CAIEC,QAAQ,CAAG,EAJb,CAKEC,OAAO,CAAG,EALZ,CAMEC,UAAU,CAAG,EANf,CAOA,GAAIP,IAAJ,CAAU,CAER,GAAIA,IAAI,CAACQ,SAAT,CAAoB,CAClBP,QAAQ,CAAG3B,MAAM,CAAC0B,IAAI,CAACQ,SAAN,CAAN,CAAuBC,MAAvB,CAA8B,GAA9B,CAAX,CACAP,UAAU,CAAGQ,MAAM,CAACpC,MAAM,CAAC0B,IAAI,CAACQ,SAAN,CAAN,CAAuBC,MAAvB,CAA8B,GAA9B,CAAD,CAAN,CAA6C,CAA1D,CAEAN,SAAS,CAAG7B,MAAM,CAAC0B,IAAI,CAACQ,SAAN,CAAN,CAAuBC,MAAvB,CAA8B,MAA9B,CAAZ,CACD,CAED,GAAIT,IAAI,CAACW,OAAT,CAAkB,CAChBP,MAAM,CAAG9B,MAAM,CAAC0B,IAAI,CAACW,OAAN,CAAN,CAAqBF,MAArB,CAA4B,GAA5B,CAAT,CACAJ,QAAQ,CAAGK,MAAM,CAACpC,MAAM,CAAC0B,IAAI,CAACW,OAAN,CAAN,CAAqBF,MAArB,CAA4B,GAA5B,CAAD,CAAN,CAA2C,CAAtD,CACAH,OAAO,CAAGhC,MAAM,CAAC0B,IAAI,CAACW,OAAN,CAAN,CAAqBF,MAArB,CAA4B,MAA5B,CAAV,CACD,CAJD,IAIO,CACLF,UAAU,CAAG,EAAb,CACD,CAED,MAAKK,QAAL,CAAc,CACZC,MAAM,CAACb,IAAI,CAACa,MADA,CAEZC,WAAW,CAAGd,IAAI,CAACc,WAFP,CAGZC,UAAU,CAAGf,IAAI,CAACe,UAHN,CAIZC,cAAc,CAAGhB,IAAI,CAACgB,cAJV,CAKZC,eAAe,CAAGjB,IAAI,CAACiB,eALX,CAMZC,WAAW,CAAGlB,IAAI,CAACkB,WANP,CAOZC,SAAS,CAAGnB,IAAI,CAACmB,SAPL,CAQZlB,QAAQ,CAAEA,QARE,CASZC,UAAU,CAAEA,UATA,CAUZC,SAAS,CAAEA,SAVC,CAWZC,MAAM,CAAEA,MAXI,CAYZC,QAAQ,CAAEA,QAZE,CAaZC,OAAO,CAAEA,OAbG,CAcZ;AACA;AACAC,UAAU,CAAEP,IAAI,CAACoB,MAAL,CAAc,KAAd,CAAsB,IAhBtB,CAAd,EAkBD,CACF,CAtHkB,OAyHnBC,YAzHmB,CAyHJ,SAAAC,KAAK,CAAI,CACtB,GAAMC,CAAAA,MAAM,CAAGD,KAAK,CAACC,MAArB,CACA,GAAMC,CAAAA,KAAK,CAAGD,MAAM,CAACE,IAAP,GAAgB,UAAhB,CAA6BF,MAAM,CAACG,OAApC,CAA8CH,MAAM,CAACC,KAAnE,CACA,GAAMG,CAAAA,IAAI,CAAGJ,MAAM,CAACI,IAApB,CAEA,MAAKf,QAAL,oBACGe,IADH,CACUH,KADV,GAGD,CAjIkB,OAmInBI,iBAnImB,CAmIC,SAAApB,SAAS,CAAI,CAC/B,MAAKqB,gBAAL,CAAsB,CAAErB,SAAS,CAATA,SAAF,CAAtB,EACD,CArIkB,OAuInBsB,eAvImB,CAuID,SAAAnB,OAAO,CAAI,CAC3B,MAAKkB,gBAAL,CAAsB,CAAElB,OAAO,CAAPA,OAAF,CAAtB,EACD,CAzIkB,OA2InBkB,gBA3ImB,CA2IA,cAA4B,IAAzBrB,CAAAA,SAAyB,MAAzBA,SAAyB,CAAdG,OAAc,MAAdA,OAAc,CAC7CH,SAAS,CAAGA,SAAS,EAAI,MAAKd,KAAL,CAAWc,SAApC,CACAG,OAAO,CAAGA,OAAO,EAAI,MAAKjB,KAAL,CAAWiB,OAAhC,CACA,GAAIH,SAAS,EAAIG,OAAjB,CAA0B,CACxB,GAAIH,SAAS,CAACuB,OAAV,CAAkBpB,OAAlB,CAAJ,CAAgC,CAC9BA,OAAO,CAAGH,SAAV,CACD,CACF,CACD,MAAKI,QAAL,CAAc,CAAEJ,SAAS,CAATA,SAAF,CAAaG,OAAO,CAAPA,OAAb,CAAd,EACD,CApJkB,OAmKnBqB,YAnKmB,CAmKJ,UAAM,CACnB,GAAIC,CAAAA,IAAI,8BAAR,CACA,GAAIC,CAAAA,KAAK,CAAG,GAAIC,CAAAA,IAAJ,EAAZ,CACA,MAAK3C,KAAL,CAAW4C,QAAX,CAAoB,SAASvC,KAAT,CAAgB,CAClC,GAAI,CAACA,KAAL,CAAY,CACV,GACEoC,IAAI,CAACvC,KAAL,CAAW2C,QAAX,EACAJ,IAAI,CAACvC,KAAL,CAAW2C,QAAX,CAAsBH,KADtB,EAECD,IAAI,CAACvC,KAAL,CAAW0B,MAAX,EAAqBa,IAAI,CAACvC,KAAL,CAAW0B,MAAX,CAAoBc,KAH5C,CAIE,CACAtD,cAAc,CACZ,sDADY,CAAd,CAGAqD,IAAI,CAACrB,QAAL,CAAc,CACZT,SAAS,CAAE,EADC,CAEZD,UAAU,CAAE,EAFA,CAGZD,QAAQ,CAAE,EAHE,CAIZK,OAAO,CAAE,EAJG,CAKZD,QAAQ,CAAE,EALE,CAMZD,MAAM,CAAE,EANI,CAAd,EAQD,CAhBD,IAgBO,IAAI6B,IAAI,CAACvC,KAAL,CAAW2C,QAAX,EAAuBJ,IAAI,CAACvC,KAAL,CAAW2C,QAAX,CAAsBH,KAAjD,CAAwD,CAC7DtD,cAAc,CAAC,6CAAD,CAAd,CACAqD,IAAI,CAACrB,QAAL,CAAc,CACZT,SAAS,CAAE,EADC,CAEZD,UAAU,CAAE,EAFA,CAGZD,QAAQ,CAAE,EAHE,CAAd,EAKD,CAPM,IAOA,IAAIgC,IAAI,CAACvC,KAAL,CAAW0B,MAAX,EAAqBa,IAAI,CAACvC,KAAL,CAAW0B,MAAX,CAAoBc,KAA7C,CAAoD,CACzDtD,cAAc,CAAC,2CAAD,CAAd,CACAqD,IAAI,CAACrB,QAAL,CAAc,CACZN,OAAO,CAAE,EADG,CAEZD,QAAQ,CAAE,EAFE,CAGZD,MAAM,CAAE,EAHI,CAAd,EAKD,CAPM,IAOA,IACL6B,IAAI,CAACvC,KAAL,CAAW2C,QAAX,GAAwB,EAAxB,EACAJ,IAAI,CAACvC,KAAL,CAAW0B,MAAX,GAAsB,EADtB,EAEAa,IAAI,CAACvC,KAAL,CAAW2C,QAAX,CAAsBJ,IAAI,CAACvC,KAAL,CAAW0B,MAH5B,CAIL,CACAxC,cAAc,CACZ,8DADY,CAAd,CAGAqD,IAAI,CAACrB,QAAL,CAAc,CACZN,OAAO,CAAE,EADG,CAEZD,QAAQ,CAAE,EAFE,CAGZD,MAAM,CAAE,EAHI,CAAd,EAKD,CAbM,IAaD,CACJ6B,IAAI,CAACrB,QAAL,CAAc,CAAE0B,SAAS,CAAE,IAAb,CAAd,EACIL,IAAI,CAACM,YAAL,GACH,CACF,CACJ,CAlDD,EAmDD,CAzNkB,OA2NnBC,eA3NmB,CA2ND,SAACf,IAAD,CAAOD,KAAP,CAAiB,CACjC,GAAIC,IAAI,GAAK,WAAb,CAA0B,CACxB,MAAKb,QAAL,CAAc,CAAET,SAAS,CAAEqB,KAAb,CAAd,CAAoC,iBAAM,OAAKiB,gBAAL,EAAN,EAApC,EACD,CACD,GAAIhB,IAAI,GAAK,YAAb,CAA2B,CACzB,MAAKb,QAAL,CAAc,CAAEV,UAAU,CAAEsB,KAAd,CAAd,CAAqC,iBAAM,OAAKiB,gBAAL,EAAN,EAArC,EACD,CACD,GAAIhB,IAAI,GAAK,UAAb,CAAyB,CACvB,MAAKb,QAAL,CAAc,CAAEX,QAAQ,CAAE,CAAZ,CAAd,CAA+B,iBAAM,OAAKwC,gBAAL,EAAN,EAA/B,EACD,CACF,CArOkB,OAuOnBC,aAvOmB,CAuOH,SAACjB,IAAD,CAAOD,KAAP,CAAiB,CAC/B,GAAIC,IAAI,GAAK,SAAb,CAAwB,CACtB,MAAKb,QAAL,CAAc,CAAEN,OAAO,CAAEkB,KAAX,CAAd,CAAkC,iBAAM,OAAKiB,gBAAL,EAAN,EAAlC,EACD,CACD,GAAIhB,IAAI,GAAK,UAAb,CAAyB,CACvB,MAAKb,QAAL,CAAc,CAAEP,QAAQ,CAAEmB,KAAZ,CAAd,CAAmC,iBAAM,OAAKiB,gBAAL,EAAN,EAAnC,EACD,CACD;AACA;AACA;AACD,CAjPkB,OAmPnBA,gBAnPmB,CAmPA,UAAM,CACvB,GAAIJ,CAAAA,QAAQ,CAAG,EAAf,CACA,GAAIjB,CAAAA,MAAM,CAAG,EAAb,CACA,GAAInB,CAAAA,QAAQ,CAAG,CAAf,CACEE,SAAS,CAAG,EADd,CAEED,UAAU,CAAG,EAFf,CAGEE,MAAM,CAAG,CAHX,CAIEC,QAAQ,CAAG,EAJb,CAKEC,OAAO,CAAG,EALZ,CAOA,GAAI,MAAKZ,KAAL,CAAWS,SAAX,EAAwB,MAAKT,KAAL,CAAWQ,UAAvC,CAAmD,CACjDD,QAAQ,CAAG,CAAX,CACAC,UAAU,CACR,MAAKR,KAAL,CAAWQ,UAAX,GAA0B,EAA1B,CAA+BQ,MAAM,CAAC,MAAKhB,KAAL,CAAWQ,UAAZ,CAAN,CAAgC,CAA/D,CAAmE,EADrE,CAEAC,SAAS,CAAG,MAAKT,KAAL,CAAWS,SAAX,GAAyB,EAAzB,CAA8B,MAAKT,KAAL,CAAWS,SAAzC,CAAqD,EAAjE,CACAkC,QAAQ,CAAG/D,MAAM,CAAC6B,SAAS,CAAG,GAAZ,CAAkBD,UAAlB,CAA+B,GAA/B,CAAqCD,QAAtC,CAAjB,CACD,CAED,GAAI,MAAKP,KAAL,CAAWY,OAAX,EAAsB,MAAKZ,KAAL,CAAWW,QAArC,CAA+C,CAC7CD,MAAM,CAAG,CAAT,CACAC,QAAQ,CACN,MAAKX,KAAL,CAAWW,QAAX,GAAwB,EAAxB,CAA6BK,MAAM,CAAC,MAAKhB,KAAL,CAAWW,QAAZ,CAAN,CAA8B,CAA3D,CAA+D,EADjE,CAEAC,OAAO,CAAG,MAAKZ,KAAL,CAAWY,OAAX,GAAuB,EAAvB,CAA4B,MAAKZ,KAAL,CAAWY,OAAvC,CAAiD,EAA3D,CACAc,MAAM,CAAG9C,MAAM,CAACgC,OAAO,CAAG,GAAV,CAAgBD,QAAhB,CAA2B,GAA3B,CAAiCD,MAAlC,CAAf,CACD,CAED,GAAIgB,MAAM,EAAIiB,QAAd,CAAwB,CACtB,GAAIA,QAAQ,CAACN,OAAT,CAAiBX,MAAjB,CAAJ,CAA8B,CAC5B,MAAKR,QAAL,CAAc,CACZR,MAAM,CAAEH,QADI,CAEZI,QAAQ,CAAEH,UAAU,CAAG,CAFX,CAGZI,OAAO,CAAEH,SAHG,CAIZkC,QAAQ,CAARA,QAJY,CAKZjB,MAAM,CAANA,MALY,CAAd,EAOD,CARD,IAQO,CACL,MAAKR,QAAL,CAAc,CACZyB,QAAQ,CAARA,QADY,CAEZjB,MAAM,CAANA,MAFY,CAAd,EAID,CACF,CACF,CA7RkB,OA0WnBuB,eA1WmB,CA0WD,SAAArB,KAAK,CAAI,CACzB,GAAIA,KAAK,CAACC,MAAN,CAAaG,OAAjB,CAA0B,CACxB,MAAKd,QAAL,CAAc,CACZL,UAAU,CAAE,IADA,CAEZI,OAAO,CAAErB,WAFG,CAGZc,MAAM,CAAE,EAHI,CAIZC,QAAQ,CAAE,EAJE,CAKZC,OAAO,CAAE,EALG,CAMZW,eAAe,CAAE,IANL,CAAd,EAQD,CATD,IASO,CACL,MAAKL,QAAL,CAAc,CACZL,UAAU,CAAE,KADA,CAEZD,OAAO,CAAEhC,MAAM,GAAGmC,MAAT,CAAgB,MAAhB,CAFG,CAGZJ,QAAQ,CAAE/B,MAAM,GAAGmC,MAAT,CAAgB,GAAhB,EAAuB,CAHrB,CAIZL,MAAM,CAAE9B,MAAM,GAAGmC,MAAT,CAAgB,GAAhB,CAJI,CAKZQ,eAAe,CAAC,KALJ,CAAd,EAOD,CACD;AACA;AACA;AACA;AACD,CAjYkB,OAmYnB2B,iBAnYmB,CAmYC,SAAAC,MAAM,CAAI,CAC5B,MAAKjC,QAAL,CAAc,CACZkC,YAAY,CAAE,KADF,CAAd,EAIA,MAAKtD,KAAL,CAAWuD,qBAAX,GACD,CAzYkB,CAEjB,MAAKrD,KAAL,CAAa,CACX4C,SAAS,CAAE,KADA,CAEX9B,SAAS,CAAE,EAFA,CAGXG,OAAO,CAAE,EAHE,CAIXqC,oBAAoB,CAAE,KAJX,CAKXnC,MAAM,CAAE,EALG,CAMXN,UAAU,CAAE,KAND,CAOXJ,SAAS,CAAE7B,MAAM,GAAGmC,MAAT,CAAgB,MAAhB,CAPA,CAQXP,UAAU,CAAE5B,MAAM,GAAGmC,MAAT,CAAgB,GAAhB,EAAuB,CARxB,CASXR,QAAQ,CAAE3B,MAAM,GAAGmC,MAAT,CAAgB,GAAhB,CATC,CAUXH,OAAO,CAAEhC,MAAM,GAAGmC,MAAT,CAAgB,MAAhB,CAVE,CAWXJ,QAAQ,CAAE/B,MAAM,GAAGmC,MAAT,CAAgB,GAAhB,EAAuB,CAXtB,CAYXL,MAAM,CAAE9B,MAAM,GAAGmC,MAAT,CAAgB,GAAhB,CAZG,CAaXwC,OAAO,CAAE3E,MAAM,GAAGmC,MAAT,CAAgB,MAAhB,CAbE,CAcXyC,QAAQ,CAAE5E,MAAM,GAAGmC,MAAT,CAAgB,GAAhB,EAAuB,CAdtB,CAeX0C,MAAM,CAAE7E,MAAM,GAAGmC,MAAT,CAAgB,GAAhB,CAfG,CAgBX2C,WAAW,CAAC,EAhBD,CAiBXC,YAAY,CAAC,EAjBF,CAkBXP,YAAY,CAAC,IAlBF,CAmBX3B,SAAS,CAAC,EAnBC,CAoBXmC,aAAa,CAAE,EApBJ,CAAb,CAuBA,MAAK7D,gBAAL,CAAwB,MAAKA,gBAAL,CAAsB8D,IAAtB,+BAAxB,CACA,MAAK5D,UAAL,CAAkB,MAAKA,UAAL,CAAgB4D,IAAhB,+BAAlB,CACA,MAAKC,cAAL,CAAsBvF,QAAQ,CAACwF,YAAT,CACpB,CACE3C,WAAW,CAAE,UADf,CADoB,CAIpB,CACE,uBAAwBhC,kBAAkB,CAACgC,WAAnB,CAA+B4C,QADzD,CAJoB,CAAtB,CA3BiB,aAmClB,C,oFAYmB,CAClB,GAAI7C,CAAAA,MAAM,CAAE,IAAZ,CACA,GAAG,KAAKrB,KAAL,CAAWmE,IAAd,CAAmB,CACjB9C,MAAM,CAAG,KAAKrB,KAAL,CAAWmE,IAAX,CAAgB9C,MAAzB,CACA,KAAKD,QAAL,CAAc,CAACC,MAAM,CAAEA,MAAT,CAAd,EACD,CAED,KAAKd,cAAL,CAAoB,KAAKP,KAAL,CAAWoE,aAA/B,EACA,KAAKC,qBAAL,CAA2BhD,MAA3B,EACD,C,oEAEqBA,M,CAAO,iBAC3BhC,sBAAsB,CAAC,+BAAD,CAAiC,CAACgC,MAAM,CAANA,MAAD,CAAjC,CAAtB,CACCiD,IADD,CACM,SAAAC,QAAQ,CAAI,CAChB,GAAIA,QAAQ,CAAC/D,IAAT,CAAcgE,UAAd,GAA6B,GAAjC,CAAsC,CACnC,GAAIV,CAAAA,aAAa,CAAE,MAAI,CAAC5D,KAAL,CAAW4D,aAA9B,CACAA,aAAa,CAAES,QAAQ,CAAC/D,IAAT,CAAciE,YAAd,CAA2B,CAA3B,CAAf,CACA,MAAI,CAACrD,QAAL,CAAc,CAAC0C,aAAa,CAAEA,aAAhB,CAAd,EACF,CACF,CAPD,EAQCY,KARD,CAQO,SAAAC,GAAG,CAAI,CACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACD,CAVD,EAWD,C,2DAgFkB,iBACjBtF,sBAAsB,CAAC,aAAD,CAAtB,CACGiF,IADH,CACQ,SAAAC,QAAQ,CAAI,CAChB,GAAIA,QAAQ,CAAC/D,IAAT,CAAc6C,MAAd,GAAyB,SAA7B,CAAwC,CACtC,GAAIyB,CAAAA,QAAQ,CAAGP,QAAQ,CAAC/D,IAAT,CAAcuE,MAAd,CAAqBD,QAApC,CACA,MAAI,CAAC1D,QAAL,CAAc,CAAE0D,QAAQ,CAARA,QAAF,CAAd,EACD,CACF,CANH,EAOGJ,KAPH,CAOS,SAAAC,GAAG,CAAI,CACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACD,CATH,EAUD,C,mDA8Hc,CAEb,GAAIrD,CAAAA,WAAW,CAAG,KAAKpB,KAAL,CAAWoB,WAA7B,CACA,GAAIC,CAAAA,UAAU,CAAG,KAAKrB,KAAL,CAAWqB,UAA5B,CACA,GAAIC,CAAAA,cAAc,CAAG,KAAKtB,KAAL,CAAWsB,cAAhC,CACA,GAAIC,CAAAA,eAAe,CAAG,KAAKvB,KAAL,CAAWuB,eAAjC,CACA,GAAIC,CAAAA,WAAW,CAAG,KAAKxB,KAAL,CAAWwB,WAA7B,CAEA,GAAIL,CAAAA,MAAM,CAAG,KAAKrB,KAAL,CAAWmE,IAAX,CAAgB9C,MAA7B,CACA,GAAIM,CAAAA,SAAS,CAAG,KAAKzB,KAAL,CAAWyB,SAA3B,CAEAiD,OAAO,CAACC,GAAR,CAAY,yBAAZ,CAAsC,KAAK3E,KAAL,CAAWO,QAAjD,EAEA,GAAIA,CAAAA,QAAQ,CAAG,CAAf,CACA,GAAIC,CAAAA,UAAU,CACZ,KAAKR,KAAL,CAAWQ,UAAX,GAA0B,EAA1B,CAA+BQ,MAAM,CAAC,KAAKhB,KAAL,CAAWQ,UAAZ,CAAN,CAAgC,CAA/D,CAAmE,EADrE,CAEA,GAAIC,CAAAA,SAAS,CAAG,KAAKT,KAAL,CAAWS,SAAX,GAAyB,EAAzB,CAA8B,KAAKT,KAAL,CAAWS,SAAzC,CAAqD,EAArE,CACA,GAAIkC,CAAAA,QAAQ,CAAG,EAAf,CACA,GAAIpC,QAAQ,EAAIC,UAAZ,EAA0BC,SAA9B,CAAyC,CACvCkC,QAAQ,CAAG/D,MAAM,CAAC6B,SAAS,CAAG,GAAZ,CAAkBD,UAAlB,CAA+B,GAA/B,CAAqCD,QAAtC,CAAjB,CACAoC,QAAQ,CAAG/D,MAAM,CAAC+D,QAAD,CAAN,CAAiBmC,OAAjB,EAAX,CACD,CAED,GAAIpE,CAAAA,MAAM,CAAG,CAAb,CACA,GAAIC,CAAAA,QAAQ,CACV,KAAKX,KAAL,CAAWW,QAAX,GAAwB,EAAxB,CAA6BK,MAAM,CAAC,KAAKhB,KAAL,CAAWW,QAAZ,CAAN,CAA8B,CAA3D,CAA+D,EADjE,CAEA,GAAIC,CAAAA,OAAO,CAAG,KAAKZ,KAAL,CAAWY,OAAX,GAAuB,EAAvB,CAA4B,KAAKZ,KAAL,CAAWY,OAAvC,CAAiD,EAA/D,CACA,GAAIc,CAAAA,MAAM,CAAG,EAAb,CACA,GAAIhB,MAAM,EAAIC,QAAV,EAAsBC,OAA1B,CAAmC,CACjCc,MAAM,CAAG9C,MAAM,CAACgC,OAAO,CAAG,GAAV,CAAgBD,QAAhB,CAA2B,GAA3B,CAAiCD,MAAlC,CAAf,CACAgB,MAAM,CAAG9C,MAAM,CAAC8C,MAAD,CAAN,CAAeoD,OAAf,EAAT,CACApD,MAAM,CAAG,KAAK1B,KAAL,CAAWa,UAAX,CAAwB,EAAxB,CAA6Ba,MAAtC,CACD,CAED,GAAIpB,CAAAA,IAAI,CAAG,CACTmB,SAAS,CAATA,SADS,CAETN,MAAM,CAANA,MAFS,CAGTC,WAAW,CAAXA,WAHS,CAITC,UAAU,CAAVA,UAJS,CAKTC,cAAc,CAAdA,cALS,CAMTC,eAAe,CAAfA,eANS,CAOTC,WAAW,CAAXA,WAPS,CAQTV,SAAS,CAAC6B,QARD,CAST1B,OAAO,CAACS,MATC,CAAX,CAYA,GAAIa,CAAAA,IAAI,CAAG,IAAX,CAEA,GAAI,CAAC,KAAKvC,KAAL,CAAWyB,SAAZ,EAAyB,KAAKzB,KAAL,CAAWyB,SAAX,GAAyB,EAAtD,CAA0D,CACxDtC,sBAAsB,CAAC,YAAD,CAAemB,IAAf,CAAtB,CACG8D,IADH,CACQ,SAAAC,QAAQ,CAAI,CAChB,GAAIA,QAAQ,CAAC/D,IAAT,CAAc6C,MAAd,GAAyB,SAA7B,CAAwC,CACtCZ,IAAI,CAACrB,QAAL,CAAc,CAAE0B,SAAS,CAAE,KAAb,CAAd,EACDL,IAAI,CAACW,iBAAL,CAAuB,MAAvB,EACA,CACF,CANH,EAOGsB,KAPH,CAOS,SAAArE,KAAK,CAAI,CACdoC,IAAI,CAACrB,QAAL,CAAc,CAAE0B,SAAS,CAAE,KAAb,CAAd,EACA8B,OAAO,CAACC,GAAR,CAAYxE,KAAZ,EACD,CAVH,EAWD,CAZD,IAYO,CACLhB,sBAAsB,CAAC,aAAD,CAAgBmB,IAAhB,CAAtB,CACG8D,IADH,CACQ,SAAAC,QAAQ,CAAI,CAChB,GAAIA,QAAQ,CAAC/D,IAAT,CAAc6C,MAAd,GAAyB,SAA7B,CAAwC,CACvCZ,IAAI,CAACW,iBAAL,CAAuB,MAAvB,EACCX,IAAI,CAACrB,QAAL,CAAc,CAAE0B,SAAS,CAAE,KAAb,CAAd,EACD,CACF,CANH,EAOG4B,KAPH,CAOS,SAAArE,KAAK,CAAI,CACdoC,IAAI,CAACrB,QAAL,CAAc,CAAE0B,SAAS,CAAE,KAAb,CAAd,EACA8B,OAAO,CAACC,GAAR,CAAYxE,KAAZ,EACD,CAVH,EAWD,CACF,C,uCAmCQ,iBAEPuE,OAAO,CAACC,GAAR,CAAY,8BAAZ,CAA2C,KAAK7E,KAAL,CAAWoE,aAAtD,EACA,GAAMa,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,OAAkB,IAAfC,CAAAA,QAAe,OAAfA,QAAe,CAC1C,GAAMC,CAAAA,EAAE,CAAGC,QAAQ,CAACC,cAAT,CAAwB,iBAAxB,CAAX,CACA,MAAO,qBAAC,MAAD,EAAQ,SAAS,CAAEF,EAAnB,EAAwBD,QAAxB,CAAP,CACD,CAHD,CAKA,MACE,gCAeE,oBAAC,KAAD,EACE,MAAM,CAAC,OADT,CAEE,IAAI,CAAE,KAAKhF,KAAL,CAAWoD,YAFnB,CAGE,MAAM,CAAE,KAAKF,iBAAL,CAAuBW,IAAvB,CAA4B,IAA5B,CAAkC,OAAlC,CAHV,CAIE,QAAQ,CAAC,QAJX,CAKE,QAAQ,CAAE,KALZ,EAOE,oBAAC,cAAD,EACE,SAAS,CAAE,IADb,CAEE,SAAS,CAAC,yBAFZ,CAGE,cAAc,CAAC,mBAHjB,CAIE,UAAU,CAAE7E,YAJd,EAPF,CAaE,oBAAC,KAAD,CAAO,MAAP,EAAc,WAAW,KAAzB,EACE,oBAAC,KAAD,CAAO,KAAP,EAAa,SAAS,CAAC,sBAAvB,EACG,CAAC,KAAKgB,KAAL,CAAWoF,SAAZ,EAAyB,KAAKpF,KAAL,CAAWoF,SAAX,GAAyB,EAAlD,CACG,aADH,CAEG,cAHN,CADF,CAbF,CAoBE,oBAAC,KAAD,CAAO,IAAP,MACE,oBAAC,IAAD,EAAM,UAAU,KAAhB,CAAiB,SAAS,CAAC,aAA3B,EACE,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,EACE,oBAAC,SAAD,EACE,SAAS,CAAC,sBADZ,CAEE,SAAS,CAAE,KAAKnF,UAAL,CAAgB,OAAhB,CAFb,EAIE,oBAAC,GAAD,EAAK,cAAc,CAAEpC,YAArB,CAAmC,EAAE,CAAE,CAAvC,EACE,oBAAC,YAAD,qBADF,CAJF,CAOE,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,EACE,oBAAC,WAAD,EACE,WAAW,CAAC,eADd,CAEE,IAAI,CAAC,aAFP,CAGE,KAAK,CAAE,KAAKmC,KAAL,CAAWoB,WAHpB,CAIE,QAAQ,CAAE,KAAKO,YAJjB,CAKE,YAAY,CAAC,KALf,CAME,SAAS,CAAC,KANZ,EADF,CASG7C,aAAa,CAAC,KAAKgB,KAAL,CAAWuF,qBAAX,CAAiC,aAAjC,CAAD,CAThB,CAPF,CADF,CAsBE,oBAAC,SAAD,EAAW,SAAS,CAAC,cAArB,EACE,oBAAC,GAAD,EAAK,cAAc,CAAExH,YAArB,CAAmC,EAAE,CAAE,CAAvC,cADF,CAIE,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,EACE,2BAAK,SAAS,CAAC,KAAf,EACE,2BAAK,SAAS,CAAC,YAAf,EACE,oBAAC,UAAD,EACE,EAAE,CAAC,MADL,CAEE,IAAI,CAAC,WAFP,CAGE,OAAO,CAAC,cAHV,CAIE,YAAY,CAAC,MAJf,CAKE,GAAG,CAAEe,MAAM,GAAG0G,IAAT,EALP,CAME,OAAO,KANT,CAOE,KAAK,CAAE,KAAKtF,KAAL,CAAWS,SAPpB,CAQE,QAAQ,CAAE,kBAAA6E,IAAI,QACZ,CAAA,MAAI,CAACxC,eAAL,CAAqB,WAArB,CAAkCwC,IAAlC,CADY,EARhB,EADF,CADF,CAeE,2BAAK,SAAS,CAAC,YAAf,EACE,oBAAC,WAAD,EACE,EAAE,CAAC,OADL,CAEE,IAAI,CAAC,YAFP,CAGE,OAAO,CAAC,cAHV,CAIE,YAAY,CAAE,OAJhB,CAKE,KAAK,KALP,CAME,YAAY,KANd,CAOE,IAAI,CAAE,KAAKtF,KAAL,CAAWS,SAPnB,CAQE,KAAK,CAAE,KAAKT,KAAL,CAAWQ,UARpB,CASE,QAAQ,CAAE,kBAAA+E,KAAK,QACb,CAAA,MAAI,CAACzC,eAAL,CAAqB,YAArB,CAAmCyC,KAAnC,CADa,EATjB,EADF,CAfF,CADF,CAJF,CAtBF,CA8DE,oBAAC,SAAD,EAAW,SAAS,CAAC,cAArB,EACE,oBAAC,GAAD,EAAK,cAAc,CAAE1H,YAArB,CAAmC,EAAE,CAAE,CAAvC,YADF,CAIE,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,EACE,2BAAK,SAAS,CAAC,KAAf,EACE,2BAAK,SAAS,CAAC,YAAf,EACE,oBAAC,UAAD,EACE,EAAE,CAAC,MADL,CAEE,IAAI,CAAC,SAFP,CAGE,QAAQ,CAAE,KAAKmC,KAAL,CAAWa,UAAX,CAAwB,IAAxB,CAA+B,KAH3C,CAIE,OAAO,CAAC,cAJV,CAKE,YAAY,CAAC,MALf,CAME,GAAG,CAAEjC,MAAM,GAAG0G,IAAT,EANP,CAOE,OAAO,KAPT,CAQE,KAAK,CAAE,KAAKtF,KAAL,CAAWY,OARpB,CASE,QAAQ,CAAE,kBAAA0E,IAAI,QAAI,CAAA,MAAI,CAACtC,aAAL,CAAmB,SAAnB,CAA8BsC,IAA9B,CAAJ,EAThB,EADF,CADF,CAcE,2BAAK,SAAS,CAAC,YAAf,EACE,oBAAC,WAAD,EACE,EAAE,CAAC,OADL,CAEE,IAAI,CAAC,UAFP,CAGE,QAAQ,CAAE,KAAKtF,KAAL,CAAWa,UAAX,CAAwB,IAAxB,CAA+B,KAH3C,CAIE,OAAO,CAAC,cAJV,CAKE,YAAY,CAAE,OALhB,CAME,KAAK,KANP,CAOE,YAAY,KAPd,CAQE,IAAI,CAAE,KAAKb,KAAL,CAAWY,OARnB,CASE,KAAK,CAAE,KAAKZ,KAAL,CAAWW,QATpB,CAUE,QAAQ,CAAE,kBAAA4E,KAAK,QACb,CAAA,MAAI,CAACvC,aAAL,CAAmB,UAAnB,CAA+BuC,KAA/B,CADa,EAVjB,EADF,CAdF,CADF,CA8CE,2BAAK,SAAS,CAAC,YAAf,EACE,oBAAC,QAAD,EACE,SAAS,CAAC,mBADZ,CAEE,OAAO,CAAE,KAAKtC,eAAL,CAAqBY,IAArB,CAA0B,IAA1B,CAFX,CAGE,cAAc,CAAE,KAAK7D,KAAL,CAAWuB,eAAX,CAA6B,IAA7B,CAAoC,KAHtD,yBAME,4BAAM,SAAS,CAAC,OAAhB,EANF,CADF,CA9CF,CAJF,CA9DF,CA4JE,oBAAC,SAAD,EACE,SAAS,CAAC,sBADZ,CAEE,SAAS,CAAE,KAAKtB,UAAL,CAAgB,aAAhB,CAFb,EAIE,oBAAC,GAAD,EAAK,cAAc,CAAEpC,YAArB,CAAmC,EAAE,CAAE,CAAvC,EACE,oBAAC,YAAD,oBADF,CAJF,CAOE,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,EACE,oBAAC,WAAD,EACE,cAAc,CAAC,UADjB,CAEE,WAAW,CAAC,aAFd,CAGE,IAAI,CAAC,aAHP,CAIE,KAAK,CAAE,KAAKmC,KAAL,CAAWwB,WAJpB,CAKE,QAAQ,CAAE,KAAKG,YALjB,CAME,YAAY,CAAC,KANf,CAOE,SAAS,CAAC,MAPZ,EADF,CAUG7C,aAAa,CACZ,KAAKgB,KAAL,CAAWuF,qBAAX,CAAiC,aAAjC,CADY,CAVhB,CAPF,CA5JF,CAmLG,oBAAC,SAAD,EACC,SAAS,CAAC,sBADX,CAEC,SAAS,CAAE,KAAKpF,UAAL,CAAgB,OAAhB,CAFZ,EAIC,oBAAC,GAAD,EAAK,cAAc,CAAEpC,YAArB,CAAmC,EAAE,CAAE,CAAvC,EACE,oBAAC,YAAD,oBADF,CAJD,CAOC,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,EACE,oBAAC,WAAD,EACE,WAAW,CAAC,kBADd,CAEE,IAAI,CAAC,YAFP,CAGE,KAAK,CAAE,KAAKmC,KAAL,CAAWqB,UAHpB,CAIE,QAAQ,CAAE,KAAKM,YAJjB,CAKE,YAAY,CAAC,KALf,CAME,SAAS,CAAC,KANZ,EADF,CASG7C,aAAa,CAAC,KAAKgB,KAAL,CAAWuF,qBAAX,CAAiC,YAAjC,CAAD,CAThB,CAPD,CAnLH,CADF,CAyME,2BAAK,SAAS,CAAC,qDAAf,EAzMF,CADF,CApBF,CAiOE,oBAAC,KAAD,CAAO,MAAP,MACE,oBAAC,MAAD,EACE,OAAO,CAAC,SADV,CAEE,SAAS,CAAC,kBAFZ,CAGE,QAAQ,CAAE,KAAKrF,KAAL,CAAW4C,SAHvB,CAIE,OAAO,CAAE,CAAC,KAAK5C,KAAL,CAAW4C,SAAZ,CAAwB,KAAKN,YAA7B,CAA4C,IAJvD,EAMG,KAAKtC,KAAL,CAAW4C,SAAX,CAAuB,gBAAvB,CAA0C,MAN7C,CADF,CASE,oBAAC,MAAD,EACE,OAAO,CAAC,SADV,CAEE,SAAS,CAAC,kBAFZ,CAGE,OAAO,CAAE,KAAKM,iBAAL,CAAuBW,IAAvB,CAA4B,IAA5B,CAAkC,OAAlC,CAHX,UATF,CAjOF,CAfF,CAmQE,oBAAC,KACC;AADF,EAEE,IAAI,CAAE,KAAK7D,KAAL,CAAWwF,WAFnB,CAGE,MAAM,CAAE,KAAKC,eAHf,EAKE,oBAAC,KAAD,CAAO,MAAP,EAAc,WAAW,KAAzB,EACE,oBAAC,KAAD,CAAO,KAAP,EAAa,SAAS,CAAC,sBAAvB,mBADF,CALF,CAUE,oBAAC,KAAD,CAAO,IAAP,MAVF,CAYE,oBAAC,KAAD,CAAO,MAAP,MAEE,oBAAC,MAAD,EAAQ,MAAM,CAAC,kBAAf,CAAkC,OAAO,CAAE,KAAKA,eAAhD,UAFF,CAZF,CAnQF,CADF,CAyRD,C,wBA7qBsBrI,S,EA+qBzByC,UAAU,CAAGvB,UAAU,CAACC,QAAD,CAAV,CAAqBsB,UAArB,CAAb,CAEA,GAAM6F,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAA1F,KAAK,CAAI,CAC/B,MAAO,CACP;AADO,CAAP,CAGD,CAJD,CAMA,cAAe3B,CAAAA,OAAO,CACpBqH,eADoB,CAEpB,IAFoB,CAAP,CAGb7F,UAHa,CAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport { Portal } from 'react-overlays';\r\nimport {\r\n  Button,\r\n  Modal,\r\n  Form,\r\n  FormGroup,\r\n  Checkbox,\r\n  Col,\r\n  ControlLabel,\r\n  FormControl,\r\n  InputGroup,\r\n  Radio  \r\n} from 'react-bootstrap';\r\n\r\nimport Select from 'react-select';\r\nimport 'react-select/dist/react-select.css';\r\nimport { YearPicker, MonthPicker, DayPicker } from 'react-dropdown-date';\r\nimport { connect } from 'react-redux';\r\nimport validation from 'react-validation-mixin';\r\nimport strategy from 'react-validatorjs-strategy';\r\nimport classnames from 'classnames';\r\nimport ImageCropper from '../../common/cropper/imageCropper';\r\nimport achievementDefaultImage from '../../assets/img/default_achievement.jpg';\r\nimport _ from 'lodash';\r\nimport moment from 'moment';\r\nimport CONSTANTS from '../../common/core/config/appConfig';\r\nimport {\r\n  renderMessage,\r\n  isValidURL,\r\n  ZoomInAndOut,\r\n  generateTimestamp,\r\n  showErrorToast\r\n} from '../../common/commonFunctions';\r\nimport theRapidHireApiService from '../../common/core/api/apiService';\r\n//import MediaList from '../mediaList';\r\n\r\nlet validationMessages = CONSTANTS.validationMessages;\r\nlet regExpressions = CONSTANTS.regExpressions;\r\nlet badgeImgArray = [];\r\nlet badgeImgPreview = [];\r\nlet certificateImgArray = [];\r\nlet certificateImgPreview = [];\r\nlet mediaImgArray = [];\r\nlet mediaImgPreview = [];\r\nconst emptyToDate = '10000000';\r\n\r\n\r\n\r\nclass addProject extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,     \r\n      startDate: '',\r\n      endDate: '',\r\n      promptRecommendation: false,    \r\n      userId: '',     \r\n      todaysDate: false,    \r\n      startYear: moment().format('YYYY'),\r\n      startMonth: moment().format('M') - 1,\r\n      startDay: moment().format('D'),\r\n      endYear: moment().format('YYYY'),\r\n      endMonth: moment().format('M') - 1,\r\n      endDay: moment().format('D'),\r\n      lwdYear: moment().format('YYYY'),\r\n      lwdMonth: moment().format('M') - 1,\r\n      lwdDay: moment().format('D'),\r\n      designation:'',\r\n      organisation:'',\r\n      projectModal:true,\r\n      projectId:'',\r\n      associateList: []\r\n    };\r\n\r\n    this.getValidatorData = this.getValidatorData.bind(this);\r\n    this.getClasses = this.getClasses.bind(this);\r\n    this.validatorTypes = strategy.createSchema(\r\n      {\r\n        projectName: 'required'       \r\n      },\r\n      {\r\n        'required.projectName': validationMessages.projectName.required       \r\n      }\r\n    );\r\n  }\r\n\r\n  getValidatorData = () => {\r\n    return this.state;\r\n  };\r\n\r\n  getClasses = field => {\r\n    return classnames({\r\n      error: !this.props.isValid(field)\r\n    });\r\n  }; \r\n\r\n  componentDidMount() {\r\n    let userId= null;\r\n    if(this.props.user){\r\n      userId = this.props.user.userId;\r\n      this.setState({userId: userId});\r\n    } \r\n   \r\n    this.setProjectData(this.props.projectDetail);\r\n    this.getAssociatedListData(userId);\r\n  }\r\n\r\n  getAssociatedListData(userId){\r\n    theRapidHireApiService('getAssociatedListDataByUserId',{userId})\r\n    .then(response => {     \r\n      if (response.data.statusCode === 200) {\r\n         let associateList= this.state.associateList;\r\n         associateList= response.data.resourceData[0];\r\n         this.setState({associateList: associateList});\r\n      }\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n\r\n  setProjectData = data => {\r\n    \r\n    let startDay = '',\r\n      startMonth = '',\r\n      startYear = '',\r\n      endDay = '',\r\n      endMonth = '',\r\n      endYear = '',\r\n      todaysDate = '';\r\n    if (data) {        \r\n     \r\n      if (data.startDate) {\r\n        startDay = moment(data.startDate).format('D');\r\n        startMonth = Number(moment(data.startDate).format('M')) - 1;\r\n\r\n        startYear = moment(data.startDate).format('YYYY');\r\n      }\r\n\r\n      if (data.endDate) {\r\n        endDay = moment(data.endDate).format('D');\r\n        endMonth = Number(moment(data.endDate).format('M')) - 1;\r\n        endYear = moment(data.endDate).format('YYYY');\r\n      } else {\r\n        todaysDate = '';\r\n      }\r\n\r\n      this.setState({      \r\n        userId:data.userId,\r\n        projectName : data.projectName,\r\n        projectURL : data.projectURL,\r\n        associatedWith : data.associatedWith,\r\n        projectFinished : data.projectFinished,       \r\n        description : data.description,     \r\n        projectId:  data.projectId,\r\n        startDay: startDay,\r\n        startMonth: startMonth,\r\n        startYear: startYear,\r\n        endDay: endDay,\r\n        endMonth: endMonth,\r\n        endYear: endYear,\r\n        //startDate: moment(data.fromDate),\r\n        // endDate: data.toDate ? moment(data.toDate) : emptyToDate,   \r\n        todaysDate: data.toDate ? false : true       \r\n      });     \r\n    }\r\n  };\r\n\r\n\r\n  handleChange = event => {\r\n    const target = event.target;\r\n    const value = target.type === 'checkbox' ? target.checked : target.value;\r\n    const name = target.name;\r\n\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  handleChangeStart = startDate => {\r\n    this.handleDateChange({ startDate });\r\n  };\r\n\r\n  handleChangeEnd = endDate => {\r\n    this.handleDateChange({ endDate });\r\n  };\r\n\r\n  handleDateChange = ({ startDate, endDate }) => {  \r\n    startDate = startDate || this.state.startDate;\r\n    endDate = endDate || this.state.endDate;\r\n    if (startDate && endDate) {\r\n      if (startDate.isAfter(endDate)) {\r\n        endDate = startDate;\r\n      }\r\n    }\r\n    this.setState({ startDate, endDate });\r\n  };\r\n\r\n  generateSASToken() {\r\n    theRapidHireApiService('getSASToken')\r\n      .then(response => {\r\n        if (response.data.status === 'Success') {\r\n          let sasToken = response.data.result.sasToken;\r\n          this.setState({ sasToken });\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  validateData = () => {\r\n    let self = this;\r\n    let today = new Date();  \r\n    this.props.validate(function(error) {     \r\n      if (!error) {\r\n        if (\r\n          self.state.fromDate &&\r\n          self.state.fromDate > today &&\r\n          (self.state.toDate && self.state.toDate > today)\r\n        ) {\r\n          showErrorToast(\r\n            '\"From\" and \"To\" date should be less than future date'\r\n          );\r\n          self.setState({\r\n            startYear: '',\r\n            startMonth: '',\r\n            startDay: '',\r\n            endYear: '',\r\n            endMonth: '',\r\n            endDay: ''\r\n          });\r\n        } else if (self.state.fromDate && self.state.fromDate > today) {\r\n          showErrorToast('\"From\" date should be less than future date');\r\n          self.setState({\r\n            startYear: '',\r\n            startMonth: '',\r\n            startDay: ''\r\n          });\r\n        } else if (self.state.toDate && self.state.toDate > today) {\r\n          showErrorToast('\"To\" date should be less than future date');\r\n          self.setState({\r\n            endYear: '',\r\n            endMonth: '',\r\n            endDay: ''\r\n          });\r\n        } else if (\r\n          self.state.fromDate !== '' &&\r\n          self.state.toDate !== '' &&\r\n          self.state.fromDate > self.state.toDate\r\n        ) {\r\n          showErrorToast(\r\n            'The \"to\" date should be greater than or equal to \"from\" date'\r\n          );\r\n          self.setState({\r\n            endYear: '',\r\n            endMonth: '',\r\n            endDay: ''\r\n          });\r\n        }else { \r\n          self.setState({ isLoading: true });       \r\n              self.handleSubmit();        \r\n          }\r\n        }    \r\n    });\r\n  };\r\n\r\n  selectStartDate = (type, value) => {\r\n    if (type === 'startYear') {\r\n      this.setState({ startYear: value }, () => this.selectDateChange());\r\n    }\r\n    if (type === 'startMonth') {\r\n      this.setState({ startMonth: value }, () => this.selectDateChange());\r\n    }\r\n    if (type === 'startDay') {\r\n      this.setState({ startDay: 1 }, () => this.selectDateChange());\r\n    }\r\n  };\r\n\r\n  selectEndDate = (type, value) => {\r\n    if (type === 'endYear') {\r\n      this.setState({ endYear: value }, () => this.selectDateChange());\r\n    }\r\n    if (type === 'endMonth') {\r\n      this.setState({ endMonth: value }, () => this.selectDateChange());\r\n    }\r\n    // if (type === 'endDay') {\r\n    //   this.setState({ endDay: 1 }, () => this.selectDateChange());\r\n    // }\r\n  };\r\n \r\n  selectDateChange = () => {\r\n    let fromDate = '';\r\n    let toDate = '';\r\n    let startDay = 1,\r\n      startYear = '',\r\n      startMonth = '',\r\n      endDay = 1,\r\n      endMonth = '',\r\n      endYear = '';\r\n\r\n    if (this.state.startYear && this.state.startMonth) {\r\n      startDay = 1;\r\n      startMonth =\r\n        this.state.startMonth !== '' ? Number(this.state.startMonth) + 1 : '';\r\n      startYear = this.state.startYear !== '' ? this.state.startYear : '';\r\n      fromDate = moment(startYear + '-' + startMonth + '-' + startDay);\r\n    }\r\n\r\n    if (this.state.endYear && this.state.endMonth) {\r\n      endDay = 1;\r\n      endMonth =\r\n        this.state.endMonth !== '' ? Number(this.state.endMonth) + 1 : '';\r\n      endYear = this.state.endYear !== '' ? this.state.endYear : '';\r\n      toDate = moment(endYear + '-' + endMonth + '-' + endDay);\r\n    }\r\n\r\n    if (toDate && fromDate) {\r\n      if (fromDate.isAfter(toDate)) {      \r\n        this.setState({\r\n          endDay: startDay,\r\n          endMonth: startMonth - 1,\r\n          endYear: startYear,\r\n          fromDate,\r\n          toDate\r\n        });\r\n      } else {\r\n        this.setState({\r\n          fromDate,\r\n          toDate\r\n        });\r\n      }\r\n    }\r\n  }; \r\n\r\n  handleSubmit() {  \r\n\r\n    let projectName = this.state.projectName;\r\n    let projectURL = this.state.projectURL;\r\n    let associatedWith = this.state.associatedWith;\r\n    let projectFinished = this.state.projectFinished;\r\n    let description = this.state.description;\r\n \r\n    let userId = this.props.user.userId;\r\n    let projectId=  this.state.projectId;   \r\n   \r\n    console.log('this.state.startDay -- ',this.state.startDay);\r\n\r\n    let startDay = 1;\r\n    let startMonth =\r\n      this.state.startMonth !== '' ? Number(this.state.startMonth) + 1 : '';\r\n    let startYear = this.state.startYear !== '' ? this.state.startYear : '';\r\n    let fromDate = '';\r\n    if (startDay && startMonth && startYear) {\r\n      fromDate = moment(startYear + '-' + startMonth + '-' + startDay);\r\n      fromDate = moment(fromDate).valueOf();\r\n    }\r\n\r\n    let endDay = 1;\r\n    let endMonth =\r\n      this.state.endMonth !== '' ? Number(this.state.endMonth) + 1 : '';\r\n    let endYear = this.state.endYear !== '' ? this.state.endYear : '';\r\n    let toDate = '';\r\n    if (endDay && endMonth && endYear) {\r\n      toDate = moment(endYear + '-' + endMonth + '-' + endDay);\r\n      toDate = moment(toDate).valueOf();\r\n      toDate = this.state.todaysDate ? '' : toDate;\r\n    }    \r\n  \r\n    let data = {\r\n      projectId,\r\n      userId,\r\n      projectName,\r\n      projectURL,\r\n      associatedWith,\r\n      projectFinished,\r\n      description, \r\n      startDate:fromDate,\r\n      endDate:toDate      \r\n    };\r\n\r\n    let self = this;\r\n   \r\n    if (!this.state.projectId || this.state.projectId === '') {\r\n      theRapidHireApiService('addProject', data)\r\n        .then(response => {\r\n          if (response.data.status === 'Success') {      \r\n            self.setState({ isLoading: false });\r\n           self.closeProjectModal('save');\r\n          } \r\n        })\r\n        .catch(error => {\r\n          self.setState({ isLoading: false });\r\n          console.log(error);\r\n        });\r\n    } else {\r\n      theRapidHireApiService('editProject', data)\r\n        .then(response => {\r\n          if (response.data.status === 'Success') {        \r\n           self.closeProjectModal('save');\r\n            self.setState({ isLoading: false });\r\n          }\r\n        })\r\n        .catch(error => {\r\n          self.setState({ isLoading: false });\r\n          console.log(error);\r\n        });\r\n    }\r\n  }\r\n\r\n  currentCheckBox = event => {\r\n    if (event.target.checked) {\r\n      this.setState({\r\n        todaysDate: true,\r\n        endDate: emptyToDate,\r\n        endDay: '',\r\n        endMonth: '',\r\n        endYear: '',\r\n        projectFinished: true\r\n      });\r\n    } else {\r\n      this.setState({\r\n        todaysDate: false,\r\n        endYear: moment().format('YYYY'),\r\n        endMonth: moment().format('M') - 1,\r\n        endDay: moment().format('D'),\r\n        projectFinished:false\r\n      });\r\n    }\r\n    // let endDate = null;\r\n    // if (!todaysDate) endDate = emptyToDate;\r\n    // else endDate = '';\r\n    // this.setState({ todaysDate: !todaysDate, endDate: endDate });\r\n  };\r\n\r\n  closeProjectModal = status => {   \r\n    this.setState({\r\n      projectModal: false\r\n      \r\n    });   \r\n    this.props.closeProjectComponent();\r\n  };\r\n\r\n  render() {\r\n\r\n    console.log('this.props.employmentDetail ',this.props.projectDetail);\r\n    const CalendarContainer = ({ children }) => {\r\n      const el = document.getElementById('calendar-portal');\r\n      return <Portal container={el}>{children}</Portal>;\r\n    };\r\n\r\n    return (\r\n      <div>\r\n        {/* {this.state.imageSource ? (\r\n          <ImageCropper\r\n            imageSource={this.state.imageSource}\r\n            imageName={this.state.imageName}\r\n            imageType={this.state.imageType}\r\n            aspectRatio={this.state.action === 1 ? 1 / 1 : 16 / 9}\r\n            modalSize={'medium'}\r\n            cropBoxWidth={this.state.action === 1 ? '300' : '700'}\r\n            cropBoxHeight={this.state.action === 1 ? '300' : '700'}\r\n            uploadImageToAzure={this.handleMediaChange.bind(this)}\r\n            labelName={'ADD_MEDIA'}\r\n          />\r\n        ) : null} */}\r\n\r\n        <Modal\r\n          bsSize=\"large\"\r\n          show={this.state.projectModal}\r\n          onHide={this.closeProjectModal.bind(this, 'close')}\r\n          backdrop=\"static\"\r\n          keyboard={false}\r\n        >\r\n          <ToastContainer\r\n            autoClose={5000}\r\n            className=\"custom-toaster-main-cls\"\r\n            toastClassName=\"custom-toaster-bg\"\r\n            transition={ZoomInAndOut}\r\n          />\r\n          <Modal.Header closeButton>\r\n            <Modal.Title className=\"subtitle text-center\">\r\n              {!this.state.ProjectId || this.state.ProjectId === ''\r\n                ? 'Add Project'\r\n                : 'Edit Project'}\r\n            </Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <Form horizontal className=\"lightBgForm\">\r\n              <Col sm={10}>\r\n                <FormGroup\r\n                  controlId=\"formControlsTextarea\"\r\n                  className={this.getClasses('title')}\r\n                >\r\n                  <Col componentClass={ControlLabel} sm={3}>\r\n                    <ControlLabel>Project Name</ControlLabel>\r\n                  </Col>\r\n                  <Col sm={9}>\r\n                    <FormControl\r\n                      placeholder=\"Add a project\"\r\n                      name=\"projectName\"\r\n                      value={this.state.projectName}\r\n                      onChange={this.handleChange}\r\n                      autoComplete=\"off\"\r\n                      maxLength=\"100\"\r\n                    />\r\n                    {renderMessage(this.props.getValidationMessages('projectName'))}\r\n                  </Col>\r\n                </FormGroup>                     \r\n               \r\n\r\n                <FormGroup className=\"addDateInput\">\r\n                  <Col componentClass={ControlLabel} sm={3}>\r\n                    Date From\r\n                  </Col>\r\n                  <Col sm={9}>\r\n                    <div className=\"dob\">\r\n                      <div className=\"form-group\">\r\n                        <YearPicker\r\n                          id=\"year\"\r\n                          name=\"startYear\"\r\n                          classes=\"form-control\"\r\n                          defaultValue=\"Year\"\r\n                          end={moment().year()}\r\n                          reverse\r\n                          value={this.state.startYear}\r\n                          onChange={year =>\r\n                            this.selectStartDate('startYear', year)\r\n                          }\r\n                        />\r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <MonthPicker\r\n                          id=\"month\"\r\n                          name=\"startMonth\"\r\n                          classes=\"form-control\"\r\n                          defaultValue={'Month'}\r\n                          short\r\n                          endYearGiven\r\n                          year={this.state.startYear}\r\n                          value={this.state.startMonth}\r\n                          onChange={month =>\r\n                            this.selectStartDate('startMonth', month)\r\n                          }\r\n                        />\r\n                      </div>                 \r\n                    </div>\r\n                    {/* {renderMessage(this.props.getValidationMessages('endDate'))} */}\r\n                  </Col>\r\n                </FormGroup>\r\n\r\n                <FormGroup className=\"addDateInput\">\r\n                  <Col componentClass={ControlLabel} sm={3}>\r\n                    Date To\r\n                  </Col>\r\n                  <Col sm={9}>\r\n                    <div className=\"dob\">\r\n                      <div className=\"form-group\">\r\n                        <YearPicker\r\n                          id=\"year\"\r\n                          name=\"endYear\"\r\n                          disabled={this.state.todaysDate ? true : false}\r\n                          classes=\"form-control\"\r\n                          defaultValue=\"Year\"\r\n                          end={moment().year()}\r\n                          reverse\r\n                          value={this.state.endYear}\r\n                          onChange={year => this.selectEndDate('endYear', year)}\r\n                        />\r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <MonthPicker\r\n                          id=\"month\"\r\n                          name=\"endMonth\"\r\n                          disabled={this.state.todaysDate ? true : false}\r\n                          classes=\"form-control\"\r\n                          defaultValue={'Month'}\r\n                          short\r\n                          endYearGiven\r\n                          year={this.state.endYear}\r\n                          value={this.state.endMonth}\r\n                          onChange={month =>\r\n                            this.selectEndDate('endMonth', month)\r\n                          }\r\n                        />\r\n                      </div>\r\n                      {/* <div className=\"form-group\">\r\n                        <DayPicker\r\n                          defaultValue=\"Day\"\r\n                          id=\"day\"\r\n                          disabled={this.state.todaysDate ? true : false}\r\n                          name=\"endDay\"\r\n                          classes=\"form-control\"\r\n                          year={this.state.endYear}\r\n                          month={this.state.endMonth}\r\n                          endYearGiven\r\n                          value={this.state.endDay}\r\n                          onChange={day => this.selectEndDate('endDay', day)}\r\n                        /> \r\n                      </div>*/}\r\n                    </div>\r\n                    <div className=\"text-right\">\r\n                      <Checkbox\r\n                        className=\"checkbox-primary \"\r\n                        onClick={this.currentCheckBox.bind(this)}\r\n                        defaultChecked={this.state.projectFinished ? true : false}\r\n                      >\r\n                        Is project going on?\r\n                        <span className=\"check\" />\r\n                      </Checkbox>\r\n                    </div>\r\n                    {/* {renderMessage(this.props.getValidationMessages('endDate'))} */}\r\n                  </Col>\r\n                </FormGroup>\r\n\r\n                {/* <div>    <FormGroup className=\"addDateInput\"> \r\n                <Col componentClass={ControlLabel} sm={3}>\r\n                       Associated With\r\n                </Col>                \r\n                  <Col sm={9}>\r\n                    <div className=\"dob\">\r\n                      <div className=\"form-group\">\r\n                      <FormControl\r\n                          componentClass=\"select\"\r\n                          placeholder=\"associatedWith\"\r\n                          name=\"associatedWith\"\r\n                          value={this.state.associatedWith}                          \r\n                          onChange={this.handleChange}\r\n                          autoComplete=\"off\"\r\n                          maxLength=\"1000\"\r\n                        >                        \r\n                       <option value=\"\">associatedWith</option>\r\n                       {this.state.associateList.map((ass, i) => (\r\n                       <option value={ass}>{ass}</option>\r\n                       ))}                                 \r\n                      </FormControl>\r\n                        {renderMessage(\r\n                          this.props.getValidationMessages('associatedWith')\r\n                        )}\r\n                      </div>                                  \r\n                    </div>\r\n                  </Col>\r\n                </FormGroup>\r\n                </div> */}\r\n\r\n                <FormGroup\r\n                  controlId=\"formControlsTextarea\"\r\n                  className={this.getClasses('description')}\r\n                >\r\n                  <Col componentClass={ControlLabel} sm={3}>\r\n                    <ControlLabel>Description</ControlLabel>\r\n                  </Col>\r\n                  <Col sm={9}>\r\n                    <FormControl\r\n                      componentClass=\"textarea\"\r\n                      placeholder=\"description\"\r\n                      name=\"description\"\r\n                      value={this.state.description}\r\n                      onChange={this.handleChange}\r\n                      autoComplete=\"off\"\r\n                      maxLength=\"1000\"\r\n                    />\r\n                    {renderMessage(\r\n                      this.props.getValidationMessages('description')\r\n                    )}\r\n                  </Col>\r\n                </FormGroup>    \r\n\r\n                 <FormGroup\r\n                  controlId=\"formControlsTextarea\"\r\n                  className={this.getClasses('title')}\r\n                >\r\n                  <Col componentClass={ControlLabel} sm={3}>\r\n                    <ControlLabel>Project URL</ControlLabel>\r\n                  </Col>\r\n                  <Col sm={9}>\r\n                    <FormControl\r\n                      placeholder=\"Add a projectURL\"\r\n                      name=\"projectURL\"\r\n                      value={this.state.projectURL}\r\n                      onChange={this.handleChange}\r\n                      autoComplete=\"off\"\r\n                      maxLength=\"100\"\r\n                    />\r\n                    {renderMessage(this.props.getValidationMessages('projectURL'))}\r\n                  </Col>\r\n                </FormGroup>         \r\n               \r\n              </Col>\r\n              <div className=\"flex align-center justify-content-between fullWidth\" />\r\n            </Form>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button\r\n              bsStyle=\"primary\"\r\n              className=\"no-bold no-round\"\r\n              disabled={this.state.isLoading}\r\n              onClick={!this.state.isLoading ? this.validateData : null}\r\n            >\r\n              {this.state.isLoading ? 'In Progress...' : 'Save'}\r\n            </Button>\r\n            <Button\r\n              bsStyle=\"default\"\r\n              className=\"no-bold no-round\"\r\n              onClick={this.closeProjectModal.bind(this, 'close')}              \r\n            >\r\n              Close\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n\r\n        <Modal\r\n          //  bsSize=\"medium\"\r\n          show={this.state.imagesModal}\r\n          onHide={this.closeImageModal}\r\n        >\r\n          <Modal.Header closeButton>\r\n            <Modal.Title className=\"subtitle text-center\">\r\n              Photos Gallery\r\n            </Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>            \r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            {/* <Button bsStyle=\"primary no-bold no-round\">Save</Button> */}\r\n            <Button bstyle=\"default no-round\" onClick={this.closeImageModal}>\r\n              Close\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\naddProject = validation(strategy)(addProject);\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n  //  user: state.User.userData    \r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  null\r\n)(addProject);\r\n"]},"metadata":{},"sourceType":"module"}