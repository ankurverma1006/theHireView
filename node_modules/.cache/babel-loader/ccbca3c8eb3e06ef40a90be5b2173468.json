{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Ankur\\\\Desktop\\\\therapidhire\\\\therapidhireui\\\\TheRapidHireUI\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Ankur\\\\Desktop\\\\therapidhire\\\\therapidhireui\\\\TheRapidHireUI\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Ankur\\\\Desktop\\\\therapidhire\\\\therapidhireui\\\\TheRapidHireUI\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Ankur\\\\Desktop\\\\therapidhire\\\\therapidhireui\\\\TheRapidHireUI\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\Users\\\\Ankur\\\\Desktop\\\\therapidhire\\\\therapidhireui\\\\TheRapidHireUI\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Ankur\\\\Desktop\\\\therapidhire\\\\therapidhireui\\\\TheRapidHireUI\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import{bindActionCreators}from'redux';import{connect}from'react-redux';import{confirmAlert}from'react-confirm-alert';import'react-confirm-alert/src/react-confirm-alert.css';import theRapidHireApiService from'../../common/core/api/apiService';import{Modal,DropdownButton,MenuItem}from'react-bootstrap';import{setLocalStorage,uploadToAzure,getThumbImage}from'../../common/commonFunctions';import CONSTANTS from'../../common/core/config/appConfig';import Header from'../header/header';import ImageCropper from'../../common/cropper/imageCropper';import AddMoreStudent from'./addMoreStudent';import{actionSetStudentAsUser,actionGetStudentPersonalInfo,actionGetStudentUpdatedInfo,actionRemoveStudent,actionUpdateParentInfo}from'../../common/core/redux/actions';import sampleProfile from'../../assets/img/sample-profile.jpg';var Candidate=/*#__PURE__*/function(_Component){_inherits(Candidate,_Component);function Candidate(props){var _this2;_classCallCheck(this,Candidate);_this2=_possibleConstructorReturn(this,_getPrototypeOf(Candidate).call(this,props));_this2.setProfileData=function(data){if(data){var userId=data.userId;var firstName=data.firstName;var lastName=data.lastName;var profileImage=data.profilePicture;if(profileImage){profileImage=profileImage;}var coverImage=data.coverImage;if(coverImage){coverImage=getThumbImage('original',coverImage);}_this2.setState({firstName:firstName,lastName:lastName,userId:userId,profileImage:profileImage,coverImage:coverImage});}};_this2.handleClickProfile=function(otherUserInfoData){otherUserInfoData['token']=_this2.props.user['token'];var candidateAndHrDataJson={otherUserInfoData:otherUserInfoData};_this2.props.actionSetStudentAsUser(candidateAndHrDataJson);_this2.props.history.push('/user/profile');};_this2.handleChange=function(event){var self=_assertThisInitialized(_this2);var studentList=self.state.studentList;var target=event.target;var value=target.type==='checkbox'?target.checked:target.value;var name=target.name;var str_array=name.split('_');var id1=str_array[1];var id2=str_array[2];var userId=str_array[1];var data={isActive:value,userId:userId,index:id2};theRapidHireApiService('updateUserStatus',data).then(function(response){if(response&&response.data.status==='Success'){self.props.actionGetStudentUpdatedInfo(data);}}).catch(function(error){});studentList[id2].isActive=!studentList[id2].isActive;self.setState({isActive:false,studentLis:studentList});};_this2.handleImageChange=function(action,event){_this2.setState({imageSource:''});var file=event.target.files[0];var fileName=file.name;var fileType=file.type;if(file){_this2.generateSASToken();var reader=new FileReader();reader.readAsDataURL(event.target.files[0]);reader.onload=function(event){_this2.setState({imageSource:event.target.result,imageName:fileName,imageType:fileType,action:action});};}};_this2.updateUserData=function(type,uploadPath,userId){if(type===1){var profilePicture=uploadPath;var data={userId:userId,profilePicture:profilePicture};_this2.props.actionUpdateParentInfo({profilePicture:profilePicture});theRapidHireApiService('updateProfileImage',data);}if(type===2){var coverImage=uploadPath;var _data={userId:userId,coverImage:coverImage};_this2.props.actionUpdateParentInfo({coverImage:coverImage});theRapidHireApiService('updateCoverImage',_data);}};_this2.removeStudent=function(data,index){var _this=_assertThisInitialized(_this2);confirmAlert({customUI:function customUI(_ref){var onClose=_ref.onClose;return React.createElement(\"div\",{className:\"custom-ui\"},React.createElement(\"h1\",null,\"Are you sure?\"),React.createElement(\"p\",null,\"You want to delete this student?\"),React.createElement(\"button\",{onClick:onClose},\"No\"),React.createElement(\"button\",{onClick:function onClick(){var userId=data.userId;var isArchived=true;var userData={userId:userId,isArchived:isArchived};theRapidHireApiService('removeStudentUser',userData).then(function(response){if(response&&response.data&&response.data.status==\"Success\"){_this.props.actionRemoveStudent(userData);onClose();_this.resetStudentList(userId);}else{onClose();}}).catch(function(error){console.log('err',error);});}},\"Yes, Delete it!\"));}});};_this2.viewSampleProfile=function(){_this2.setState({showProfile:!_this2.state.showProfile});};_this2.deleteStudent=function(studentId,parentId){if(studentId&&parentId){var _this=_assertThisInitialized(_this2);confirmAlert({customUI:function customUI(_ref2){var onClose=_ref2.onClose;return React.createElement(\"div\",{className:\"custom-ui\"},React.createElement(\"p\",null,\"Are you sure you want to delete this student?\"),React.createElement(\"button\",{onClick:onClose},\"No\"),React.createElement(\"button\",{onClick:function onClick(){var userData={studentId:studentId,parentId:parentId};theRapidHireApiService('removeStudentUser',userData).then(function(response){if(response&&response.data&&response.data.status==\"Success\"){var _userData={userId:studentId,parentId:parentId};_this.props.actionRemoveStudent(_userData);onClose();_this.resetStudentList(studentId);}else{onClose();}}).catch(function(error){console.log('err',error);});}},\"Yes, Delete it!\"));}});}};_this2.state={sasToken:'',loader1:false,loader2:false,imageSource:'',imageName:'',imageType:'',addStudentModel:false,addParentModel:false,studentId:''};_this2.handleClickProfile=_this2.handleClickProfile.bind(_assertThisInitialized(_this2));_this2.uploadImageToAzure=_this2.uploadImageToAzure.bind(_assertThisInitialized(_this2));_this2.addStudentModel=_this2.addStudentModel.bind(_assertThisInitialized(_this2));_this2.addParentModel=_this2.addParentModel.bind(_assertThisInitialized(_this2));setLocalStorage('userInfo',_this2.props.parent?_this2.props.parent:_this2.props.user);return _this2;}_createClass(Candidate,[{key:\"componentWillMount\",value:function componentWillMount(){document.body.classList.add('light-theme');document.body.classList.add('absoluteHeader');}},{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.user){this.setState({user:this.props.user});var studentList=this.props.parent&&this.props.parent.students?this.props.parent.students:this.props.user.students||[];this.setProfileData(this.props.user);this.setStudentData(studentList);}}},{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){this.setParentProfileData(nextProps.parent);}},{key:\"setStudentData\",value:function setStudentData(studentList){var _this3=this;var userId=this.props.user.userId;theRapidHireApiService('getCandidateList',{userId:userId}).then(function(response){console.log(response);if(response&&response.data.status==='Success'&&response.data.result.length>0){console.log(response);var student=_this3.state.studentList;studentList=response.data.result;_this3.setState({studentList:studentList});}}).catch(function(err){console.log(err);});}},{key:\"generateSASToken\",value:function generateSASToken(){var _this4=this;theRapidHireApiService('getSASToken').then(function(response){if(response.data.status==='Success'){var sasToken=response.data.result.sasToken;_this4.setState({sasToken:sasToken});}}).catch(function(err){console.log(err);});}},{key:\"uploadImageToAzure\",value:function uploadImageToAzure(file){var _this5=this;var userId=this.state.userId;var type=this.state.action;var sasToken=this.state.sasToken;if(file!==''){type===1?this.setState({loader1:true,profileImage:''}):this.setState({loader2:true,coverImage:''});uploadToAzure(type,userId,file,sasToken,function(error,result,uploadPath){if(error){return;}if(result){if(type===1){var profileImage=\"\".concat(CONSTANTS.azureBlobURI,\"/\").concat(CONSTANTS.azureContainer,\"/\").concat(uploadPath);_this5.setState({profileImage:profileImage,loader1:false});}if(type===2){var coverImage=\"\".concat(CONSTANTS.azureBlobURI,\"/\").concat(CONSTANTS.azureContainer,\"/\").concat(uploadPath);_this5.setState({coverImage:coverImage,loader2:false});}_this5.updateUserData(type,uploadPath,userId);console.log('upload is successful',uploadPath);}});}}},{key:\"addStudentModel\",value:function addStudentModel(){this.setState({addStudentModel:!this.state.addStudentModel});var studentList=this.props.parent&&this.props.parent.students?this.props.parent.students:this.props.user.students||[];this.setStudentData(studentList);}},{key:\"addParentModel\",value:function addParentModel(studentId){console.log(studentId);this.setState({addParentModel:!this.state.addParentModel,studentId:studentId});}},{key:\"resetStudentList\",value:function resetStudentList(userId){var studentList=this.state.studentList||[];studentList.splice(studentList.findIndex(function(todo){return todo.userId===parseInt(userId,10);}),1);this.setState({studentList:studentList});}},{key:\"render\",value:function render(){var self=this;return React.createElement(\"div\",{className:\"wrapper\"},React.createElement(Header,this.props),React.createElement(\"div\",{className:\"main-panel\"},React.createElement(\"div\",{className:\"w3-content main-panel1\"},React.createElement(\"div\",{className:\"container main\"},React.createElement(\"div\",{className:\"button--wrapper mb-1 text-center flex flex-1 justify-center dashBtnCenter\"},React.createElement(\"button\",{className:\"btn btn-with-border with-icon smallBtn\",onClick:this.addStudentModel},React.createElement(\"span\",{className:\"icon-plus\"}),\"add user\")),this.state.studentList&&this.state.studentList.map(function(data,index){return React.createElement(\"div\",{key:index,className:\"suggestion-usd\",id:'student_'+data.userId},React.createElement(\"div\",{className:\"student-img deflt-icon centeredBox flex\"},data.profilePicture?React.createElement(\"img\",{src:data.profilePicture,alt:\"\",className:\"img-responsive\"}):React.createElement(\"div\",{className:\"pp-default\"},React.createElement(\"span\",{className:\"icon-user_default2\"}))),React.createElement(\"div\",{className:\"student-info flex justify-content-space-between\"},React.createElement(\"div\",{className:\"flex align-center justify-content-space-bettween p-20-30 stuBgWhite\"},React.createElement(\"div\",{className:\"flex-1\"},React.createElement(\"h3\",null,data.firstName?data.firstName+' '+(data.lastName?data.lastName:''):null),React.createElement(\"p\",null,data.email)),React.createElement(\"div\",{className:\"btn-group flex align-center\"},React.createElement(\"div\",{className:data.isActive?'toggleWrapper active':'toggleWrapper'},React.createElement(\"label\",{htmlFor:\"#\"},\"Active\"),React.createElement(\"div\",{className:\"item\"},React.createElement(\"input\",{type:\"checkbox\",name:\"isActive_\".concat(data.userId,\"_\").concat(index),onChange:self.handleChange,checked:data.isActive?true:false,id:\"toggle_today_summary\".concat(index)}),React.createElement(\"div\",{className:\"toggle\"},React.createElement(\"label\",{htmlFor:\"toggle_today_summary\".concat(index)},React.createElement(\"i\",null))))),React.createElement(\"button\",{className:\"btn btn-primary no-round\",onClick:self.handleClickProfile.bind(self,data)},\"Go to profile\"),\"\\xA0 \\xA0\",React.createElement(DropdownButton,{className:\"burger-trigger\",title:React.createElement(\"span\",{className:\"icon-burger\"}),id:\"1\"},React.createElement(MenuItem,{onSelect:self.addParentModel.bind(this,data.userId)},React.createElement(\"i\",{className:\"m-ico icon-plus\"}),\"Add Parent\"),React.createElement(MenuItem,{onSelect:function onSelect(){return self.props.history.push({pathname:'/parent/list',state:{studentData:data}});}},React.createElement(\"i\",{className:\"m-ico icon-parent\"}),\" Parent List\"),React.createElement(MenuItem,{onSelect:function onSelect(){return self.props.history.push({pathname:'/student/profilelog',state:{profileOwner:data.userId}});}},React.createElement(\"i\",{className:\"m-ico icon-profile-sharing\"}),' ',\"Profile Sharing Log\"),React.createElement(MenuItem//   onSelect={self.deleteStudent.bind(\n//     this,\n//     data.userId,\n//     self.props.parent.userId\n//   )}\n,null,React.createElement(\"i\",{className:\"m-ico icon-delete\"}),\" Delete\")))),React.createElement(\"div\",{className:\"flex align-center justify-content-space-bettween tag-wrap\"},React.createElement(\"div\",{className:\"promo-tag br-light\"},\"Accomplishments \",React.createElement(\"span\",null,data.accomplishment)),React.createElement(\"div\",{className:\"promo-tag\"},\"Recommendation \",React.createElement(\"span\",null,data.recommendation)))));})),this.state.addStudentModel?React.createElement(AddMoreStudent,{addStudentModel:this.state.addStudentModel,closeAddStudentModel:this.addStudentModel}):null)));}}]);return Candidate;}(Component);var mapStateToProps=function mapStateToProps(state){return{user:state.User.userData,parent:state.User.parentData,headerCount:state.User.headerCount};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({actionSetStudentAsUser:actionSetStudentAsUser,actionGetStudentPersonalInfo:actionGetStudentPersonalInfo,actionGetStudentUpdatedInfo:actionGetStudentUpdatedInfo,actionRemoveStudent:actionRemoveStudent,actionUpdateParentInfo:actionUpdateParentInfo},dispatch);};export default connect(mapStateToProps,mapDispatchToProps)(Candidate);","map":{"version":3,"sources":["C:\\Users\\Ankur\\Desktop\\therapidhire\\therapidhireui\\TheRapidHireUI\\src\\admin\\candidate\\candidate.js"],"names":["React","Component","bindActionCreators","connect","confirmAlert","theRapidHireApiService","Modal","DropdownButton","MenuItem","setLocalStorage","uploadToAzure","getThumbImage","CONSTANTS","Header","ImageCropper","AddMoreStudent","actionSetStudentAsUser","actionGetStudentPersonalInfo","actionGetStudentUpdatedInfo","actionRemoveStudent","actionUpdateParentInfo","sampleProfile","Candidate","props","setProfileData","data","userId","firstName","lastName","profileImage","profilePicture","coverImage","setState","handleClickProfile","otherUserInfoData","user","candidateAndHrDataJson","history","push","handleChange","event","self","studentList","state","target","value","type","checked","name","str_array","split","id1","id2","isActive","index","then","response","status","catch","error","studentLis","handleImageChange","action","imageSource","file","files","fileName","fileType","generateSASToken","reader","FileReader","readAsDataURL","onload","result","imageName","imageType","updateUserData","uploadPath","removeStudent","_this","customUI","onClose","isArchived","userData","resetStudentList","console","log","viewSampleProfile","showProfile","deleteStudent","studentId","parentId","sasToken","loader1","loader2","addStudentModel","addParentModel","bind","uploadImageToAzure","parent","document","body","classList","add","students","setStudentData","nextProps","setParentProfileData","length","student","err","azureBlobURI","azureContainer","splice","findIndex","todo","parseInt","map","email","pathname","studentData","profileOwner","accomplishment","recommendation","mapStateToProps","User","parentData","headerCount","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport 'react-confirm-alert/src/react-confirm-alert.css';\r\nimport theRapidHireApiService from '../../common/core/api/apiService';\r\nimport { Modal, DropdownButton, MenuItem } from 'react-bootstrap';\r\nimport {\r\n  setLocalStorage,\r\n  uploadToAzure,\r\n  getThumbImage\r\n} from '../../common/commonFunctions';\r\nimport CONSTANTS from '../../common/core/config/appConfig';\r\nimport Header from '../header/header';\r\nimport ImageCropper from '../../common/cropper/imageCropper';\r\nimport AddMoreStudent from './addMoreStudent';\r\nimport {\r\n  actionSetStudentAsUser,\r\n  actionGetStudentPersonalInfo,\r\n  actionGetStudentUpdatedInfo,\r\n  actionRemoveStudent,\r\n  actionUpdateParentInfo\r\n} from '../../common/core/redux/actions';\r\n\r\nimport sampleProfile from '../../assets/img/sample-profile.jpg';\r\n\r\nclass Candidate extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      sasToken: '',\r\n      loader1: false,\r\n      loader2: false,\r\n      imageSource: '',\r\n      imageName: '',\r\n      imageType: '',\r\n      addStudentModel: false,\r\n      addParentModel: false,\r\n      studentId: ''\r\n    };\r\n\r\n    this.handleClickProfile = this.handleClickProfile.bind(this);\r\n    this.uploadImageToAzure = this.uploadImageToAzure.bind(this);\r\n    this.addStudentModel = this.addStudentModel.bind(this);\r\n    this.addParentModel = this.addParentModel.bind(this);\r\n    setLocalStorage(\r\n      'userInfo',\r\n      this.props.parent ? this.props.parent : this.props.user\r\n    );\r\n  }\r\n\r\n  componentWillMount() {\r\n    document.body.classList.add('light-theme');\r\n    document.body.classList.add('absoluteHeader');\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.user) {\r\n      this.setState({\r\n        user: this.props.user\r\n      });\r\n\r\n      let studentList =\r\n        this.props.parent && this.props.parent.students\r\n          ? this.props.parent.students\r\n          : this.props.user.students || [];\r\n\r\n      this.setProfileData(this.props.user);\r\n      this.setStudentData(studentList);\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    this.setParentProfileData(nextProps.parent);\r\n  }\r\n\r\n  setProfileData = data => {\r\n    if (data) {\r\n      let userId = data.userId;\r\n\r\n      let firstName = data.firstName;\r\n      let lastName = data.lastName;\r\n\r\n      let profileImage = data.profilePicture;\r\n      if (profileImage) {\r\n        profileImage = profileImage;\r\n      }\r\n      let coverImage = data.coverImage;\r\n      if (coverImage) {\r\n        coverImage = getThumbImage('original', coverImage);\r\n      }\r\n      this.setState({\r\n        firstName,\r\n        lastName,\r\n        userId,\r\n        profileImage,\r\n        coverImage\r\n      });\r\n    }\r\n  };\r\n\r\n\r\n  setStudentData(studentList) {  \r\n   \r\n\r\n      var userId = this.props.user.userId;\r\n\r\n      theRapidHireApiService('getCandidateList', { userId })\r\n        .then(response => {\r\n            console.log(response);\r\n          if (\r\n            response &&\r\n            response.data.status === 'Success' &&\r\n            response.data.result.length > 0\r\n          ) {\r\n           console.log(response);\r\n            let student = this.state.studentList;\r\n           \r\n            studentList = response.data.result;\r\n            this.setState({ studentList: studentList });\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    \r\n  }\r\n\r\n  handleClickProfile = otherUserInfoData => {\r\n    otherUserInfoData['token'] = this.props.user['token'];\r\n    let candidateAndHrDataJson = {     \r\n        otherUserInfoData: otherUserInfoData\r\n    };\r\n    this.props.actionSetStudentAsUser(candidateAndHrDataJson);\r\n    this.props.history.push('/user/profile');\r\n  };\r\n\r\n  handleChange = event => {\r\n    let self = this;\r\n    let studentList = self.state.studentList;\r\n    const target = event.target;\r\n    const value = target.type === 'checkbox' ? target.checked : target.value;\r\n    const name = target.name;\r\n    var str_array = name.split('_');\r\n    let id1 = str_array[1];\r\n    let id2 = str_array[2];\r\n\r\n    let userId = str_array[1];\r\n    let data = {\r\n      isActive: value,\r\n      userId,\r\n      index: id2\r\n    };\r\n\r\n    theRapidHireApiService('updateUserStatus', data)\r\n      .then(response => {\r\n        if (response && response.data.status === 'Success') {\r\n          self.props.actionGetStudentUpdatedInfo(data);\r\n        }\r\n      })\r\n      .catch(error => {});\r\n    studentList[id2].isActive = !studentList[id2].isActive;\r\n    self.setState({\r\n      isActive: false,\r\n      studentLis: studentList\r\n    });\r\n  };\r\n\r\n  handleImageChange = (action, event) => {\r\n    this.setState({ imageSource: '' });\r\n    const file = event.target.files[0];\r\n    const fileName = file.name;\r\n    const fileType = file.type;\r\n    if (file) {\r\n      this.generateSASToken();\r\n      let reader = new FileReader();\r\n      reader.readAsDataURL(event.target.files[0]);\r\n      reader.onload = event => {\r\n        this.setState({\r\n          imageSource: event.target.result,\r\n          imageName: fileName,\r\n          imageType: fileType,\r\n          action: action\r\n        });\r\n      };\r\n    }\r\n  };\r\n\r\n  generateSASToken() {\r\n    theRapidHireApiService('getSASToken')\r\n      .then(response => {\r\n        if (response.data.status === 'Success') {\r\n          let sasToken = response.data.result.sasToken;\r\n          this.setState({ sasToken });\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  uploadImageToAzure(file) {\r\n    let userId = this.state.userId;\r\n    let type = this.state.action;\r\n    let sasToken = this.state.sasToken;\r\n\r\n    if (file !== '') {\r\n      type === 1\r\n        ? this.setState({ loader1: true, profileImage: '' })\r\n        : this.setState({ loader2: true, coverImage: '' });\r\n      uploadToAzure(\r\n        type,\r\n        userId,\r\n        file,\r\n        sasToken,\r\n        (error, result, uploadPath) => {\r\n          if (error) {\r\n            return;\r\n          }\r\n          if (result) {\r\n            if (type === 1) {\r\n              let profileImage = `${CONSTANTS.azureBlobURI}/${\r\n                CONSTANTS.azureContainer\r\n              }/${uploadPath}`;\r\n              this.setState({ profileImage: profileImage, loader1: false });\r\n            }\r\n\r\n            if (type === 2) {\r\n              let coverImage = `${CONSTANTS.azureBlobURI}/${\r\n                CONSTANTS.azureContainer\r\n              }/${uploadPath}`;\r\n\r\n              this.setState({ coverImage: coverImage, loader2: false });\r\n            }\r\n            this.updateUserData(type, uploadPath, userId);\r\n            console.log('upload is successful', uploadPath);\r\n          }\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  updateUserData = (type, uploadPath, userId) => {\r\n    if (type === 1) {\r\n      let profilePicture = uploadPath;\r\n      let data = {\r\n        userId,\r\n        profilePicture\r\n      };\r\n      this.props.actionUpdateParentInfo({ profilePicture });\r\n      theRapidHireApiService('updateProfileImage', data);\r\n    }\r\n\r\n    if (type === 2) {\r\n      let coverImage = uploadPath;\r\n      let data = {\r\n        userId,\r\n        coverImage\r\n      };\r\n      this.props.actionUpdateParentInfo({ coverImage });\r\n      theRapidHireApiService('updateCoverImage', data);\r\n    }\r\n  };\r\n\r\n  addStudentModel() {\r\n    this.setState({ addStudentModel: !this.state.addStudentModel });\r\n    let studentList =\r\n      this.props.parent && this.props.parent.students\r\n        ? this.props.parent.students\r\n        : this.props.user.students || [];\r\n\r\n    this.setStudentData(studentList);\r\n  }\r\n\r\n  addParentModel(studentId) {\r\n    console.log(studentId);\r\n    this.setState({\r\n      addParentModel: !this.state.addParentModel,\r\n      studentId\r\n    });\r\n  }\r\n\r\n  removeStudent = (data, index) => {\r\n    let _this = this;\r\n    confirmAlert({\r\n      customUI: ({ onClose }) => {\r\n        return (\r\n          <div className=\"custom-ui\">\r\n            <h1>Are you sure?</h1>\r\n            <p>You want to delete this student?</p>\r\n            <button onClick={onClose}>No</button>\r\n            <button\r\n              onClick={() => {\r\n                let userId = data.userId;\r\n                let isArchived = true;\r\n                let userData = {\r\n                  userId,\r\n                  isArchived\r\n                };\r\n\r\n                theRapidHireApiService('removeStudentUser', userData).then(response => {                                 \r\n                  if(response && response.data && response.data.status == \"Success\"){                   \r\n                    _this.props.actionRemoveStudent(userData);\r\n                     onClose();\r\n                    _this.resetStudentList(userId);\r\n                  }else{\r\n                    onClose();\r\n                  }  \r\n                }).catch(error => {               \r\n                  console.log('err', error);\r\n                });    \r\n            }}\r\n            >\r\n              Yes, Delete it!\r\n            </button>\r\n          </div>\r\n        );\r\n      }\r\n    });\r\n  };\r\n\r\n  resetStudentList(userId) {\r\n    let studentList = this.state.studentList || [];\r\n    studentList.splice(\r\n      studentList.findIndex(todo => todo.userId === parseInt(userId, 10)),\r\n      1\r\n    );\r\n    this.setState({ studentList: studentList });\r\n  }\r\n\r\n  viewSampleProfile = () => {\r\n    this.setState({\r\n      showProfile: !this.state.showProfile\r\n    });\r\n  };\r\n\r\n  deleteStudent = (studentId, parentId) => {\r\n    if (studentId && parentId) {\r\n      let _this = this;\r\n      confirmAlert({\r\n        customUI: ({ onClose }) => {\r\n          return (\r\n            <div className=\"custom-ui\">\r\n              <p>Are you sure you want to delete this student?</p>\r\n              <button onClick={onClose}>No</button>\r\n              <button\r\n                onClick={() => {\r\n                  let userData = {\r\n                    studentId,\r\n                    parentId\r\n                  };\r\n                  theRapidHireApiService('removeStudentUser', userData).then(response => {                                 \r\n                    if(response && response.data && response.data.status == \"Success\"){\r\n                      let userData = {\r\n                        userId: studentId,\r\n                        parentId\r\n                      }; \r\n                      _this.props.actionRemoveStudent(userData);\r\n                       onClose();\r\n                      _this.resetStudentList(studentId);\r\n                    }else{\r\n                      onClose();\r\n                    }  \r\n                  }).catch(error => {               \r\n                    console.log('err', error);\r\n                  });                 \r\n                }}\r\n              >\r\n                Yes, Delete it!\r\n              </button>\r\n            </div>\r\n          );\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let self = this;\r\n    return (\r\n      <div className=\"wrapper\">\r\n        <Header {...this.props} />     \r\n          <div className=\"main-panel\">          \r\n        \r\n\r\n        <div className=\"w3-content main-panel1\">\r\n        \r\n          <div className=\"container main\">\r\n           \r\n\r\n            <div className=\"button--wrapper mb-1 text-center flex flex-1 justify-center dashBtnCenter\">\r\n              {/* <button\r\n                className=\"btn btn-with-border with-icon smallBtn mr-1\"\r\n                onClick={this.viewSampleProfile}\r\n              >\r\n                View Sample Profile\r\n              </button> */}\r\n              {/* <button\r\n                className=\"btn btn-with-border with-icon smallBtn mr-1\"\r\n                onClick={this.addParentModel}\r\n              >\r\n                <span className=\"icon-plus\" />\r\n                add parent\r\n              </button> */}\r\n              <button\r\n                className=\"btn btn-with-border with-icon smallBtn\"\r\n                onClick={this.addStudentModel}\r\n              >\r\n                <span className=\"icon-plus\" />\r\n                add user\r\n              </button>\r\n            </div>\r\n            {this.state.studentList &&\r\n              this.state.studentList.map(function(data, index) {\r\n                return (\r\n                  <div\r\n                    key={index}\r\n                    className=\"suggestion-usd\"\r\n                    id={'student_' + data.userId}\r\n                  >\r\n                    <div className=\"student-img deflt-icon centeredBox flex\">\r\n                      {data.profilePicture ? (\r\n                        <img\r\n                          src={data.profilePicture}\r\n                          alt=\"\"\r\n                          className=\"img-responsive\"\r\n                        />\r\n                      ) : (\r\n                        <div className=\"pp-default\">\r\n                          <span className=\"icon-user_default2\" />\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"student-info flex justify-content-space-between\">\r\n                      <div className=\"flex align-center justify-content-space-bettween p-20-30 stuBgWhite\">\r\n                        <div className=\"flex-1\">\r\n                          <h3>\r\n                            {data.firstName\r\n                              ? data.firstName +\r\n                                ' ' +\r\n                                (data.lastName ? data.lastName : '')\r\n                              : null}\r\n                          </h3>\r\n                          <p>{data.email}</p>\r\n                        </div>\r\n\r\n                        <div className=\"btn-group flex align-center\">\r\n                 \r\n                          <div\r\n                            className={\r\n                              data.isActive\r\n                                ? 'toggleWrapper active'\r\n                                : 'toggleWrapper'\r\n                            }\r\n                          >\r\n                            <label htmlFor=\"#\">Active</label>\r\n                            <div className=\"item\">\r\n                              <input\r\n                                type=\"checkbox\"\r\n                                name={`isActive_${data.userId}_${index}`}\r\n                                onChange={self.handleChange}\r\n                                checked={data.isActive ? true : false}\r\n                                id={`toggle_today_summary${index}`}\r\n                              />\r\n                              <div className=\"toggle\">\r\n                                <label htmlFor={`toggle_today_summary${index}`}>\r\n                                  <i />\r\n                                </label>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <button\r\n                            className=\"btn btn-primary no-round\"\r\n                            onClick={self.handleClickProfile.bind(self, data)}\r\n                          >\r\n                            Go to profile\r\n                          </button>\r\n                          &nbsp; &nbsp;\r\n                      \r\n                          <DropdownButton\r\n                            className=\"burger-trigger\"\r\n                            title={<span className=\"icon-burger\" />}\r\n                            id=\"1\"\r\n                          >\r\n                            <MenuItem\r\n                              onSelect={self.addParentModel.bind(\r\n                                this,\r\n                                data.userId\r\n                              )}\r\n                            >\r\n                              <i className=\"m-ico icon-plus\" />\r\n                              Add Parent\r\n                            </MenuItem>\r\n                            <MenuItem\r\n                              onSelect={() =>\r\n                                self.props.history.push({\r\n                                  pathname: '/parent/list',\r\n                                  state: { studentData: data }\r\n                                })\r\n                              }\r\n                            >\r\n                              <i className=\"m-ico icon-parent\" /> Parent List\r\n                            </MenuItem>\r\n                            <MenuItem\r\n                              onSelect={() =>\r\n                                self.props.history.push({\r\n                                  pathname: '/student/profilelog',\r\n                                  state: { profileOwner: data.userId }\r\n                                })\r\n                              }\r\n                            >\r\n                              <i className=\"m-ico icon-profile-sharing\" />{' '}\r\n                              Profile Sharing Log\r\n                            </MenuItem>\r\n\r\n                            <MenuItem\r\n                            //   onSelect={self.deleteStudent.bind(\r\n                            //     this,\r\n                            //     data.userId,\r\n                            //     self.props.parent.userId\r\n                            //   )}\r\n                            >\r\n                              <i className=\"m-ico icon-delete\" /> Delete\r\n                            </MenuItem>\r\n                          </DropdownButton>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"flex align-center justify-content-space-bettween tag-wrap\">\r\n                        <div className=\"promo-tag br-light\">\r\n                          Accomplishments <span>{data.accomplishment}</span>\r\n                        </div>\r\n                        {/* <div className=\"promo-tag br-light\">\r\n                          Endorsement <span>{data.endorsement}</span>\r\n                        </div> */}\r\n                        <div className=\"promo-tag\">\r\n                          Recommendation <span>{data.recommendation}</span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n          </div>         \r\n          {this.state.addStudentModel ? (\r\n            <AddMoreStudent\r\n              addStudentModel={this.state.addStudentModel}\r\n              closeAddStudentModel={this.addStudentModel}\r\n            />\r\n          ) : null}\r\n        </div></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    user: state.User.userData,\r\n    parent: state.User.parentData,\r\n    headerCount: state.User.headerCount\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    {\r\n      actionSetStudentAsUser,\r\n      actionGetStudentPersonalInfo,\r\n      actionGetStudentUpdatedInfo,\r\n      actionRemoveStudent,  \r\n      actionUpdateParentInfo\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Candidate);\r\n"]},"metadata":{},"sourceType":"module"}