{"ast":null,"code":"import _defineProperty from\"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Link}from'react-router-dom';import{ToastContainer}from'react-toastify';import validation from'react-validation-mixin';import strategy from'react-validatorjs-strategy';import classnames from'classnames';import{bindActionCreators}from'redux';import{connect}from'react-redux';//import { Field, reduxForm } from 'redux-form';\n//import renderField from 'components/FormInputs/renderField';\nimport{getLocalStorage,encrypt,decrypt,getIPAddress,ZoomInAndOut,renderMessage,showErrorToast}from'../../common/commonFunctions';import cube from'../../common/commonFunctions';import{Button,FormGroup,InputGroup,FormControl,Nav,NavItem}from'react-bootstrap';import{actionUserLogin}from'../core/redux/actions';import{actionSetStudentAsUser}from'../core/redux/actions';import Sidebar from'./sideBar';import CONSTANTS from'../core/config/appConfig';var validationMessages=CONSTANTS.validationMessages;var regExpressions=CONSTANTS.regExpressions;function getUrlParameter(name,url){name=name.replace(/[\\[]/,'\\\\[').replace(/[\\]]/,'\\\\]');var regex=new RegExp('[\\\\?&]'+name+'=([^&#]*)');var results=regex.exec(url);// return results === null ? '' : decodeURIComponent(results[1].replace(/\\+/g, ''));\nreturn results===null?'':decodeURIComponent(results[1]);}var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);function Login(props,context){var _this;_classCallCheck(this,Login);_this=_possibleConstructorReturn(this,_getPrototypeOf(Login).call(this,props,context));_this.getValidatorData=function(){return _this.state;};_this.getClasses=function(field){return classnames({error:!_this.props.isValid(field)});};_this.handleChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.validateData=function(){var self=_assertThisInitialized(_this);_this.props.validate(function(error){if(!error){self.setState({isLoading:true});self.handleSubmit();}});};_this.submitData=function(event){if(event.key==='Enter'){event.preventDefault();_this.validateData();}};_this.state={email:'',password:'',isLoading:false};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.getValidatorData=_this.getValidatorData.bind(_assertThisInitialized(_this));_this.getClasses=_this.getClasses.bind(_assertThisInitialized(_this));_this.validatorTypes=strategy.createSchema({email:'required|email',password:['required','regex:'+regExpressions.passwordPattern]},{'required.email':validationMessages.email.required,'email.email':validationMessages.email.invalid,'required.password':validationMessages.password.required,'regex.password':validationMessages.password.passwordPattern});return _this;}_createClass(Login,[{key:\"componentDidMount\",value:function componentDidMount(){var _this=this;var isIE=/*@cc_on!@*/false||!!document.documentMode;var isEdge=!isIE&&!!window.StyleMedia;if(!isEdge){getIPAddress(function(ip){_this.setState({deviceId:ip});});}else{_this.setState({deviceId:'0.0.0.0'});}}},{key:\"componentWillMount\",value:function componentWillMount(){document.body.classList.remove('light-theme');document.body.classList.remove('home');document.body.classList.remove('fixedHeader');}},{key:\"handleSubmit\",value:function handleSubmit(){var self=this;var email=null;var password=null;var url=this.state.matchUrl||this.props.match.url;var groupId=null;if(this.props.match.url.indexOf('/autoLogin/')>=0&&this.props.match.params&&this.props.match.params.user&&this.props.match.params.pass){email=this.props.match.params.user.trim();password=this.props.match.params.pass.trim();}else if(this.props.match.url.indexOf('/recommendation/')>=0&&this.props.match.params.email&&this.props.match.params.pass&&this.props.match.params.pass!=='null'){email=this.props.match.params.email.toLowerCase().trim();password=this.props.match.params.pass.trim();}else if(this.props.match.url.indexOf('/previewprofile/')>=0&&this.props.match.params.email&&this.props.match.params.pass&&this.props.match.params.pass!=='null'){email=this.props.match.params.email.toLowerCase().trim();password=this.props.match.params.pass.trim();}else if(url.indexOf('/joingroup')>=0){var search=this.state.search?this.state.search:this.props.location.search;var parsedGroupId=getUrlParameter('groupId',search);var parsedEmail=getUrlParameter('email',search);var parsedPass=getUrlParameter('pass',search);if(parsedEmail&&parsedPass&&parsedPass!=='null'){groupId=parsedGroupId;email=parsedEmail.toLowerCase().trim();password=parsedPass.trim();}else if(parsedGroupId){groupId=parsedGroupId;email=this.state.email.toLowerCase().trim();password=encrypt(this.state.password.trim());}}else{email=this.state.email.toLowerCase().trim();password=encrypt(this.state.password.trim());}var deviceId=this.state.deviceId;var data={email:email,password:password,deviceId:deviceId};this.props.actionUserLogin(data).then(function(response){console.log(response);if(response.payload&&response.payload.data.status==='Success'){self.setState({isLoading:false});var userResponse=response.payload.data.result;if(userResponse&&userResponse.token){if(userResponse.roleId===1)self.props.history.push('/user/profile');else if(userResponse.roleId===2)self.props.history.push('/interviewer/interviewerProfile');else if(userResponse.roleId===3)self.props.history.push('/recruiter/jobDesription');else if(userResponse.roleId===4)self.props.history.push('/admin/candidate');}}else{self.setState({isLoading:false,password:''});}}).catch(function(error){self.setState({isLoading:false,password:''});console.log('err',error);});}},{key:\"render\",value:function render(){var isLoading=this.state.isLoading;return React.createElement(\"div\",null,\"   \",React.createElement(\"div\",{className:\"wrapper\"},React.createElement(ToastContainer,{autoClose:5000,className:\"custom-toaster-main-cls\",toastClassName:\"custom-toaster-bg\",transition:ZoomInAndOut}),React.createElement(\"div\",{className:\"main-panel\"},React.createElement(\"div\",{className:\"login_card\"},React.createElement(\"div\",{className:\"header forgotPasswordForm bg-transparent\"},React.createElement(\"h4\",{className:\"h4login\"},\"  \",React.createElement(\"legend\",{className:\"color-blue mb-0\"},\"Login\"))),React.createElement(\"div\",{className:\"content\"},React.createElement(\"form\",{className:\"form-horizontal\"},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{className:\"col-md-3 control-label\"},\"Email\"),React.createElement(\"div\",{className:\"col-md-9\"},React.createElement(FormGroup,{className:this.getClasses('email')},React.createElement(FormControl,{type:\"email\",placeholder:\"Email\",name:\"email\",value:this.state.email,onChange:this.handleChange,autoComplete:\"off\"}),renderMessage(this.props.getValidationMessages('email'))))),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{className:\"col-md-3 control-label\"},\"Password\"),React.createElement(\"div\",{className:\"col-md-9\"},React.createElement(FormGroup,{className:this.getClasses('password')},React.createElement(FormControl,{type:\"password\",placeholder:\"Password\",name:\"password\",value:this.state.password,onChange:this.handleChange,autoComplete:\"off\",onKeyPress:this.submitData}),renderMessage(this.props.getValidationMessages('password'))))),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{className:\"col-md-3\"}),React.createElement(\"div\",{className:\"col-md-9\"},React.createElement(Link,{to:\"/forgot\",className:\"forgotPass\"},\"Forgot Password?\"))),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{className:\"col-md-3\"}),React.createElement(\"div\",{className:\"col-md-9\"},React.createElement(FormGroup,null,React.createElement(Button,{bsStyle:\"primary\",className:\"centeredBtn btn-lg\",disabled:isLoading,onClick:!isLoading?this.validateData:null},isLoading?'Checking Credentials...':'Sign In')),React.createElement(Link,{style:{position:'absolute',right:'20px',bottom:'107px'},to:{pathname:'/signup',state:{eventKey:2}}},\"Register\")))))))));}}]);return Login;}(Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({actionUserLogin:actionUserLogin,actionSetStudentAsUser:actionSetStudentAsUser},dispatch);};Login=validation(strategy)(Login);export default connect(null,mapDispatchToProps)(Login);","map":{"version":3,"sources":["/home/ank/Desktop/therapidhiregit/therapidhireui/TheRapidHireUI/src/common/authorization/login.js"],"names":["React","Component","Link","ToastContainer","validation","strategy","classnames","bindActionCreators","connect","getLocalStorage","encrypt","decrypt","getIPAddress","ZoomInAndOut","renderMessage","showErrorToast","cube","Button","FormGroup","InputGroup","FormControl","Nav","NavItem","actionUserLogin","actionSetStudentAsUser","Sidebar","CONSTANTS","validationMessages","regExpressions","getUrlParameter","name","url","replace","regex","RegExp","results","exec","decodeURIComponent","Login","props","context","getValidatorData","state","getClasses","field","error","isValid","handleChange","event","setState","target","value","validateData","self","validate","isLoading","handleSubmit","submitData","key","preventDefault","email","password","bind","validatorTypes","createSchema","passwordPattern","required","invalid","_this","isIE","document","documentMode","isEdge","window","StyleMedia","ip","deviceId","body","classList","remove","matchUrl","match","groupId","indexOf","params","user","pass","trim","toLowerCase","search","location","parsedGroupId","parsedEmail","parsedPass","data","then","response","console","log","payload","status","userResponse","result","token","roleId","history","push","catch","getValidationMessages","position","right","bottom","pathname","eventKey","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport validation from 'react-validation-mixin';\r\nimport strategy from 'react-validatorjs-strategy';\r\nimport classnames from 'classnames';\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\n//import { Field, reduxForm } from 'redux-form';\r\n//import renderField from 'components/FormInputs/renderField';\r\nimport {\r\n  getLocalStorage,\r\n  encrypt,\r\n  decrypt,\r\n  getIPAddress,\r\n  ZoomInAndOut,\r\n  renderMessage,showErrorToast\r\n} from '../../common/commonFunctions';\r\nimport cube from '../../common/commonFunctions';\r\nimport {\r\n  Button,\r\n  FormGroup,\r\n  InputGroup,\r\n  FormControl,\r\n  Nav,\r\n  NavItem\r\n} from 'react-bootstrap';\r\n\r\nimport { actionUserLogin } from '../core/redux/actions';\r\nimport { actionSetStudentAsUser } from '../core/redux/actions';\r\nimport Sidebar from './sideBar';\r\n\r\nimport CONSTANTS from '../core/config/appConfig';\r\n\r\nlet validationMessages = CONSTANTS.validationMessages;\r\nlet regExpressions = CONSTANTS.regExpressions;\r\n\r\nfunction getUrlParameter(name, url) {\r\n  name = name.replace(/[\\[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\r\n  var regex = new RegExp('[\\\\?&]' + name + '=([^&#]*)');\r\n  var results = regex.exec(url);\r\n  // return results === null ? '' : decodeURIComponent(results[1].replace(/\\+/g, ''));\r\n  return results === null ? '' : decodeURIComponent(results[1]);\r\n}\r\n\r\nclass Login extends Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n    this.state = {\r\n      email: '',\r\n      password: '',\r\n      isLoading: false\r\n    };\r\n\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.getValidatorData = this.getValidatorData.bind(this);\r\n    this.getClasses = this.getClasses.bind(this);\r\n\r\n    this.validatorTypes = strategy.createSchema(\r\n      {\r\n        email: 'required|email',\r\n        password: ['required', 'regex:' + regExpressions.passwordPattern]\r\n      },\r\n      {\r\n        'required.email': validationMessages.email.required,\r\n        'email.email': validationMessages.email.invalid,\r\n        'required.password': validationMessages.password.required,\r\n        'regex.password': validationMessages.password.passwordPattern\r\n      }\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    \r\n    let _this = this;\r\n    var isIE = /*@cc_on!@*/ false || !!document.documentMode;\r\n    var isEdge = !isIE && !!window.StyleMedia;\r\n    if (!isEdge) {\r\n      getIPAddress(function(ip) {\r\n        _this.setState({\r\n          deviceId: ip\r\n        });\r\n      });\r\n    } else {\r\n      _this.setState({\r\n        deviceId: '0.0.0.0'\r\n      });\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    document.body.classList.remove('light-theme');\r\n    document.body.classList.remove('home');\r\n    document.body.classList.remove('fixedHeader');\r\n\r\n  \r\n  }\r\n\r\n  getValidatorData = () => {\r\n    return this.state;\r\n  };\r\n\r\n  getClasses = field => {\r\n    return classnames({\r\n      error: !this.props.isValid(field)\r\n    });\r\n  };\r\n\r\n  handleChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  validateData = () => {\r\n    let self = this;\r\n    this.props.validate(function(error) {\r\n      if (!error) {\r\n        self.setState({ isLoading: true });\r\n        self.handleSubmit();\r\n      }\r\n    });\r\n  };\r\n\r\n  submitData = event => {\r\n    if (event.key === 'Enter') {\r\n      event.preventDefault();\r\n      this.validateData();\r\n    }\r\n  };\r\n\r\n  handleSubmit() {\r\n    let self = this;\r\n    let email = null;\r\n    let password = null;\r\n    let url = this.state.matchUrl || this.props.match.url;\r\n    let groupId = null;\r\n\r\n    if (\r\n      this.props.match.url.indexOf('/autoLogin/') >= 0 &&\r\n      this.props.match.params &&\r\n      this.props.match.params.user &&\r\n      this.props.match.params.pass\r\n    ) {\r\n      email = this.props.match.params.user.trim();\r\n      password = this.props.match.params.pass.trim();\r\n    } else if (\r\n      this.props.match.url.indexOf('/recommendation/') >= 0 &&\r\n      this.props.match.params.email &&\r\n      this.props.match.params.pass &&\r\n      this.props.match.params.pass !== 'null'\r\n    ) {\r\n      email = this.props.match.params.email.toLowerCase().trim();\r\n      password = this.props.match.params.pass.trim();\r\n    } else if (\r\n      this.props.match.url.indexOf('/previewprofile/') >= 0 &&\r\n      this.props.match.params.email &&\r\n      this.props.match.params.pass &&\r\n      this.props.match.params.pass !== 'null'\r\n    ) {\r\n      email = this.props.match.params.email.toLowerCase().trim();\r\n      password = this.props.match.params.pass.trim();\r\n    } else if (url.indexOf('/joingroup') >= 0) {\r\n      let search = this.state.search\r\n        ? this.state.search\r\n        : this.props.location.search;\r\n      let parsedGroupId = getUrlParameter('groupId', search);\r\n      let parsedEmail = getUrlParameter('email', search);\r\n      let parsedPass = getUrlParameter('pass', search);\r\n      if (parsedEmail && parsedPass && parsedPass !== 'null') {\r\n        groupId = parsedGroupId;\r\n        email = parsedEmail.toLowerCase().trim();\r\n        password = parsedPass.trim();\r\n      } else if (parsedGroupId) {\r\n        groupId = parsedGroupId;\r\n        email = this.state.email.toLowerCase().trim();\r\n        password = encrypt(this.state.password.trim());\r\n      }\r\n    } else {\r\n      email = this.state.email.toLowerCase().trim();\r\n      password = encrypt(this.state.password.trim());\r\n    }\r\n\r\n    let deviceId = this.state.deviceId;\r\n\r\n    let data = {\r\n      email,\r\n      password,\r\n      deviceId\r\n    };\r\n \r\n    this.props\r\n    .actionUserLogin(data)\r\n    .then(response => {\r\n      console.log(response);      \r\n      if (response.payload && response.payload.data.status === 'Success') {        \r\n          self.setState({ isLoading: false });\r\n          const userResponse = response.payload.data.result;\r\n          if (userResponse && userResponse.token) {\r\n            if (userResponse.roleId === 1)\r\n              self.props.history.push('/user/profile');          \r\n            else if (userResponse.roleId === 2)\r\n              self.props.history.push('/interviewer/interviewerProfile');\r\n              else if (userResponse.roleId === 3)\r\n              self.props.history.push('/recruiter/jobDesription');\r\n              else if (userResponse.roleId === 4)\r\n              self.props.history.push('/admin/candidate');\r\n        }\r\n      } else { \r\n        self.setState({ isLoading: false, password: '' });\r\n      }\r\n    })\r\n      .catch(error => {\r\n        self.setState({\r\n          isLoading: false,\r\n          password: ''\r\n        });\r\n        console.log('err', error);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { isLoading } = this.state;\r\n    return (\r\n<div>   <div className=\"wrapper\">\r\n        \r\n<ToastContainer\r\n          autoClose={5000}\r\n          className=\"custom-toaster-main-cls\"\r\n          toastClassName=\"custom-toaster-bg\"\r\n          transition={ZoomInAndOut}\r\n        /> \r\n          <div className=\"main-panel\">   \r\n     \r\n      <div className=\"login_card\">\r\n      <div className=\"header forgotPasswordForm bg-transparent\">\r\n        <h4 className=\"h4login\">  <legend className=\"color-blue mb-0\">Login</legend></h4>\r\n      </div>     \r\n      <div className=\"content\">\r\n        <form className=\"form-horizontal\">\r\n  \r\n          <div className=\"form-group\">\r\n            <label className=\"col-md-3 control-label\">Email</label>\r\n            <div className=\"col-md-9\">\r\n            <FormGroup className={this.getClasses('email')}>\r\n               \r\n                  {/* <InputGroup.Addon>\r\n                    <span className=\"icon-email\" />\r\n                  </InputGroup.Addon> */}\r\n                  <FormControl\r\n                    type=\"email\"\r\n                    placeholder=\"Email\"\r\n                    name=\"email\"\r\n                    value={this.state.email}\r\n                    onChange={this.handleChange}\r\n                    autoComplete=\"off\"\r\n                  />\r\n               \r\n                {renderMessage(this.props.getValidationMessages('email'))}\r\n              </FormGroup>    \r\n            </div>\r\n          </div>\r\n  \r\n          <div className=\"form-group\">\r\n            <label className=\"col-md-3 control-label\">Password</label>\r\n            <div className=\"col-md-9\">\r\n            <FormGroup className={this.getClasses('password')}>\r\n              \r\n                  {/* <InputGroup.Addon>\r\n                    <span className=\"icon-password\" />\r\n                  </InputGroup.Addon> */}\r\n                  <FormControl\r\n                    type=\"password\"\r\n                    placeholder=\"Password\"\r\n                    name=\"password\"\r\n                    value={this.state.password}\r\n                    onChange={this.handleChange}\r\n                    autoComplete=\"off\"\r\n                    onKeyPress={this.submitData}                   \r\n                  />\r\n              \r\n                {renderMessage(this.props.getValidationMessages('password'))}\r\n              </FormGroup>\r\n            </div>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label className=\"col-md-3\"></label>\r\n            <div className=\"col-md-9\">\r\n            <Link to=\"/forgot\" className=\"forgotPass\">\r\n                Forgot Password?\r\n              </Link>           \r\n            </div>\r\n          </div>\r\n  \r\n\r\n          <div className=\"form-group\">\r\n            <label className=\"col-md-3\"></label>\r\n            <div className=\"col-md-9\">\r\n            <FormGroup>\r\n                <Button\r\n                  bsStyle=\"primary\"\r\n                  className=\"centeredBtn btn-lg\"\r\n                  disabled={isLoading}\r\n                  onClick={!isLoading ? this.validateData : null}\r\n                >\r\n                  {isLoading ? 'Checking Credentials...' : 'Sign In'}\r\n                </Button>\r\n              </FormGroup>\r\n              <Link style={{position :'absolute',right:'20px',bottom: '107px'}} \r\n                                                                                                    to={{\r\n                                                                                                      pathname: '/signup',\r\n                                                                                                      state: {\r\n                                                                                                        eventKey: 2\r\n                                                                                                      }\r\n                                                                                                    }}\r\n                >\r\n                      Register\r\n                      </Link>       \r\n              {/* <a style={{position :'absolute',right:'65px',bottom: '10px'}} href=\"https://theRapidHiremediastorage.blob.core.windows.net/theRapidHire-media-production/sv_1/PrivacyPolicy.html\" target=\"_blank\">\r\n           Terms and Condition\r\n        </a> */}\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n    </div>\r\n    </div>      \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    { actionUserLogin, actionSetStudentAsUser },\r\n    dispatch\r\n  );\r\n};\r\n\r\nLogin = validation(strategy)(Login);\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(Login);\r\n"]},"metadata":{},"sourceType":"module"}