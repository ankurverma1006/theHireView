{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\Ankur\\\\Desktop\\\\therapidhire\\\\therapidhireui\\\\TheRapidHireUI\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\Ankur\\\\Desktop\\\\therapidhire\\\\therapidhireui\\\\TheRapidHireUI\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Ankur\\\\Desktop\\\\therapidhire\\\\therapidhireui\\\\TheRapidHireUI\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Ankur\\\\Desktop\\\\therapidhire\\\\therapidhireui\\\\TheRapidHireUI\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Ankur\\\\Desktop\\\\therapidhire\\\\therapidhireui\\\\TheRapidHireUI\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\Users\\\\Ankur\\\\Desktop\\\\therapidhire\\\\therapidhireui\\\\TheRapidHireUI\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Ankur\\\\Desktop\\\\therapidhire\\\\therapidhireui\\\\TheRapidHireUI\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Link}from'react-router-dom';import{ToastContainer}from'react-toastify';import validation from'react-validation-mixin';import strategy from'react-validatorjs-strategy';import classnames from'classnames';import{bindActionCreators}from'redux';import{connect}from'react-redux';//import { Field, reduxForm } from 'redux-form';\n//import renderField from 'components/FormInputs/renderField';\nimport{getLocalStorage,encrypt,decrypt,getIPAddress,ZoomInAndOut,renderMessage,showErrorToast}from'../../common/commonFunctions';import cube from'../../common/commonFunctions';import{Button,FormGroup,InputGroup,FormControl,Nav,NavItem}from'react-bootstrap';import{actionUserLogin}from'../core/redux/actions';import{actionSetStudentAsUser}from'../core/redux/actions';import Sidebar from'./sideBar';import CONSTANTS from'../core/config/appConfig';var validationMessages=CONSTANTS.validationMessages;var regExpressions=CONSTANTS.regExpressions;function getUrlParameter(name,url){name=name.replace(/[\\[]/,'\\\\[').replace(/[\\]]/,'\\\\]');var regex=new RegExp('[\\\\?&]'+name+'=([^&#]*)');var results=regex.exec(url);// return results === null ? '' : decodeURIComponent(results[1].replace(/\\+/g, ''));\nreturn results===null?'':decodeURIComponent(results[1]);}var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);function Login(props,context){var _this;_classCallCheck(this,Login);_this=_possibleConstructorReturn(this,_getPrototypeOf(Login).call(this,props,context));_this.getValidatorData=function(){return _this.state;};_this.getClasses=function(field){return classnames({error:!_this.props.isValid(field)});};_this.handleChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.validateData=function(){var self=_assertThisInitialized(_this);_this.props.validate(function(error){if(!error){self.setState({isLoading:true});self.handleSubmit();}});};_this.submitData=function(event){if(event.key==='Enter'){event.preventDefault();_this.validateData();}};_this.state={email:'',password:'',isLoading:false};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.getValidatorData=_this.getValidatorData.bind(_assertThisInitialized(_this));_this.getClasses=_this.getClasses.bind(_assertThisInitialized(_this));_this.validatorTypes=strategy.createSchema({email:'required|email',password:['required','regex:'+regExpressions.passwordPattern]},{'required.email':validationMessages.email.required,'email.email':validationMessages.email.invalid,'required.password':validationMessages.password.required,'regex.password':validationMessages.password.passwordPattern});return _this;}_createClass(Login,[{key:\"componentDidMount\",value:function componentDidMount(){var _this=this;var isIE=/*@cc_on!@*/false||!!document.documentMode;var isEdge=!isIE&&!!window.StyleMedia;if(!isEdge){getIPAddress(function(ip){_this.setState({deviceId:ip});});}else{_this.setState({deviceId:'0.0.0.0'});}}},{key:\"componentWillMount\",value:function componentWillMount(){}},{key:\"handleSubmit\",value:function handleSubmit(){var self=this;var email=null;var password=null;var url=this.state.matchUrl||this.props.match.url;var groupId=null;if(this.props.match.url.indexOf('/autoLogin/')>=0&&this.props.match.params&&this.props.match.params.user&&this.props.match.params.pass){email=this.props.match.params.user.trim();password=this.props.match.params.pass.trim();}else if(this.props.match.url.indexOf('/recommendation/')>=0&&this.props.match.params.email&&this.props.match.params.pass&&this.props.match.params.pass!=='null'){email=this.props.match.params.email.toLowerCase().trim();password=this.props.match.params.pass.trim();}else if(this.props.match.url.indexOf('/previewprofile/')>=0&&this.props.match.params.email&&this.props.match.params.pass&&this.props.match.params.pass!=='null'){email=this.props.match.params.email.toLowerCase().trim();password=this.props.match.params.pass.trim();}else if(url.indexOf('/joingroup')>=0){var search=this.state.search?this.state.search:this.props.location.search;var parsedGroupId=getUrlParameter('groupId',search);var parsedEmail=getUrlParameter('email',search);var parsedPass=getUrlParameter('pass',search);if(parsedEmail&&parsedPass&&parsedPass!=='null'){groupId=parsedGroupId;email=parsedEmail.toLowerCase().trim();password=parsedPass.trim();}else if(parsedGroupId){groupId=parsedGroupId;email=this.state.email.toLowerCase().trim();password=encrypt(this.state.password.trim());}}else{email=this.state.email.toLowerCase().trim();password=encrypt(this.state.password.trim());}var deviceId=this.state.deviceId;var data={email:email,password:password,deviceId:deviceId};this.props.actionUserLogin(data).then(function(response){console.log(response);if(response.payload&&response.payload.data.status==='Success'){self.setState({isLoading:false});var userResponse=response.payload.data.result;if(userResponse&&userResponse.token){if(userResponse.roleId===1)self.props.history.push('/user/profile');else if(userResponse.roleId===2)self.props.history.push('/interviewer/interviewerProfile');else if(userResponse.roleId===3)self.props.history.push('/recruiter/jobDesription');else if(userResponse.roleId===4)self.props.history.push('/admin/candidate');}}else{self.setState({isLoading:false,password:''});}}).catch(function(error){self.setState({isLoading:false,password:''});console.log('err',error);});}},{key:\"render\",value:function render(){var isLoading=this.state.isLoading;return React.createElement(\"div\",{className:\"wrapper\"},React.createElement(ToastContainer,{autoClose:5000,className:\"custom-toaster-main-cls\",toastClassName:\"custom-toaster-bg\",transition:ZoomInAndOut}),React.createElement(\"div\",{className:\"main-panel\"},React.createElement(\"div\",{className:\"banner\"},React.createElement(\"div\",{className:\"overlay\"}),React.createElement(\"div\",{className:\"banner-content\"},React.createElement(\"div\",{className:\"container\"},React.createElement(\"p\",{className:\"\"},React.createElement(\"strong\",null,\"Reset your password by filling in your email address. You will then receive an email with new password.\")),' '),React.createElement(\"div\",{className:\"login_card\"},React.createElement(\"div\",{className:\"header forgotPasswordForm bg-transparent\"},React.createElement(\"h4\",{className:\"h4login\"},' ',React.createElement(\"legend\",{className:\"color-blue mb-0\"},\"Login\"))),React.createElement(\"div\",{className:\"content\"},React.createElement(\"form\",{className:\"form-horizontal\"},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{className:\"col-md-3 control-label\"},\"Email\"),React.createElement(\"div\",{className:\"col-md-9\"},React.createElement(FormGroup,{className:this.getClasses('email')},React.createElement(FormControl,{type:\"email\",placeholder:\"Email\",name:\"email\",value:this.state.email,onChange:this.handleChange,autoComplete:\"off\"}),renderMessage(this.props.getValidationMessages('email'))))),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{className:\"col-md-3 control-label\"},\"Password\"),React.createElement(\"div\",{className:\"col-md-9\"},React.createElement(FormGroup,{className:this.getClasses('password')},React.createElement(FormControl,{type:\"password\",placeholder:\"Password\",name:\"password\",value:this.state.password,onChange:this.handleChange,autoComplete:\"off\",onKeyPress:this.submitData}),renderMessage(this.props.getValidationMessages('password'))))),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{className:\"col-md-3\"}),React.createElement(\"div\",{className:\"col-md-9\"},React.createElement(Link,{to:\"/forgot\",className:\"forgotPass\"},\"Forgot Password?\"))),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{className:\"col-md-3\"}),React.createElement(\"div\",{className:\"col-md-9\"},React.createElement(FormGroup,null,React.createElement(Button,{bsStyle:\"primary\",className:\"centeredBtn btn-lg\",disabled:isLoading,onClick:!isLoading?this.validateData:null},isLoading?'Checking Credentials...':'Sign In')),React.createElement(Link,{style:{position:'absolute',right:'20px',bottom:'107px'},to:{pathname:'/signup',state:{eventKey:2}}},' ',\"Register\")))))),' '))));}}]);return Login;}(Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({actionUserLogin:actionUserLogin,actionSetStudentAsUser:actionSetStudentAsUser},dispatch);};Login=validation(strategy)(Login);export default connect(null,mapDispatchToProps)(Login);","map":{"version":3,"sources":["C:\\Users\\Ankur\\Desktop\\therapidhire\\therapidhireui\\TheRapidHireUI\\src\\common\\authorization\\login.js"],"names":["React","Component","Link","ToastContainer","validation","strategy","classnames","bindActionCreators","connect","getLocalStorage","encrypt","decrypt","getIPAddress","ZoomInAndOut","renderMessage","showErrorToast","cube","Button","FormGroup","InputGroup","FormControl","Nav","NavItem","actionUserLogin","actionSetStudentAsUser","Sidebar","CONSTANTS","validationMessages","regExpressions","getUrlParameter","name","url","replace","regex","RegExp","results","exec","decodeURIComponent","Login","props","context","getValidatorData","state","getClasses","field","error","isValid","handleChange","event","setState","target","value","validateData","self","validate","isLoading","handleSubmit","submitData","key","preventDefault","email","password","bind","validatorTypes","createSchema","passwordPattern","required","invalid","_this","isIE","document","documentMode","isEdge","window","StyleMedia","ip","deviceId","matchUrl","match","groupId","indexOf","params","user","pass","trim","toLowerCase","search","location","parsedGroupId","parsedEmail","parsedPass","data","then","response","console","log","payload","status","userResponse","result","token","roleId","history","push","catch","getValidationMessages","position","right","bottom","pathname","eventKey","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport validation from 'react-validation-mixin';\r\nimport strategy from 'react-validatorjs-strategy';\r\nimport classnames from 'classnames';\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\n//import { Field, reduxForm } from 'redux-form';\r\n//import renderField from 'components/FormInputs/renderField';\r\nimport {\r\n  getLocalStorage,\r\n  encrypt,\r\n  decrypt,\r\n  getIPAddress,\r\n  ZoomInAndOut,\r\n  renderMessage,\r\n  showErrorToast\r\n} from '../../common/commonFunctions';\r\nimport cube from '../../common/commonFunctions';\r\nimport {\r\n  Button,\r\n  FormGroup,\r\n  InputGroup,\r\n  FormControl,\r\n  Nav,\r\n  NavItem\r\n} from 'react-bootstrap';\r\n\r\nimport { actionUserLogin } from '../core/redux/actions';\r\nimport { actionSetStudentAsUser } from '../core/redux/actions';\r\nimport Sidebar from './sideBar';\r\n\r\nimport CONSTANTS from '../core/config/appConfig';\r\n\r\nlet validationMessages = CONSTANTS.validationMessages;\r\nlet regExpressions = CONSTANTS.regExpressions;\r\n\r\nfunction getUrlParameter(name, url) {\r\n  name = name.replace(/[\\[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\r\n  var regex = new RegExp('[\\\\?&]' + name + '=([^&#]*)');\r\n  var results = regex.exec(url);\r\n  // return results === null ? '' : decodeURIComponent(results[1].replace(/\\+/g, ''));\r\n  return results === null ? '' : decodeURIComponent(results[1]);\r\n}\r\n\r\nclass Login extends Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n    this.state = {\r\n      email: '',\r\n      password: '',\r\n      isLoading: false\r\n    };\r\n\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.getValidatorData = this.getValidatorData.bind(this);\r\n    this.getClasses = this.getClasses.bind(this);\r\n\r\n    this.validatorTypes = strategy.createSchema(\r\n      {\r\n        email: 'required|email',\r\n        password: ['required', 'regex:' + regExpressions.passwordPattern]\r\n      },\r\n      {\r\n        'required.email': validationMessages.email.required,\r\n        'email.email': validationMessages.email.invalid,\r\n        'required.password': validationMessages.password.required,\r\n        'regex.password': validationMessages.password.passwordPattern\r\n      }\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    let _this = this;\r\n    var isIE = /*@cc_on!@*/ false || !!document.documentMode;\r\n    var isEdge = !isIE && !!window.StyleMedia;\r\n    if (!isEdge) {\r\n      getIPAddress(function(ip) {\r\n        _this.setState({\r\n          deviceId: ip\r\n        });\r\n      });\r\n    } else {\r\n      _this.setState({\r\n        deviceId: '0.0.0.0'\r\n      });\r\n    }\r\n  }\r\n\r\n  componentWillMount() {}\r\n\r\n  getValidatorData = () => {\r\n    return this.state;\r\n  };\r\n\r\n  getClasses = field => {\r\n    return classnames({\r\n      error: !this.props.isValid(field)\r\n    });\r\n  };\r\n\r\n  handleChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  validateData = () => {\r\n    let self = this;\r\n    this.props.validate(function(error) {\r\n      if (!error) {\r\n        self.setState({ isLoading: true });\r\n        self.handleSubmit();\r\n      }\r\n    });\r\n  };\r\n\r\n  submitData = event => {\r\n    if (event.key === 'Enter') {\r\n      event.preventDefault();\r\n      this.validateData();\r\n    }\r\n  };\r\n\r\n  handleSubmit() {\r\n    let self = this;\r\n    let email = null;\r\n    let password = null;\r\n    let url = this.state.matchUrl || this.props.match.url;\r\n    let groupId = null;\r\n\r\n    if (\r\n      this.props.match.url.indexOf('/autoLogin/') >= 0 &&\r\n      this.props.match.params &&\r\n      this.props.match.params.user &&\r\n      this.props.match.params.pass\r\n    ) {\r\n      email = this.props.match.params.user.trim();\r\n      password = this.props.match.params.pass.trim();\r\n    } else if (\r\n      this.props.match.url.indexOf('/recommendation/') >= 0 &&\r\n      this.props.match.params.email &&\r\n      this.props.match.params.pass &&\r\n      this.props.match.params.pass !== 'null'\r\n    ) {\r\n      email = this.props.match.params.email.toLowerCase().trim();\r\n      password = this.props.match.params.pass.trim();\r\n    } else if (\r\n      this.props.match.url.indexOf('/previewprofile/') >= 0 &&\r\n      this.props.match.params.email &&\r\n      this.props.match.params.pass &&\r\n      this.props.match.params.pass !== 'null'\r\n    ) {\r\n      email = this.props.match.params.email.toLowerCase().trim();\r\n      password = this.props.match.params.pass.trim();\r\n    } else if (url.indexOf('/joingroup') >= 0) {\r\n      let search = this.state.search\r\n        ? this.state.search\r\n        : this.props.location.search;\r\n      let parsedGroupId = getUrlParameter('groupId', search);\r\n      let parsedEmail = getUrlParameter('email', search);\r\n      let parsedPass = getUrlParameter('pass', search);\r\n      if (parsedEmail && parsedPass && parsedPass !== 'null') {\r\n        groupId = parsedGroupId;\r\n        email = parsedEmail.toLowerCase().trim();\r\n        password = parsedPass.trim();\r\n      } else if (parsedGroupId) {\r\n        groupId = parsedGroupId;\r\n        email = this.state.email.toLowerCase().trim();\r\n        password = encrypt(this.state.password.trim());\r\n      }\r\n    } else {\r\n      email = this.state.email.toLowerCase().trim();\r\n      password = encrypt(this.state.password.trim());\r\n    }\r\n\r\n    let deviceId = this.state.deviceId;\r\n\r\n    let data = {\r\n      email,\r\n      password,\r\n      deviceId\r\n    };\r\n\r\n    this.props\r\n      .actionUserLogin(data)\r\n      .then(response => {\r\n        console.log(response);\r\n        if (response.payload && response.payload.data.status === 'Success') {\r\n          self.setState({ isLoading: false });\r\n          const userResponse = response.payload.data.result;\r\n          if (userResponse && userResponse.token) {\r\n            if (userResponse.roleId === 1)\r\n              self.props.history.push('/user/profile');\r\n            else if (userResponse.roleId === 2)\r\n              self.props.history.push('/interviewer/interviewerProfile');\r\n            else if (userResponse.roleId === 3)\r\n              self.props.history.push('/recruiter/jobDesription');\r\n            else if (userResponse.roleId === 4)\r\n              self.props.history.push('/admin/candidate');\r\n          }\r\n        } else {\r\n          self.setState({ isLoading: false, password: '' });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        self.setState({\r\n          isLoading: false,\r\n          password: ''\r\n        });\r\n        console.log('err', error);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { isLoading } = this.state;\r\n    return (\r\n      <div className=\"wrapper\">\r\n        <ToastContainer\r\n          autoClose={5000}\r\n          className=\"custom-toaster-main-cls\"\r\n          toastClassName=\"custom-toaster-bg\"\r\n          transition={ZoomInAndOut}\r\n        />\r\n        <div className=\"main-panel\">\r\n          <div className=\"banner\">\r\n            <div className=\"overlay\"></div>\r\n            <div className=\"banner-content\">\r\n              <div className=\"container\">\r\n                <p className=\"\">\r\n                  <strong>\r\n                    Reset your password by filling in your email address. You\r\n                    will then receive an email with new password.\r\n                  </strong>\r\n                </p>{' '}\r\n              </div>\r\n              <div className=\"login_card\">\r\n                <div className=\"header forgotPasswordForm bg-transparent\">\r\n                  <h4 className=\"h4login\">\r\n                    {' '}\r\n                    <legend className=\"color-blue mb-0\">Login</legend>\r\n                  </h4>\r\n                </div>\r\n                <div className=\"content\">\r\n                  <form className=\"form-horizontal\">\r\n                    <div className=\"form-group\">\r\n                      <label className=\"col-md-3 control-label\">Email</label>\r\n                      <div className=\"col-md-9\">\r\n                        <FormGroup className={this.getClasses('email')}>\r\n                          {/* <InputGroup.Addon>\r\n                        <span className=\"icon-email\" />\r\n                      </InputGroup.Addon> */}\r\n                          <FormControl\r\n                            type=\"email\"\r\n                            placeholder=\"Email\"\r\n                            name=\"email\"\r\n                            value={this.state.email}\r\n                            onChange={this.handleChange}\r\n                            autoComplete=\"off\"\r\n                          />\r\n                          {renderMessage(\r\n                            this.props.getValidationMessages('email')\r\n                          )}\r\n                        </FormGroup>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      <label className=\"col-md-3 control-label\">Password</label>\r\n                      <div className=\"col-md-9\">\r\n                        <FormGroup className={this.getClasses('password')}>\r\n                          {/* <InputGroup.Addon>\r\n                        <span className=\"icon-password\" />\r\n                      </InputGroup.Addon> */}\r\n                          <FormControl\r\n                            type=\"password\"\r\n                            placeholder=\"Password\"\r\n                            name=\"password\"\r\n                            value={this.state.password}\r\n                            onChange={this.handleChange}\r\n                            autoComplete=\"off\"\r\n                            onKeyPress={this.submitData}\r\n                          />\r\n\r\n                          {renderMessage(\r\n                            this.props.getValidationMessages('password')\r\n                          )}\r\n                        </FormGroup>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      <label className=\"col-md-3\"></label>\r\n                      <div className=\"col-md-9\">\r\n                        <Link to=\"/forgot\" className=\"forgotPass\">\r\n                          Forgot Password?\r\n                        </Link>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                      <label className=\"col-md-3\"></label>\r\n                      <div className=\"col-md-9\">\r\n                        <FormGroup>\r\n                          <Button\r\n                            bsStyle=\"primary\"\r\n                            className=\"centeredBtn btn-lg\"\r\n                            disabled={isLoading}\r\n                            onClick={!isLoading ? this.validateData : null}\r\n                          >\r\n                            {isLoading ? 'Checking Credentials...' : 'Sign In'}\r\n                          </Button>\r\n                        </FormGroup>\r\n                        <Link\r\n                          style={{\r\n                            position: 'absolute',\r\n                            right: '20px',\r\n                            bottom: '107px'\r\n                          }}\r\n                          to={{\r\n                            pathname: '/signup',\r\n                            state: {\r\n                              eventKey: 2\r\n                            }\r\n                          }}\r\n                        >\r\n                          {' '}\r\n                          Register\r\n                        </Link>\r\n                        {/* <a style={{position :'absolute',right:'65px',bottom: '10px'}} href=\"https://theRapidHiremediastorage.blob.core.windows.net/theRapidHire-media-production/sv_1/PrivacyPolicy.html\" target=\"_blank\">\r\n              Terms and Condition\r\n            </a> */}\r\n                      </div>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </div>{' '}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return bindActionCreators(\r\n    { actionUserLogin, actionSetStudentAsUser },\r\n    dispatch\r\n  );\r\n};\r\n\r\nLogin = validation(strategy)(Login);\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(Login);\r\n"]},"metadata":{},"sourceType":"module"}